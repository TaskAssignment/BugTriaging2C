projectId	number	author	createdAt	labels	title	title_numberOfWords	body	body_numberOfWords
8514	3	niquola	2009-04-28T12:01:59.000Z	[actionpack]	status 500 internal-server-error private method split called for mime type in	11	when request with headers accept application json application javascript content-type application json x-requested-with xmlhttprequest we get on server status 500 internal-server-error private method split called for # mime type 0xb743a2a8 usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller mime type.rb 206 in method-missing usr lib rubygems 1.8 gems rack-1.0.0 lib rack request.rb 51 in media-type usr lib rubygems 1.8 gems rack-1.0.0 lib rack request.rb 117 in parseable data usr lib rubygems 1.8 gems rack-1.0.0 lib rack request.rb 138 in post usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller request.rb 428 in request parameters usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller request.rb 381 in parameters usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller base.rb 1279 in assign shortcuts usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller base.rb 518 in process without filters usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller filters.rb 606 in sass old process usr lib rubygems 1.8 gems haml-2.0.9 libsass plugin rails.rb 19 in process usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller rescue.rb 65 in call with exception usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller dispatcher.rb 91 in dispatch usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller dispatcher.rb 111 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller dispatcher.rb 82 in initialize usr lib rubygems 1.8 gems activerecord-2.3.2 lib active-record-query cache.rb 29 in call usr lib rubygems 1.8 gems activerecord-2.3.2 lib active-record-query cache.rb 29 in call usr lib rubygems 1.8 gems activerecord-2.3.2 lib activerecord connection adapters abstract query cache.rb 34 in cache usr lib rubygems 1.8 gems activerecord-2.3.2 lib active-record-query cache.rb 9 in cache usr lib rubygems 1.8 gems activerecord-2.3.2 lib active-record-query cache.rb 28 in call usr lib rubygems 1.8 gems activerecord-2.3.2 lib activerecord connection adapters abstract connection pool.rb 361 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack head.rb 9 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack methodoverride.rb 24 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller params parser.rb 15 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller rewindable input.rb 25 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller session cookie store.rb 93 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller reloader.rb 9 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller failsafe.rb 11 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack lock.rb 11 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack lock.rb 11 in synchronize usr lib rubygems 1.8 gems rack-1.0.0 lib rack lock.rb 11 in call usr lib rubygems 1.8 gems actionpack-2.3.2 lib actioncontroller dispatcher.rb 106 in call usr lib rubygems 1.8 gems rails-2.3.2 lib rails rack static.rb 31 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack urlmap.rb 46 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack urlmap.rb 40 in each usr lib rubygems 1.8 gems rack-1.0.0 lib rack urlmap.rb 40 in call usr lib rubygems 1.8 gems rails-2.3.2 lib rails rack log tailer.rb 17 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack content length.rb 13 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack chunked.rb 15 in call usr lib rubygems 1.8 gems rack-1.0.0 lib rack handler mongrel.rb 61 in process usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 159 in process client usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 158 in each usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 158 in process client usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 285 in run usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 285 in initialize usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 285 in new usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 285 in run usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 268 in initialize usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 268 in new usr lib rubygems 1.8 gems mongrel-1.1.5 lib mongrel.rb 268 in run usr lib rubygems 1.8 gems rack-1.0.0 lib rack handler mongrel.rb 34 in run usr lib rubygems 1.8 gems rails-2.3.2 lib commands server.rb 111 usr locallib site ruby-1.8 rubygems custom require.rb 31 in gem original require usr locallib site ruby-1.8 rubygems custom require.rb 31 in require script server 3	685
507775	2	kimchy	2010-02-10T22:10:55.000Z	[feature;;v0.05.0]	discovery support local jvm level discovery	6	allow to have a jvm well actually classloader level discovery for simple testing embedding of a single node which potentially exists with other nodes in the same classloader . enable it using discovery type local or using node local true which will also enable other modules to be local such as the transport - once we have that...	58
507775	3	kimchy	2010-02-11T17:28:41.000Z	[feature;;v0.05.0]	transport support local jvm level transport	6	allow to have a jvm well actually classloader level transport for simple testing embedding of a single node which potentially exists with other nodes in the same classloader . enable it using transport type local or using node local true which will also enable other modules to be local such as the discovery	53
507775	4	simonw	2010-02-11T17:51:37.000Z	[]	any plans to add geospatial search	6	it would be incredibly useful to be able to index documents with latitude-longitude positions and run searches that return results ordered by distance from a specific latitude-longitude point	28
507775	12	kimchy	2010-02-15T08:23:23.000Z	[enhancement;;v0.05.0]	create mapping api automatically create indices	6	in a similar manner that the index operation automatically create the index the mapping api should do the same this can be disable using the setting action.autocreateindex .	28
507775	17	kimchy	2010-02-16T08:17:46.000Z	[enhancement;;v0.05.0]	count api also accepts count uri to search over all indices	11	you can do it now with all count but its nicer to just do count	15
507775	18	hubgit	2010-02-16T13:23:02.000Z	[docs]	documentation error object-type mapping json	5	in http://www.elasticsearch.com docs elasticsearch-mapping object-type there are a few occurrences of type object which should be type object	18
507775	21	kimchy	2010-02-16T19:47:05.000Z	[feature;;v0.05.0]	terms api allow to get terms for one or more field	11	getting terms from one or more indices and their document frequency the number of time those terms appear in a document is very handy for example implementing tag clouds or providing basic autosuggest search-box there should be several options for this api including sorting by term lex or doc freq bounding size from to inclusive or not minmax freq prefix and regexp filtering the rest api should be index terms	70
507775	23	kimchy	2010-02-17T17:48:51.000Z	[feature;;v0.05.0]	search api set different boost for indices when searching across indices	11	have the ability to set different boost values per index when searching across indices this comes in handy for example when each twitter user has an index and his friends count more than the rest of the indices the parameter is a url parameter called indicesboost and for example indicesboost indexname1 2 indexname2 3.1	54
507775	24	clintongormley	2010-02-18T12:05:16.000Z	[bug;;v0.05.0]	changing fieldtype with create mapping just hides the error	9	easier to give an example than to explain - on a new cluster ie no indices no mappings - index a document with eg foo 123 # sets type of foo to int - index a doc with foo bar # throws an error - create a mapping and set foo s type to string - index the doc with foo bar # ok - search for term foo 123 # 1 hit - search for term foo bar # no hits so setting the mapping doesn t change the type of foo it just hides the error message later on this seems inconsistent to me - it should either change the type of foo going forward or throw an error when you try to change the type with create mapping logfile follows curl -xput http://127.0.0.2 9200 twitter tweet 1 -d foo 123 # # ok true # index twitter # id 1 # type tweet # curl -xput http://127.0.0.2 9200 twitter tweet 2 -d foo bar # # debug # at # classname java.lang.thread # methodname run # filename thread.java # linenumber 619 # # cause # at # classname java.lang.thread # methodname run # filename thread.java # linenumber 619 # # message current token value string not numeric c # an not use numeric value accessors n at source n # # message index twitter shard 1 # # error index twitter shard 1 nested failed to parse # nested current token value string not numeric can not use # curl -xput http://127.0.0.2 9200 all tweet mapping -d properties foo type string # # ok true # curl -xput http://127.0.0.2 9200 twitter tweet 2 -d foo bar # # ok true # index twitter # id 2 # type tweet # curl -xget http://127.0.0.2 9200 twitter tweet search -d query term foo 123 # # hits # hits # total 0 # # shards # failed 0 # successful 5 # total 5 # # curl -xget http://127.0.0.2 9200 twitter tweet search -d query term foo bar # # hits # hits # total 0 # # shards # failed 5 # successful 0 # total 5 # #	361
507775	25	clintongormley	2010-02-18T14:17:52.000Z	[bug;;v0.05.0]	nullpointerexceptions when flushing an index	5	hiya i m running a test-suite against a localserver started as . bin elasticsearch -f i m getting nullpointerexceptions if i create an index flush the indices then delete the index without sleeping after the flush shouldn t flush refresh optimize etc block until the action is complete or is there some way of asking the cluster are you ready now ta clint . bin elasticsearch -f 15 04 00 872 info server doe john elasticsearch 0.5.0 2010-02-18t13 42 47 dev initializing ... 15 04 02 663 info server doe john elasticsearch 0.5.0 2010-02-18t13 42 47 dev initialized 15 04 02 663 info server doe john elasticsearch 0.5.0 2010-02-18t13 42 47 dev starting ... 15 04 02 755 info transport doe john boundaddress inet 0.0.0.0 9300 publishaddress inet 127.0.0.2 9300 15 04 02 771 warn jgroups.udp send buffer of socket java.net.datagramsocket@1faac07d was set to 640kb but the os only allocated 131.07kb this might lead to performance problems please set your max send buffer in the os correctly e.g net.core.wmem max on linux 15 04 02 771 warn jgroups.udp receive buffer of socket java.net.datagramsocket@1faac07d was set to 20mb but the os only allocated 131.07kb this might lead to performance problems please set your max receive buffer in the os correctly e.g net.core.rmem max on linux 15 04 02 771 warn jgroups.udp send buffer of socket java.net.multicastsocket@2259a735 was set to 640kb but the os only allocated 131.07kb this might lead to performance problems please set your max send buffer in the os correctly e.g net.core.wmem max on linux 15 04 02 771 warn jgroups.udp receive buffer of socket java.net.multicastsocket@2259a735 was set to 25mb but the os only allocated 131.07kb this might lead to performance problems please set your max receive buffer in the os correctly e.g net.core.rmem max on linux 15 04 04 814 info cluster doe john new master doe john getafix-2590 data inet 127.0.0.2 9300 15 04 04 882 info discovery doe john elasticsearch getafix-2590 15 04 04 901 info http doe john boundaddress inet 0.0.0.0 9200 publishaddress inet 127.0.0.2 9200 15 04 05 140 info jmx doe john boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 127.0.0.2 9400 jmxrmi 15 04 05 140 info server doe john elasticsearch 0.5.0 2010-02-18t13 42 47 dev started 15 04 06 516 info cluster.metadata doe john creating index es test 2 shards 3 1 15 04 06 992 info cluster.metadata doe john deleting index es test 2 exception in thread elasticsearch doe john clusterservice#updatetask-pool-6-thread-1 java.lang.nullpointerexception at org.elasticsearch.cluster.action.shard.shardstateaction 4.execute shardstateaction.java 129 at org.elasticsearch.cluster.defaultclusterservice 2.run defaultclusterservice.java 161 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 exception in thread elasticsearch doe john clusterservice#updatetask-pool-6-thread-2 java.lang.nullpointerexception at org.elasticsearch.cluster.action.shard.shardstateaction 4.execute shardstateaction.java 129 at org.elasticsearch.cluster.defaultclusterservice 2.run defaultclusterservice.java 161 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 exception in thread elasticsearch doe john clusterservice#updatetask-pool-6-thread-3 java.lang.nullpointerexception at org.elasticsearch.cluster.action.shard.shardstateaction 4.execute shardstateaction.java 129 at org.elasticsearch.cluster.defaultclusterservice 2.run defaultclusterservice.java 161 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 test script curl -xget http://127.0.0.1 9200 cluster nodes # # clustername elasticsearch # nodes # getafix-2590 # httpaddress inet 127.0.0.2 9200 # datanode true # transportaddress inet getafix.traveljury.com 127.0 # 0.2 9300 # name doe john # # # curl -xput http://127.0.0.2 9200 es test 2 -d index numberofreplicas 1 numberofshards 3 # # ok true # curl -xpost http://127.0.0.2 9200 flush # # ok true # shards # failed 6 # successful 0 # total 6 # # curl -xdelete http://127.0.0.2 9200 es test 2 # # ok true # curl -xget http://127.0.0.2 9200 es test 2 status # # debug # at # classname java.lang.thread # methodname run # filename thread.java # linenumber 619 # # message index es test 2 missing # # error index es test 2 missing #	639
507775	26	clintongormley	2010-02-18T16:44:02.000Z	[enhancement;;v0.05.0]	accept 1 0 as true false	6	hiya when you have boolean parameters eg explain true please could you accept any truthy value eg 1 as for dynamic-languages the user has to go to great lengths to force a boolean true in json thanks clint	38
507775	27	clintongormley	2010-02-19T16:11:43.000Z	[bug;;v0.05.0]	jsonobject properties are not positional	5	hiya it looks like you are parsing json as a stream where position matters instead of parsing the whole objects before analysing them for instance this works curl -xget http://127.0.0.2 9200 all search -d query filteredquery query term text foo filter range num from 10 to 20 but this fails curl -xget http://127.0.0.2 9200 all search -d query filteredquery filter range num to 20 from 10 query term text foo a json parser should consider these two structures to be identical which is also the thing that rules out having non-unique property names thanks clint edited to correct json	99
507775	28	clintongormley	2010-02-19T17:56:37.000Z	[bug;;v0.05.0]	facet query crashes the cluster	5	hiya in my test script i create two indices then add 28 documents then try searching on those when i get to the final facets query the cluster never responds and then remains unresponsive to all further queries one of the nodes balloons to 631mb of resident memory - i presume this is some sort of max allowed by java then when closing down the nodes two close down fine and the third throws exceptions like the ones listed below test script see bottom for facets query curl -xget http://127.0.0.1 9200 cluster nodes # # clustername elasticsearch # nodes # getafix-10912 # httpaddress inet 127.0.0.2 9200 # datanode true # transportaddress inet getafix.traveljury.com 127.0 # 0.2 9300 # name ameridroid # # getafix-62342 # httpaddress inet 127.0.0.2 9201 # datanode true # transportaddress inet getafix.traveljury.com 127.0 # 0.2 9302 # name super sabre # # getafix-27084 # httpaddress inet 127.0.0.2 9202 # datanode true # transportaddress inet getafix.traveljury.com 127.0 # 0.2 9301 # name shadow slasher # # # curl -xput http://127.0.0.2 9201 es test -d # # ok true # curl -xput http://127.0.0.2 9201 es test 2 -d # # ok true # curl -xpost http://127.0.0.2 9201 flush refresh true # # ok true # shards # failed 0 # successful 20 # total 20 # # curl -xput http://127.0.0.2 9201 es test type 1 1 optype create -d num 2 text foo # # ok true # index es test # id 1 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 2 optype create -d num 3 text foo # # ok true # index es test # id 2 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 3 optype create -d num 4 text foo # # ok true # index es test 2 # id 3 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 4 optype create -d num 5 text foo # # ok true # index es test 2 # id 4 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 5 optype create -d num 6 text foo bar # # ok true # index es test # id 5 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 6 optype create -d num 7 text foo bar # # ok true # index es test # id 6 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 7 optype create -d num 8 text foo bar # # ok true # index es test 2 # id 7 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 8 optype create -d num 9 text foo bar # # ok true # index es test 2 # id 8 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 9 optype create -d num 10 text foo bar baz # # ok true # index es test # id 9 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 10 optype create -d num 11 text foo bar baz # # ok true # index es test # id 10 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 11 optype create -d num 12 text foo bar baz # # ok true # index es test 2 # id 11 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 12 optype create -d num 13 text foo bar baz # # ok true # index es test 2 # id 12 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 13 optype create -d num 14 text bar baz # # ok true # index es test # id 13 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 14 optype create -d num 15 text bar baz # # ok true # index es test # id 14 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 15 optype create -d num 16 text bar baz # # ok true # index es test 2 # id 15 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 16 optype create -d num 17 text bar baz # # ok true # index es test 2 # id 16 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 17 optype create -d num 18 text baz # # ok true # index es test # id 17 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 18 optype create -d num 19 text baz # # ok true # index es test # id 18 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 19 optype create -d num 20 text baz # # ok true # index es test 2 # id 19 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 20 optype create -d num 21 text baz # # ok true # index es test 2 # id 20 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 21 optype create -d num 22 text bar # # ok true # index es test # id 21 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 22 optype create -d num 23 text bar # # ok true # index es test # id 22 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 23 optype create -d num 24 text bar # # ok true # index es test 2 # id 23 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 24 optype create -d num 25 text bar # # ok true # index es test 2 # id 24 # type type 2 # curl -xput http://127.0.0.2 9201 es test type 1 25 optype create -d num 26 text foo baz # # ok true # index es test # id 25 # type type 1 # curl -xput http://127.0.0.2 9201 es test type 2 26 optype create -d num 27 text foo baz # # ok true # index es test # id 26 # type type 2 # curl -xput http://127.0.0.2 9201 es test 2 type 1 27 optype create -d num 28 text foo baz # # ok true # index es test 2 # id 27 # type type 1 # curl -xput http://127.0.0.2 9201 es test 2 type 2 28 optype create -d num 29 text foo baz # # ok true # index es test 2 # id 28 # type type 2 # curl -xpost http://127.0.0.2 9201 flush refresh true # # ok true # shards # failed 0 # successful 20 # total 20 # # curl -xget http://127.0.0.2 9201 all search -d query matchall # # hits # hits # # source # num 4 # text foo # # fields # index es test 2 # id 3 # type type 1 # # # source # num 5 # text foo # # fields # index es test 2 # id 4 # type type 2 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 21 # text baz # # fields # index es test 2 # id 20 # type type 2 # # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 7 # text foo bar # # index es test # id 6 # type type 2 # # # source # num 2 # text foo # # fields # index es test # id 1 # type type 1 # # # source # num 11 # text foo bar baz # # index es test # id 10 # type type 2 # # # source # num 22 # text bar # # index es test # id 21 # type type 1 # # # source # num 10 # text foo bar baz # # index es test # id 9 # type type 1 # # # total 28 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search -d query matchall size 100 # # hits # hits # # source # num 5 # text foo # # index es test 2 # id 4 # type type 2 # # # source # num 7 # text foo bar # # fields # index es test # id 6 # type type 2 # # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 11 # text foo bar baz # # fields # index es test # id 10 # type type 2 # # # source # num 4 # text foo # # fields # index es test 2 # id 3 # type type 1 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 21 # text baz # # index es test 2 # id 20 # type type 2 # # # source # num 2 # text foo # # index es test # id 1 # type type 1 # # # source # num 6 # text foo bar # # fields # index es test # id 5 # type type 1 # # # source # num 8 # text foo bar # # index es test 2 # id 7 # type type 1 # # # source # num 12 # text foo bar baz # # fields # index es test 2 # id 11 # type type 1 # # # source # num 10 # text foo bar baz # # fields # index es test # id 9 # type type 1 # # # source # num 20 # text baz # # fields # index es test 2 # id 19 # type type 1 # # # source # num 22 # text bar # # fields # index es test # id 21 # type type 1 # # # source # num 16 # text bar baz # # index es test 2 # id 15 # type type 1 # # # source # num 23 # text bar # # fields # index es test # id 22 # type type 2 # # # source # num 14 # text bar baz # # fields # index es test # id 13 # type type 1 # # # source # num 13 # text foo bar baz # # fields # index es test 2 # id 12 # type type 2 # # # source # num 18 # text baz # # fields # index es test # id 17 # type type 1 # # # source # num 24 # text bar # # fields # index es test 2 # id 23 # type type 1 # # # source # num 17 # text bar baz # # index es test 2 # id 16 # type type 2 # # # source # num 15 # text bar baz # # fields # index es test # id 14 # type type 2 # # # source # num 19 # text baz # # fields # index es test # id 18 # type type 2 # # # source # num 25 # text bar # # fields # index es test 2 # id 24 # type type 2 # # # source # num 26 # text foo baz # # fields # index es test # id 25 # type type 1 # # # source # num 28 # text foo baz # # index es test 2 # id 27 # type type 1 # # # source # num 27 # text foo baz # # fields # index es test # id 26 # type type 2 # # # source # num 29 # text foo baz # # index es test 2 # id 28 # type type 2 # # # total 28 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search searchtype query then fetch -d query matchall # # hits # hits # # source # num 4 # text foo # # fields # index es test 2 # id 3 # type type 1 # # # source # num 5 # text foo # # fields # index es test 2 # id 4 # type type 2 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 21 # text baz # # fields # index es test 2 # id 20 # type type 2 # # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 7 # text foo bar # # index es test # id 6 # type type 2 # # # source # num 2 # text foo # # fields # index es test # id 1 # type type 1 # # # source # num 11 # text foo bar baz # # index es test # id 10 # type type 2 # # # source # num 22 # text bar # # index es test # id 21 # type type 1 # # # source # num 10 # text foo bar baz # # index es test # id 9 # type type 1 # # # total 28 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search searchtype query and fetch -d query matchall # # hits # hits # # source # num 5 # text foo # # index es test 2 # id 4 # type type 2 # # # source # num 7 # text foo bar # # fields # index es test # id 6 # type type 2 # # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 11 # text foo bar baz # # fields # index es test # id 10 # type type 2 # # # source # num 4 # text foo # # fields # index es test 2 # id 3 # type type 1 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 21 # text baz # # index es test 2 # id 20 # type type 2 # # # source # num 2 # text foo # # index es test # id 1 # type type 1 # # # source # num 6 # text foo bar # # fields # index es test # id 5 # type type 1 # # # source # num 8 # text foo bar # # index es test 2 # id 7 # type type 1 # # # source # num 12 # text foo bar baz # # fields # index es test 2 # id 11 # type type 1 # # # source # num 10 # text foo bar baz # # fields # index es test # id 9 # type type 1 # # # source # num 20 # text baz # # fields # index es test 2 # id 19 # type type 1 # # # source # num 22 # text bar # # fields # index es test # id 21 # type type 1 # # # source # num 16 # text bar baz # # index es test 2 # id 15 # type type 1 # # # source # num 23 # text bar # # fields # index es test # id 22 # type type 2 # # # source # num 14 # text bar baz # # fields # index es test # id 13 # type type 1 # # # source # num 13 # text foo bar baz # # fields # index es test 2 # id 12 # type type 2 # # # source # num 18 # text baz # # fields # index es test # id 17 # type type 1 # # # source # num 24 # text bar # # fields # index es test 2 # id 23 # type type 1 # # # source # num 17 # text bar baz # # index es test 2 # id 16 # type type 2 # # # source # num 15 # text bar baz # # fields # index es test # id 14 # type type 2 # # # source # num 19 # text baz # # fields # index es test # id 18 # type type 2 # # # source # num 25 # text bar # # fields # index es test 2 # id 24 # type type 2 # # # source # num 26 # text foo baz # # fields # index es test # id 25 # type type 1 # # # source # num 28 # text foo baz # # index es test 2 # id 27 # type type 1 # # # source # num 27 # text foo baz # # fields # index es test # id 26 # type type 2 # # # source # num 29 # text foo baz # # index es test 2 # id 28 # type type 2 # # # total 28 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search -d query term text foo # # hits # hits # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 5 # text foo # # fields # index es test 2 # id 4 # type type 2 # # # source # num 4 # text foo # # fields # index es test 2 # id 3 # type type 1 # # # source # num 6 # text foo bar # # fields # index es test # id 5 # type type 1 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 7 # text foo bar # # index es test # id 6 # type type 2 # # # source # num 8 # text foo bar # # fields # index es test 2 # id 7 # type type 1 # # # source # num 26 # text foo baz # # index es test # id 25 # type type 1 # # # source # num 28 # text foo baz # # fields # index es test 2 # id 27 # type type 1 # # # source # num 27 # text foo baz # # index es test # id 26 # type type 2 # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search -d query querystring defaultfield text query foo or bar # # hits # hits # # source # num 6 # text foo bar # # fields # index es test # id 5 # type type 1 # # # source # num 8 # text foo bar # # index es test 2 # id 7 # type type 1 # # # source # num 7 # text foo bar # # fields # index es test # id 6 # type type 2 # # # source # num 9 # text foo bar # # fields # index es test 2 # id 8 # type type 2 # # # source # num 10 # text foo bar baz # # fields # index es test # id 9 # type type 1 # # # source # num 11 # text foo bar baz # # fields # index es test # id 10 # type type 2 # # # source # num 12 # text foo bar baz # # fields # index es test 2 # id 11 # type type 1 # # # source # num 13 # text foo bar baz # # fields # index es test 2 # id 12 # type type 2 # # # source # num 3 # text foo # # fields # index es test # id 2 # type type 2 # # # source # num 5 # text foo # # index es test 2 # id 4 # type type 2 # # # total 24 # # shards # failed 0 # successful 10 # total 10 # # curl -xget http://127.0.0.2 9201 all search -d query querystring defaultfield text query foo or bar facets barfacet query term text bar bazfacet query term text baz # 500 server closed connection without sending any data back node errors 18 51 56 987 info server super sabre elasticsearch 0.5.0 2010-02-19t12 32 15 dev closing ... 18 52 06 995 info server super sabre elasticsearch 0.5.0 2010-02-19t12 32 15 dev closed 18 52 06 998 warn indices.cluster super sabre failed to start shard for index es test 2 and shard id 0 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 0 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more 18 52 06 999 warn indices.cluster super sabre failed to start shard for index es test and shard id 2 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more 18 52 06 998 warn indices.cluster super sabre failed to start shard for index es test 2 and shard id 3 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 3 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more 18 52 07 003 warn cluster.action.shard super sabre sending failed shard for es test 2 3 node getafix-62342 b s initializing 18 52 07 001 warn cluster.action.shard super sabre sending failed shard for es test 2 0 node getafix-62342 b s initializing 18 52 07 004 warn indices.cluster super sabre failed to mark shard as failed after a failed start for index es test 2 and shard id 0 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 0 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more 18 52 07 002 warn cluster.action.shard super sabre sending failed shard for es test 2 node getafix-62342 b s initializing 18 52 07 005 warn indices.cluster super sabre failed to mark shard as failed after a failed start for index es test and shard id 2 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more 18 52 07 004 warn indices.cluster super sabre failed to mark shard as failed after a failed start for index es test 2 and shard id 3 org.elasticsearch.index.shard.recovery.recoveryfailedexception index shard es test 2 3 recovery failed from shadow slasher getafix-27084 data inet getafix.traveljury.com 127.0.0.2 9301 into super sabre getafix-62342 data inet getafix.traveljury.com 127.0.0.2 9302 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 154 at org.elasticsearch.indices.cluster.indicesclusterstateservice 3.run indicesclusterstateservice.java 325 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by org.elasticsearch.elasticsearchinterruptedexception at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 97 at org.elasticsearch.transport.plaintransportfuture.txget plaintransportfuture.java 34 at org.elasticsearch.index.shard.recovery.recoveryaction.startrecovery recoveryaction.java 124 ... 4 more	4438
507775	29	clintongormley	2010-02-19T18:51:14.000Z	[bug;;v0.05.0]	new nodes not joining the cluster properly	7	i start one node insert various documents run some queries - i get the correct results i start a new node and wait for it to settle even running optimize flush refresh when rerunning the same queries i get different totals and fewer hits returned eg instead of the default 10 i may get 4 or 5 killing the other nodes and rerunning the queries returns the correct results ta clint	71
507775	30	clintongormley	2010-02-19T19:08:11.000Z	[enhancement;;v0.05.0]	query.sort should be an array not an object	8	because json doesn t take order into account sort should be an array not an object for instance sort postdate reverse true user score is the equivalent of sort score user postdate reverse true instead perhaps this syntax sort score user postdate reverse true clint	45
507775	32	clintongormley	2010-02-19T20:14:28.000Z	[bug;;v0.05.0]	sorting on a textfield hangs	5	sort textfield just hangs - no response doesn t matter if i create an explicit mapping or not or search on one index type combination or all test script curl -xget http://127.0.0.1 9200 cluster nodes curl -xdelete http://127.0.0.2 9200 es test curl -xdelete http://127.0.0.2 9200 es test 2 curl -xpost http://127.0.0.2 9200 flush refresh true curl -xput http://127.0.0.2 9200 es test curl -xput http://127.0.0.2 9200 es test 2 curl -xpost http://127.0.0.2 9200 flush refresh true curl -xput http://127.0.0.2 9200 es test type 1 1 optype create -d num 2 text foo curl -xput http://127.0.0.2 9200 es test type 2 2 optype create -d num 3 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 optype create -d num 4 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 optype create -d num 5 text foo curl -xput http://127.0.0.2 9200 es test type 1 5 optype create -d num 6 text foo bar curl -xput http://127.0.0.2 9200 es test type 2 6 optype create -d num 7 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 optype create -d num 8 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 optype create -d num 9 text foo bar curl -xput http://127.0.0.2 9200 es test type 1 9 optype create -d num 10 text foo bar baz curl -xput http://127.0.0.2 9200 es test type 2 10 optype create -d num 11 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 optype create -d num 12 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 optype create -d num 13 text foo bar baz curl -xput http://127.0.0.2 9200 es test type 1 13 optype create -d num 14 text bar baz curl -xput http://127.0.0.2 9200 es test type 2 14 optype create -d num 15 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 optype create -d num 16 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 optype create -d num 17 text bar baz curl -xput http://127.0.0.2 9200 es test type 1 17 optype create -d num 18 text baz curl -xput http://127.0.0.2 9200 es test type 2 18 optype create -d num 19 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 optype create -d num 20 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 optype create -d num 21 text baz curl -xput http://127.0.0.2 9200 es test type 1 21 optype create -d num 22 text bar curl -xput http://127.0.0.2 9200 es test type 2 22 optype create -d num 23 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 optype create -d num 24 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 optype create -d num 25 text bar curl -xput http://127.0.0.2 9200 es test type 1 25 optype create -d num 26 text foo baz curl -xput http://127.0.0.2 9200 es test type 2 26 optype create -d num 27 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 optype create -d num 28 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 optype create -d num 29 text foo baz curl -xpost http://127.0.0.2 9200 flush refresh true curl -xget http://127.0.0.2 9200 all search -d sort text query matchall	575
507775	34	kimchy	2010-02-21T20:56:27.000Z	[feature;;v0.05.0]	mapping overhaul - more user-friendly cluster aware	7	1 when adding mapping definitions they are now merged with the current mapping definitions duplicates are silently ignore unless specified in the put mapping api http param ignoreduplicates set to false . note duplicates refer only to field mapping object mapping are recursively checked 2 mappings definitions are now clustered up until now when creating mapping the mappings were not merged see point 1 but they were broadcasted to the cluster but when a document indexed resulted in updated mapping this fact was lost now this changed mapping are updated on the master and merged and broadcasted to the whole cluster which means all the different nodes will know about the new types introduced almost immediately	116
507775	36	kimchy	2010-02-22T18:07:56.000Z	[enhancement;;v0.05.0]	gateway store cluster metadata in json and not binary	9	makes things much easier to debug tinker with and support for backward compatibility sadly this will break backward compatibility	19
507775	37	clintongormley	2010-02-22T19:05:36.000Z	[]	terms with filters	3	for auto-suggest it would be nice to be able to ask for eg all terms with prefix sch that occur in the same document as arnold	26
507775	38	clintongormley	2010-02-22T21:02:37.000Z	[bug;;v0.05.0]	terms results differs between one node and multiple	8	hiya when i run terms queries against multiple nodes i get incorrect results with these shard failures reason broadcastshardoperationfailedexception es test 2 2 nested remotetransportexception thumb tom inet 127.0.0.2 9302 indices terms shard nested arrayindexoutofboundsexception 23 start one server then run this script it pauses to allow you to stop the server then to start 3 nodes then it shows the diff between the two runs # bin bash curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xpost http://127.0.0.2 9200 flush refresh true sleep 2 curl -xput http://127.0.0.2 9200 es test 1 type 1 1 -d num 2 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 -d num 3 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 -d num 4 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 -d num 5 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 -d num 6 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 -d num 7 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 -d num 8 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 -d num 9 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 -d num 10 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 -d num 11 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 -d num 12 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 -d num 13 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 -d num 14 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 -d num 15 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 -d num 16 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 -d num 17 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 -d num 18 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 -d num 19 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 -d num 20 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 -d num 21 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 -d num 22 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 -d num 23 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 -d num 24 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 -d num 25 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 -d num 26 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 -d num 27 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 -d num 28 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 -d num 29 text foo baz curl -xpost http://127.0.0.2 9200 flush refresh true sleep 2 curl -xput http://127.0.0.2 9200 es test 1 type 1 30 -d text foo curl -xpost http://127.0.0.2 9200 flush refresh true echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 es test 1 terms pretty true fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 es test 1 terms pretty true fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true minfreq 17 log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true minfreq 17 log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true maxfreq 16 fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 terms pretty true maxfreq 16 fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true size 2 fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 terms pretty true size 2 fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true sort freq fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 terms pretty true sort freq fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive true log 1 curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive true log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz frominclusive false log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz frominclusive false log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive false log 1 curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive false log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true prefix ba log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true prefix ba log 1 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true regexp foo baz log 1 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true regexp foo baz log 1 ######################################################################### echo now kill the current server and start 3 nodes then press enter read curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xpost http://127.0.0.2 9200 flush refresh true sleep 2 curl -xput http://127.0.0.2 9200 es test 1 type 1 1 -d num 2 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 -d num 3 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 -d num 4 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 -d num 5 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 -d num 6 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 -d num 7 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 -d num 8 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 -d num 9 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 -d num 10 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 -d num 11 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 -d num 12 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 -d num 13 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 -d num 14 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 -d num 15 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 -d num 16 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 -d num 17 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 -d num 18 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 -d num 19 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 -d num 20 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 -d num 21 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 -d num 22 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 -d num 23 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 -d num 24 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 -d num 25 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 -d num 26 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 -d num 27 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 -d num 28 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 -d num 29 text foo baz curl -xpost http://127.0.0.2 9200 flush refresh true sleep 2 curl -xput http://127.0.0.2 9200 es test 1 type 1 30 -d text foo curl -xpost http://127.0.0.2 9200 flush refresh true echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 es test 1 terms pretty true fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 es test 1 terms pretty true fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true minfreq 17 log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true minfreq 17 log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true maxfreq 16 fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 terms pretty true maxfreq 16 fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true size 2 fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 terms pretty true size 2 fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true sort freq fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 terms pretty true sort freq fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive true log 2 curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive true log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz frominclusive false log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true from baz frominclusive false log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive false log 2 curl -xget http://127.0.0.2 9200 terms pretty true to baz fields text toinclusive false log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true prefix ba log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true prefix ba log 2 echo curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true regexp foo baz log 2 curl -xget http://127.0.0.2 9200 terms pretty true fields text toinclusive true regexp foo baz log 2 echo showing diff diff -y --left-column log 1 log 2	1922
507775	39	clintongormley	2010-02-22T21:20:51.000Z	[bug;;v0.05.0]	creating a duplicate mapping throws the whole cluster	8	hiya i m starting 3 nodes then creating a mapping then creating a duplicate with ignoreduplicate false . it is sufficient to throw the whole cluster out it doesn t seem to recover run this script a few times and watch the server logs # bin bash curl -xget http://127.0.0.1 9200 cluster nodes curl -xdelete http://127.0.0.2 9202 es test 1 curl -xput http://127.0.0.2 9202 es test 1 es test 2 test mapping ignoreduplicates false -d properties num type integer text type string curl -xput http://127.0.0.2 9202 es test 1 es test 2 test mapping ignoreduplicates false -d properties num type integer text type string curl -xput http://127.0.0.2 9202 es test 1 es test 2 test 2 mapping ignoreduplicates false -d properties num type integer text type string curl -xdelete http://127.0.0.2 9202 es test 1 curl -xdelete http://127.0.0.2 9202 es test 2 curl -xput http://127.0.0.2 9202 es test 1 -d curl -xput http://127.0.0.2 9202 es test 2 -d curl -xput http://127.0.0.2 9202 all type 1 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xput http://127.0.0.2 9202 all type 2 mapping ignoreduplicates false -d properties num store yes type integer text store yes type string curl -xpost http://127.0.0.2 9202 flush refresh true	208
507775	40	sbtourist	2010-02-23T18:01:12.000Z	[bug]	exception in clusters with embedded and standalone nodes	8	when i run a cluster made up of embedded and standalone nodes former ones seems not to be able to connect to latter ones and i get the following log messages on embedded nodes oob-1 elasticsearch caffeine.local-16363 - jgroups.pbcast.nakack - caffeine.local-16363 dropped message from caffeine.local-17690 not in xmit table keys are caffeine.local-16363 view caffeine.local-16363 0 caffeine.local-16363 the problem seems to be related to jgroups which on ipv6-enabled machines prefers ipv6 addresses over ipv4 ones but embedded instances aren t able to guess a proper ipv6 address that can be fixed by specifying java.net.preferipv4stack true on the embedded node forcing the use of ipv4 or specifying java.net.preferipv4stack false and java.net.preferipv6stack false on the standalone node apparently forcing jgroups to take the proper default	122
507775	41	kimchy	2010-02-24T12:27:03.000Z	[enhancement;;v0.05.0]	querydsl querystring - allow to escape the string	8	add an option to the querystring dsl to escape the query-string which should be turned off by default	18
507775	44	kimchy	2010-02-26T12:43:42.000Z	[enhancement;;v0.05.0]	query support negative queries	4	allow negative queries such as all the documents that do not match something this can be expressed by a booleanquery with a mustnot clause or in the query-string	28
1295197	371	nafg	2010-02-26T15:58:03.000Z	[mapper;;p:normal;;t:defect]	onetomany.save should call apply obj on longmappedforeignkey	7		0
507775	45	kimchy	2010-02-27T01:20:38.000Z	[feature;;v0.05.0]	morelikethis api search documents that are like the specified document	10	uri is index type id morelikethis method get and post it translates into a search request with an mlt query using the mlt querydsl . all mlt parameters are extracted from the http-parameters the body of the request can optionally include the typical search request body facets from size ... .	51
507775	48	kimchy	2010-03-01T22:25:44.000Z	[feature;;v0.05.0]	querydsl querystring - allow to run against multiple fields	9	the current querystring requires to define the defaultfield in order to run the query against a default field running the same query-string against several default fields can be done by combining them either with bool or dismax queries but its cumbersome querystring should support providing a fields field where a list of fields the query will run against will be provided an option to choose if the query will be combined using dismax or bool should be a simple flag a tiebreaker field allowed when using dismax sample 1 querystring fields content name usedismax false query test sample 2 querystring fields content name usedismax true query test boosting per field should be allowed for example querystring fields content 1.4 name query test	122
507775	49	kimchy	2010-03-02T13:56:23.000Z	[]	jgroups upgrade to 2.10 check sys proper preferipx	8	when upgrading to 2.10 check if we can remove the system property of preferipv4 consider simulating the logic for choosing first non loopback ip in es for transport http and jgroups bind addr	33
507775	52	clintongormley	2010-03-08T19:12:00.000Z	[bug;;v0.05.1]	count requests broken as a of commit 7bf0f1ffca589df6e626d61182689bde005ce649	8	the server now hangs with count queries a bisect shows 7bf0f1ffca589df6e626d61182689bde005ce649 is the first bad commit commit 7bf0f1ffca589df6e626d61182689bde005ce649 author kimchy kimchy@gmail.com date fri mar 5 01 39 04 2010 +0200 refactor client api remove execxxx and simple remain with the actual operation name as the method name one that returns a future and one that accepts a listener 040000 040000 941417e6df82b84dbd3ac28576aa589916d398ea c2c27160d53974c1c78a3b9108ce8f3ca16c665e m modules test script curl -xput http://127.0.0.2 9200 es test 1 type 1 1 -d num 2 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 -d num 3 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 -d num 4 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 -d num 5 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 -d num 6 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 -d num 7 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 -d num 8 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 -d num 9 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 -d num 10 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 -d num 11 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 -d num 12 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 -d num 13 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 -d num 14 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 -d num 15 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 -d num 16 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 -d num 17 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 -d num 18 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 -d num 19 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 -d num 20 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 -d num 21 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 -d num 22 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 -d num 23 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 -d num 24 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 -d num 25 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 -d num 26 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 -d num 27 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 -d num 28 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 -d num 29 text foo baz curl -xget http://127.0.0.2 9200 cluster health timeout 2 waitforstatus green curl -xget http://127.0.0.2 9200 all count -d term text foo	526
507775	54	clintongormley	2010-03-09T20:22:59.000Z	[enhancement;;v0.06.0]	support parsing strings with numeric types	6	hiya in dynamic-languages like perl numbers and strings can be interchangeable so 5 and 5 are equivalent as a result it is difficult for json modules to output the correct type - it often guesses wrong is there any chance that you could add implicit-typing so that if you re expecting a number and get a string instead but the string looks like a number then it s ok eg curl -xput http://192.168.5.100 9200 ia object 1 mapping ignoreconflicts false -d properties id type long curl -xput http://192.168.5.100 9200 ia object 1 1 -d id 1 error replicationshardoperationfailedexception ia object 0 nested mapperparsingexception failed to parse nested jsonparseexception current token value string not numeric can not use numeric value accessors n at source b@2ac02d83 line 7 column 12 thanks clint	130
507775	56	clintongormley	2010-03-11T13:40:34.000Z	[v0.06.0]	another numbers-as-strings error	3	hiya curl -xget http://127.0.0.1 9200 all search -d fields query field text boost 1 query foo returns searchparseexception ia object 4 query null from -1 size -1 parse failure failed to parse fields query field text boost 1 query foo nested queryparsingexception ia object failed to parse nested jsonparseexception current token value string not numeric can not use numeric value accessors at source b @3256e684 line 6 column 24	69
507775	57	clintongormley	2010-03-11T14:15:07.000Z	[bug;;v0.06.0]	mapping metadata not restored from gateway on server restart	9	hiya start a server with a fs gateway put a mapping index some docs check cluster state - can see mapping metadata optionally snapshot the gateway close down the server restart the server check cluster state - no mapping metadata indexed docs still exist and the mapping still applies i have my config set up as follows cluster name iannounce network bindhost 192.168.5.100 publishhost 192.168.5.100 node data true http enabled true gateway type fs fs location opt elasticsearch data index store type memory memory cachesize 20m buffersize 10k thanks clint	90
507775	58	kimchy	2010-03-11T14:38:34.000Z	[enhancement;;v0.06.0]	java-api expose source as map in getresponse searchhit allow to index a map	13	provide support for map both when indexing using the indexrequest and when getting source back getresponse searchhit .	18
507775	59	clintongormley	2010-03-12T13:56:08.000Z	[bug;;v0.06.0]	boolean fieldtype does not handle number string properly when searching	10	hiya here is another place where eg 1 is not being accepted as true curl -xput http://127.0.0.1 9200 foo bar mapping ignoreconflicts true -d properties bool val type boolean # # ok true # acknowledged true # curl -xput http://127.0.0.1 9200 foo bar 1 -d bool val 0 # # ok true # index foo # id 1 # type bar # curl -xget http://127.0.0.1 9200 foo bar search -d query filteredquery filter term bool val 1 query matchall # # hits # hits # # source # bool val 0 # # index foo # id 1 # type bar # # # total 1 # # shards # failed 0 # successful 5 # total 5 # # curl -xget http://127.0.0.1 9200 foo bar search -d query filteredquery filter term bool val true query matchall # # hits # hits # total 0 # # shards # failed 0 # successful 5 # total 5 # #	159
507775	60	kimchy	2010-03-12T16:11:22.000Z	[bug;;v0.06.0]	mapper schemaless automatic date detection wrongly detects numbers as dates	10	when passing id 1 the id will be wrongly detected as a string since it passes date-parsing	17
507775	65	kimchy	2010-03-17T18:02:36.000Z	[enhancement;;v0.06.0]	get api allow to specify which fields to load	9	the get api currently returns the source the api should allow to supply fields that will be returned if stored . by default the source would still be returned if no fields are specified	34
507775	66	kimchy	2010-03-17T19:29:05.000Z	[feature;;v0.06.0]	mapper ability to disable storing the source field	8	the source field is used to store the actual json that was indexed have the ability to disable storing it disclaimer some features in elasticsearch might in the future require accessing the source field when disabled this features will simply not work it is preferable to keep it on disabling the source field can be done using the following mapping person dateformats yyyy-mm-dd dd-mm-yyyy sourcefield enabled false it can be disabled forall dynamic mappings created using the shared dynamic mapping definition	81
507775	67	sbtourist	2010-03-18T09:45:03.000Z	[discuss]	provide api to lookup documents from external sources	8	when the source field is disabled source document is not stored nor returned in es queries it would be great to provide an api to implement for looking up the source document from external sources probably starting from index name and document id this way the document source could be used inside es for search features that may need it as well as transparently returned to the client inside the es response thoughts	73
507775	68	sbtourist	2010-03-18T11:23:07.000Z	[bug;;v0.06.0]	nullpointerexception at org.elasticsearch.action.get.getresponse.sourceasstring	3	when getting a response with null body org.elasticsearch.action.get.getresponse.sourceasstring throws nullpointerexception here s the relevant callstack at org.elasticsearch.util.unicode.frombytes unicode.java 70 at org.elasticsearch.action.get.getresponse.sourceasstring getresponse.java 96	23
507775	69	kimchy	2010-03-18T14:02:49.000Z	[feature;;v0.06.0]	search api support highlighting	4	allow to highlight search results on one or more fields the implementation uses the lucene fast-vector-highlighter the search request body query ... highlight fields all in the above case the all field will be highlighted foreach search hit there will be another element in each search each called highlight which includes the highlighted fields and the highlighted fragments . note in order to highlight the field in question must be stored and have termvector of with positions offsets . in the above case the mapping should include typename allfield store yes termvector with positions offsets the all field can be an easy to use candidate for highlighting by default the highlighting will wrap highlighted text in em and em . this can be controlled by setting pretags and posttags for example query ... highlight pretags tag1 tag2 posttags tag1 tag2 fields all there can be a single tag or more and the importance is ordered there are also built in tag schemas with currently a single schema called styled with pretags of em class hlt1 em class hlt2 em class hlt2 em class hlt3 em class hlt4 em class hlt5 em class hlt6 em class hlt7 em class hlt8 em class hlt9 and post tag of em . if you think of more nice to have built in tag schemas just commend on this issue or post another issue to create it here is an example of switching tag schemas query ... highlight tagschema styled fields all each field highlighted can control the size of the highlighted fragment in characters defaults to 100 and the maximum number of fragments to return defaults to 5 . for example query ... highlight fields all fragmentsize 150 numberoffragments 3	286
507775	73	clintongormley	2010-03-19T18:29:08.000Z	[bug;;v0.06.0]	tiebreakermultiplier is broken	3	hiya the query below just hangs without the tiebreakermultiplier it works fine curl -xget http://127.0.0.2 9200 ia object notice search searchtype dfs query then fetch -d sort score fields query tiebreakermultiplier 0.7 dismax queries field text boost 1 query andrew margaret field name boost 1 query andrew margaret from 0 explain 1 size 300 ta clint	56
507775	75	kimchy	2010-03-20T01:40:50.000Z	[enhancement;;v0.06.0]	threadpool rename dynamic to scaling	5	better fitting name especially with other thread pools i plan to play with	13
507775	76	clintongormley	2010-03-20T11:48:34.000Z	[bug;;v0.06.0]	another truthy falsy issue this time in the allfield	9	hiya this statement cause a nullpointerexception but succeeds when enabled is true curl -xput http://127.0.0.2 9200 ia object site mapping ignoreconflicts false -d allfield store yes termvector with positions offsets enabled 1 properties created format yyyy-mm-dd hh mm ss type date ancestor ids type long status index not analyzed type string last-modified format yyyy-mm-dd hh mm ss type date id type long parent id type long creator id nullvalue 0 type long	72
507775	77	kimchy	2010-03-20T23:14:10.000Z	[feature;;v0.06.0]	search api scroll	3	when executing a search a scroll parameter can be passed with a timeout value when passed a scrollid will be returned as part of the response the scrollid can then be used to continue to scroll the results of the query each scroll request accepts the same scroll parameter with a timeout value to allow to continue scrolling for example curl -xget localhost 9200 search q content something scroll 5m will execute a search with a scroll timeout of 5 minutes the result scrollid can be used to execute a scroll request curl -xget localhost 9200 search scroll scroll 5m scrollid cxv... the scroll operation is a point-in-time snapshot search any changes applied to the index even after a refresh will not be taken into account when scrolling note scrolling takes resources from each node they run on since a state needs to be stored to continue scrolling	148
507775	78	kimchy	2010-03-22T00:33:27.000Z	[feature;;v0.06.0]	terms api support numbers dates	5	terms api should support numbers and dates natively and not treat them as strings this means that from to should support numbers dates and the terms returned should be in the number date-format and not in their internal format the convert parameter should be removed also since it is not required anymore	52
507775	79	clintongormley	2010-03-22T14:11:16.000Z	[enhancement]	put mapping all with no indices fails	7	hiya if no indices exist then put mapping on all fails curl -xput http://127.0.0.2 9200 all type 1 mapping ignoreconflicts true -d properties num store yes type integer text store yes type string error nosuchelementexception null maybe this is correct	40
507775	80	clintongormley	2010-03-22T14:17:15.000Z	[]	terms query is broken	4	hiya commit 93e025325e014693c813069091c7f0c213298abb breaks the terms query curl -xput http://127.0.0.2 9200 es test 1 curl -xput http://127.0.0.2 9200 all type 1 mapping ignoreconflicts true -d properties num store yes type integer text store yes type string curl -xget http://127.0.0.2 9200 cluster health timeout 2s waitforstatus yellow curl -xput http://127.0.0.2 9200 es test 1 type 1 1 -d num 2 text foo curl -xget http://127.0.0.2 9200 terms fields num toinclusive true # error null	73
507775	82	kimchy	2010-03-22T15:08:37.000Z	[feature;;v0.06.0]	index fs store allow to cache in memory specific files	10	when using file system based storage caching specific lucene index files make sense to speed up operations the ability to specify which files to cache in memory with all the parameters the memory store provides based on their suffix should be provided this allows for example to store term freq in memory while keeping the field store on disk which takes much more space . the configuration should look something like this index store fs memory enabled true extensions del gen	81
507775	83	clintongormley	2010-03-22T15:32:46.000Z	[bug;;v0.06.0]	search with sort field of score fails	7	hiya i ve managed to replicate the remotetransportexception that doesn t include the actual exception start two nodes on localhost then run this script curl -xget http://127.0.0.1 9200 cluster nodes curl -xput http://127.0.0.2 9200 ia object notice mapping ignoreconflicts false -d allfield store yes termvector with positions offsets enabled 1 properties notice type index not analyzed type string ancestor ids type long status index not analyzed type string location ids type long indexname location id remote last-modified format yyyy-mm-dd hh mm ss type date parent id type long featured type boolean publish date format yyyy-mm-dd hh mm ss type date text type string id type long creator id nullvalue 0 type long last-modified format yyyy-mm-dd hh mm ss type date name boost 1.2 type string has name type boolean created format yyyy-mm-dd hh mm ss type date subtype index not analyzed type string curl -xput http://127.0.0.2 9200 ia object notice 754 -d notice type all birthday ancestor ids 268 23 22 status active last-modified 2010-01-11 18 47 46 name location ids 23 24 30 remote last-modified 2007-02-14 18 10 00 parent id 268 has name 0 created 2010-01-11 18 47 46 featured 0 subtype birthday publish date 2007-02-13 00 00 00 text happy 21st birthday katie nicholas nwe wish you good health and happiness for your future nlove nan and gran dad xx nwill be loving you always id 754 creator id 0 curl -xput http://127.0.0.2 9200 ia object notice 755 -d notice type all birthday ancestor ids 268 23 22 status active last-modified 2010-01-11 18 47 46 name location ids 23 24 30 remote last-modified 2007-02-14 18 10 00 parent id 268 has name 0 created 2010-01-11 18 47 46 featured 0 subtype birthday publish date 2007-02-13 00 00 00 id 755 creator id 0 curl -xput http://127.0.0.2 9200 ia object notice 756 -d notice type all birthday ancestor ids 268 23 22 status active last-modified 2010-01-11 18 47 46 name location ids 23 24 30 remote last-modified 2007-02-14 18 10 00 parent id 268 has name 0 created 2010-01-11 18 47 46 featured 0 subtype birthday publish date 2007-02-13 00 00 00 text happy 18th birthday roshene smith to a wonderful daughter enjoy your day lots of love mum and dad xx nhappy birthday roshene legal at last nnow the drinks are on you not us nlove from saffron and grandma xx id 756 creator id 0 curl -xput http://127.0.0.2 9200 ia object notice 757 -d notice type all birthday ancestor ids 268 23 22 status active last-modified 2010-01-11 18 47 46 name location ids 23 24 30 remote last-modified 2007-02-14 18 10 00 parent id 268 has name 0 created 2010-01-11 18 47 46 featured 0 subtype birthday publish date 2007-02-13 00 00 00 text happy 18th birthday david and ashley donald our precious babies all grown up now we love you both so much all our love mum dad james lucy and daisy xxxx np.s congratulations to both of you for being accepted into the camelia botnar foundation nwe are so proud of you id 757 creator id 0 curl -xput http://127.0.0.2 9200 ia object notice 758 -d notice type all birthday ancestor ids 268 23 22 status active last-modified 2010-01-11 18 47 46 name location ids 23 24 30 remote last-modified 2007-02-14 18 10 00 parent id 268 has name 0 created 2010-01-11 18 47 46 featured 0 subtype birthday publish date 2007-02-13 00 00 00 text happy 18th birthday ashley and david donald twins nhave a lovely birthday now it is all legal ha ha lots of love and kisses nan xxxxx id 758 creator id 0 curl -xget http://127.0.0.2 9201 ia object notice search searchtype dfs query then fetch pretty 1 -d sort score fields query filteredquery filter term status active query querystring query happy curl -xget http://127.0.0.2 9200 ia object notice search searchtype dfs query then fetch pretty 1 -d sort score fields query filteredquery filter term status active query querystring query happy	661
507775	84	kimchy	2010-03-23T12:17:50.000Z	[feature;;v0.06.0]	mapping support for short type	5	add support for numeric short type 2 bytes -32 768 to 32 767 . this type improves on index size when storing the number and improve on memory utilization on certain operations	32
507775	85	kimchy	2010-03-23T22:36:08.000Z	[enhancement;;v0.06.0]	querydsl rename filteredquery to filtered	5	the filteredquery is badly named as no other query is suffixed by query . rename it to filtered .	19
507775	87	bubdzombie	2010-03-24T20:25:49.000Z	[]	default mappings	2	allow for the creation of mappings that will be inherited when new indices are created specifically when an index put request is made for an index that doesn t exist yet	31
507775	88	kimchy	2010-03-24T23:59:53.000Z	[feature;;v0.06.0]	index aliases	2	allow to define aliases to indices and have all apis support that here is a simple way to define the alias using the rest api localhost 9200 aliases actions add index test1 alias alias1 in the above we define an alias1 for index test1 . in all operations we can use alias1 instead of test1 . the api also allows to remove an alias from an index and better yet remove and then add an alias for an index actions remove index test1 alias alias1 add index test1 alias alias2 in the above example we simple remove alias1 and add alias2 to test1 in a single atomic operation last but not least an alias can be assigned to more than one index this applies to apis that accept more than one index such as search and count instead of specifying a list of indices we can just alias them to the same alias and use it for example actions add index test1 alias alias1 add index test1 alias alias2 ohh and index aliases can be set when creating an index here is a yaml example index aliases alias1 alias2	189
507775	89	clintongormley	2010-03-25T11:55:56.000Z	[]	indices are no longer being auto-created with put mapping	9	start a node and do this curl -xput http://127.0.0.2 9200 es test 1 es test 2 test mapping ignoreconflicts true -d properties num type integer text type string errors with error es test 1 missing	35
507775	90	kimchy	2010-03-25T18:56:21.000Z	[enhancement;;v0.06.0]	mapping allow to have for a field to not be stored and not indexed but still be included in all	20	by default fields are indexed not stored and included in all sometimes just having the index part of all is enough this can now be achieved by setting index to no previously this meant it will not be included in all . in order to remove it from all as well the includeinall should be set to false .	59
507775	94	clintongormley	2010-03-29T11:37:48.000Z	[]	the morelikethis query fails	4	a morelikethis query fails apparently because the query it constructs uses like instead of liketext curl -xget http://localhost 9200 ia object notice 754 morelikethis pretty true error searchphaseexecutionexception failed to execute query total failure shardfailures getafix-44509 ia object 1269862021 1 queryphaseexecutionexception ia object 1269862021 1 query like all birthday like -9223372036854775808 like -9223372036854775808 like -9223372036854775808 like active like -292275055-05-16 16 47 04 like wears like -9223372036854775808 like -9223372036854775808 like -9223372036854775808 like -292275055-05-16 16 47 04 like -9223372036854775808 like true like -292275055-05-16 16 47 04 like false like birthday like -292275055-05-16 16 47 04 like happy 21st birthday katie nicholas nwe wish you good health and happiness for your future nlove nan and gran dad xx nwill be loving you always like -9223372036854775808 like -9223372036854775808 - uid notice#754 from 0 size 10 query failed nested null unknown null unknown null unknown null unknown	142
507775	97	clintongormley	2010-03-29T18:10:11.000Z	[]	morelikethis search query and count return different results	8	why does a morelikethis query in count return half the results that the same query does in search curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping ignoreconflicts true -d allfield store yes termvector with positions offsets properties num store yes type integer text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping ignoreconflicts true -d allfield store yes termvector with positions offsets properties num store yes type integer text store yes type string curl -xget http://127.0.0.2 9200 cluster health timeout 2s waitforstatus green curl -xput http://127.0.0.2 9200 es test 1 type 1 1 -d num 2 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 -d num 3 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 -d num 4 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 -d num 5 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 -d num 6 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 -d num 7 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 -d num 8 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 -d num 9 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 -d num 10 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 -d num 11 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 -d num 12 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 -d num 13 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 -d num 14 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 -d num 15 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 -d num 16 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 -d num 17 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 -d num 18 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 -d num 19 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 -d num 20 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 -d num 21 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 -d num 22 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 -d num 23 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 -d num 24 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 -d num 25 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 -d num 26 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 -d num 27 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 -d num 28 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 -d num 29 text foo baz curl -xget http://127.0.0.2 9200 cluster health timeout 2s waitforstatus green echo search curl -xget http://127.0.0.2 9200 all search pretty true -d query morelikethis mintermfrequency 1 liketext foo bar baz echo count curl -xget http://127.0.0.2 9200 all count pretty true -d morelikethis mintermfrequency 1 liketext foo bar baz ta clint	591
507775	99	clintongormley	2010-03-31T16:26:07.000Z	[]	search failing when cluster busy	5	hiya shay it turns out that the issue i was having earlier with nfs was a red herring what seems to be happening is my process i m reindexing old index to new index i read 5000 docs from the old index then create each one in the new index if there is an error then i delete new index so the cluster gets busy and a search for the next 5 000 docs results in this error select failed no child processes . this was triggering the cleanup in my script which deleted the index it appears the index has been deleted by one node while another node is still trying to write snapshot info for the now deleted index which results in these errors 14 48 09 948 warn index.gateway nameless one ia object 1270046679 0 failed to snapshot on close org.elasticsearch.index.gateway.indexshardgatewaysnapshotfailedexception ia object 1270046679 0 failed to append snapshot translog into opt elasticsearch data iannounce ia object 1270046679 0 translog translog-3 at org.elasticsearch.index.gateway.fs.fsindexshardgateway.snapshot fsindexshardgateway.java 199 at org.elasticsearch.index.gateway.indexshardgatewayservice 1.snapshot indexshardgatewayservice.java 154 at org.elasticsearch.index.engine.robin.robinengine.snapshot robinengine.java 350 at org.elasticsearch.index.shard.service.internalindexshard.snapshot internalindexshard.java 369 at org.elasticsearch.index.gateway.indexshardgatewayservice.snapshot indexshardgatewayservice.java 150 at org.elasticsearch.index.gateway.indexshardgatewayservice.close indexshardgatewayservice.java 176 at org.elasticsearch.index.service.internalindexservice.deleteshard internalindexservice.java 244 at org.elasticsearch.index.service.internalindexservice.close internalindexservice.java 159 at org.elasticsearch.indices.internalindicesservice.deleteindex internalindicesservice.java 208 at org.elasticsearch.indices.internalindicesservice.deleteindex internalindicesservice.java 185 at sun.reflect.nativemethodaccessorimpl.invoke0 native method at sun.reflect.nativemethodaccessorimpl.invoke nativemethodaccessorimpl.java 39 at sun.reflect.delegatingmethodaccessorimpl.invoke delegatingmethodaccessorimpl.java 25 at java.lang.reflect.method.invoke method.java 597 at com.google.inject.internal.constructioncontext delegatinginvocationhandler.invoke constructioncontext.java 108 at proxy19.deleteindex unknown source at org.elasticsearch.indices.cluster.indicesclusterstateservice.clusterchanged indicesclusterstateservice.java 178 at org.elasticsearch.cluster.service.internalclusterservice 2.run internalclusterservice.java 193 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 caused by java.io.filenotfoundexception opt elasticsearch data iannounce ia object 1270046679 0 translog translog-3 stale nfs filehandle at java.io.randomaccessfile.open native method at java.io.randomaccessfile init randomaccessfile.java 212 at org.elasticsearch.index.gateway.fs.fsindexshardgateway.snapshot fsindexshardgateway.java 184 ... 20 more now i m catching the select failed no child processes errors sleeping for a few seconds then trying again and everything is working well ta clint	311
507775	101	kimchy	2010-04-01T09:25:20.000Z	[feature;;v0.06.0]	clear indices cache api allow to clear indices cache	9	currently there is only the filter cache but there will be more... . the rest api is either post cache clear or post indices cache clear .	27
507775	102	clintongormley	2010-04-01T14:52:10.000Z	[]	starting multiple nodes at the sametime can cause the cluster not to communicate properly	14	hiya i ve had a repeat occurrence of two issues 1 starting all 3 nodes at the sametime means that the cluster doesn t communicate properly and 2 starting one node doesn t read the index in the gateway but starting a second node does when i start a node it puts a lot of load loads of 30+ on the cpu sometimes if i start eg 3 nodes at the sametime they fail to communicate properly possibly because the high cpu loads are causing timeouts that s what happened here - 2 nodes were talking and the third wasn t i noticed at this stage that there were two metadata files in my gateway directory i shutdown all 3 nodes then restarted the first node it didn t read the existing index from the gateway there was nothing in the log about having found an index and the work directory didn t grow in size as it usually does while it builds the niofs caches . i started the second node and then it did find the index and everything works correctly below is the metadata file just before the second restart plus the logs from all 3 servers metadata meta-data maxnumberofshardspernode 100 indices ia object 1270054545 settings index.analysis.analyzer.default.filter.1 lowercase index.analysis.analyzer.default.filter.2 stop index.numberofreplicas 2 index.analysis.analyzer.default.filter.0 standard index.analysis.analyzer.default.filter.3 asciifolding index.analysis.analyzer.default.tokenizer standard index.numberofshards 5 index.aliases.0 ia object mappings site source n site n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n source source n source n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n url n type string n indexname url n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n scraper source n scraper n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n location source n location n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n image source n image n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n title n type string n indexname title n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n notice source n notice n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n has name n type boolean n indexname has name n index analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions false n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n text n type string n indexname text n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n remote last-modified n type date n indexname remote last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n publish date n type date n indexname publish date n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n notice type n type string n indexname notice type n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n featured n type boolean n indexname featured n index analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n location ids n type long n indexname location id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.2 n omitnorms false n omittermfreqandpositions false n n subtype n type string n indexname subtype n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n group source n group n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n text id n type string n indexname text id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n user source n user n type object n dynamic true n enabled true n pathtype full n dateformats dateoptionaltime n boostfield n name boost n n allfield n enabled true n store yes n termvector with positions offsets n n sourcefield n name source n enabled true n n properties n id n type long n indexname id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n ancestor ids n type long n indexname ancestor ids n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n username n type string n indexname username n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n last-modified n type date n indexname last-modified n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n email n type string n indexname email n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n created n type date n indexname created n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n format yyyy-mm-dd hh mm ss n n status n type string n indexname status n index not analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n name n type string n indexname name n index analyzed n store no n termvector no n boost 1.0 n omitnorms false n omittermfreqandpositions false n n creator id n type long n indexname creator id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n nullvalue 0 n n parent id n type long n indexname parent id n index not analyzed n store no n termvector no n boost 1.0 n omitnorms true n omittermfreqandpositions true n precisionstep 4 n n n n server 1 14 24 37 094 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 initializing ... 14 24 37 101 info plugins red skull loaded 14 24 42 197 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 initialized 14 24 42 197 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 starting ... 14 24 42 585 info transport red skull boundaddress inet 10.224.103.159 9300 publishaddress inet 10.224.103.159 9300 14 24 45 861 info cluster.service red skull new master red skull db1-13080 data inet 10.224.103.159 9300 14 24 45 976 info discovery red skull iannounce db1-13080 14 24 46 030 info http red skull boundaddress inet 10.224.103.159 9200 publishaddress inet 10.224.103.159 9200 14 24 46 040 info cluster.metadata red skull creating index ia object 1270054545 shards 5 2 mappings site source scraper location image notice group user 14 24 46 664 info jmx red skull boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.103.159 9400 jmxrmi 14 24 46 664 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 started 14 25 06 637 warn jgroups.pbcast.gms db1-13080 failed to collect all acks expected 1 for view db1-13080 1 db1-13080 db2-14372 after 2000ms missing acks from db1-13080 14 25 10 891 warn jgroups.pbcast.gms db1-13080 failed to collect all acks expected 1 for unicast view db1-13080 1 db1-13080 db2-14372 after 2000ms missing acks from db2-14372 14 25 09 943 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 db2-14372 view db1-13080 1 db1-13080 db2-14372 14 25 33 126 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 db2-14372 view db1-13080 1 db1-13080 db2-14372 14 25 38 066 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 view db1-13080 2 db1-13080 14 25 38 067 warn jgroups.pbcast.gms db1-13080 failed to collect all acks expected 1 for view db1-13080 2 db1-13080 after 2000ms missing acks from db1-13080 14 25 58 253 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 view db1-13080 2 db1-13080 14 25 58 254 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 view db1-13080 2 db1-13080 14 26 07 173 warn jgroups.pbcast.nakack db1-13080 dropped message from db3-20667 not in xmit table keys are db1-13080 view db1-13080 2 db1-13080 14 26 11 311 info cluster.service red skull added org.elasticsearch.util.transport.dummytransportaddress@307b37df 14 26 11 539 warn transport.netty red skull failed to connect to discovered node org.elasticsearch.util.transport.dummytransportaddress@307b37df java.lang.classcastexception org.elasticsearch.util.transport.dummytransportaddress cannot be cast to org.elasticsearch.util.transport.inetsockettransportaddress at org.elasticsearch.transport.netty.nettytransport.nodechannel nettytransport.java 437 at org.elasticsearch.transport.netty.nettytransport.nodesadded nettytransport.java 396 at org.elasticsearch.transport.transportservice.nodesadded transportservice.java 96 at org.elasticsearch.cluster.service.internalclusterservice 2 1.run internalclusterservice.java 185 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 619 14 26 11 766 warn jgroups.pbcast.gms db1-13080 failed to collect all acks expected 1 for view mergeview db3-20667 3 db3-20667 db1-13080 subgroups db3-20667 2 db3-20667 db1-13080 2 db1-13080 after 2000ms missing acks from db1-13080 14 26 39 751 info cluster.service red skull removed org.elasticsearch.util.transport.dummytransportaddress@307b37df 14 26 44 513 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 stopping ... 14 29 39 097 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 stopped 14 29 39 098 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 closing ... 14 29 39 161 info server red skull elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 closed 14 33 44 049 info server blindspot elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 initializing ... 14 33 44 054 info plugins blindspot loaded 14 33 46 857 info server blindspot elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 initialized 14 33 46 858 info server blindspot elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 starting ... 14 33 47 162 info transport blindspot boundaddress inet 10.224.103.159 9300 publishaddress inet 10.224.103.159 9300 14 33 50 257 info cluster.service blindspot new master blindspot db1-32838 data inet 10.224.103.159 9300 14 33 50 321 info discovery blindspot iannounce db1-32838 14 33 50 378 info http blindspot boundaddress inet 10.224.103.159 9200 publishaddress inet 10.224.103.159 9200 14 33 50 595 info jmx blindspot boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.103.159 9400 jmxrmi 14 33 50 595 info server blindspot elasticsearch 0.6.0-snapshot 2010-03-31t14 31 10 started 14 35 00 834 info cluster.metadata blindspot creating index ia object 1270054545 shards 5 2 mappings site source scraper location image notice group user 14 35 03 995 info cluster.service blindspot added chaka db2-22084 data inet ip-10-224-103-48.eu-west-1.compute.internal 10.224.103.48 9300 14 35 42 912 warn jgroups.pbcast.gms db3-28837 already present returning existing view db1-32838 2 db1-32838 db2-22084 db3-28837 14 35 42 913 info cluster.service blindspot added death s head i ii db3-28837 data inet ip-10-224-118-127.eu-west-1.compute.internal 10.224.118.127 9300 server 2 14 24 52 318 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 initializing ... 14 24 52 323 info plugins ghost dancer loaded 14 24 55 746 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 initialized 14 24 55 746 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 starting ... 14 24 56 069 info transport ghost dancer boundaddress inet 10.224.103.48 9300 publishaddress inet 10.224.103.48 9300 14 25 01 035 warn jgroups.pbcast.gms join db2-14372 sent to db1-13080 timed out after 3000 ms retrying 14 25 01 071 info cluster.service ghost dancer new master ghost dancer db2-14372 data inet 10.224.103.48 9300 14 25 01 133 info discovery ghost dancer iannounce db2-14372 14 25 01 163 info http ghost dancer boundaddress inet 10.224.103.48 9200 publishaddress inet 10.224.103.48 9200 14 25 01 532 info jmx ghost dancer boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.103.48 9400 jmxrmi 14 25 01 532 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 started 14 25 01 619 info cluster.metadata ghost dancer creating index ia object 1270054545 shards 5 2 mappings site scraper source location image group notice user 14 25 09 791 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 25 16 272 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 1 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 33 962 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 2 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 33 962 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 3 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 34 257 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 1 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 34 257 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 2 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 34 257 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 3 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 41 850 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 1 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 41 850 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 2 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 25 41 850 warn jgroups.pbcast.nakack requester db1-13080 local addr db2-14372 message db2-14372 3 not found in retransmission table of db2-14372 3 6 6 size 3 missing 0 highest stability 3 14 26 33 856 info cluster.service ghost dancer added war machine db3-20667 data inet ip-10-224-118-127.eu-west-1.compute.internal 10.224.118.127 9300 14 26 42 309 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 27 04 703 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 27 04 703 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 27 14 552 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 27 15 125 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 27 33 301 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 stopping ... 14 28 04 529 warn jgroups.pbcast.nakack db2-14372 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 28 12 960 warn jgroups.pbcast.gms db2-14372 failed to collect all acks expected 1 for view db3-20667 2 db3-20667 after 2000ms missing acks from db3-20667 14 28 20 577 error jgroups.unicast db2-14372 sender window for db2-14372 not found 14 31 25 936 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 stopped 14 31 25 937 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 closing ... 14 31 25 955 info server ghost dancer elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 closed 14 34 57 406 info server chaka elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 initializing ... 14 34 57 411 info plugins chaka loaded 14 35 00 373 info server chaka elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 initialized 14 35 00 374 info server chaka elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 starting ... 14 35 00 703 info transport chaka boundaddress inet 10.224.103.48 9300 publishaddress inet 10.224.103.48 9300 14 35 15 873 info cluster.service chaka detected master blindspot db1-32838 data inet ip-10-224-103-159.eu-west-1.compute.internal 10.224.103.159 9300 added blindspot db1-32838 data inet ip-10-224-103-159.eu-west-1.compute.internal 10.224.103.159 9300 14 35 16 774 info discovery chaka iannounce db2-22084 14 35 16 801 info http chaka boundaddress inet 10.224.103.48 9200 publishaddress inet 10.224.103.48 9200 14 35 16 886 info jmx chaka boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.103.48 9400 jmxrmi 14 35 16 887 info server chaka elasticsearch 0.6.0-snapshot 2010-03-31t14 31 13 started 14 35 44 296 info cluster.service chaka added death s head i ii db3-28837 data inet ip-10-224-118-127.eu-west-1.compute.internal 10.224.118.127 9300 server 3 14 24 55 498 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 initializing ... 14 24 55 515 info plugins war machine loaded 14 24 58 908 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 initialized 14 24 58 908 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 starting ... 14 24 59 179 info transport war machine boundaddress inet 10.224.118.127 9300 publishaddress inet 10.224.118.127 9300 14 25 08 919 warn jgroups.pbcast.nakack db3-20667 dropped message from db1-13080 not in xmit table keys are db3-20667 db2-14372 view db2-14372 1 db2-14372 db3-20667 14 25 31 512 warn discovery war machine waited for 30s and no initial state was set by the discovery 14 25 31 512 info discovery war machine iannounce db3-20667 14 25 31 524 info http war machine boundaddress inet 10.224.118.127 9200 publishaddress inet 10.224.118.127 9200 14 25 31 845 info jmx war machine boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.118.127 9400 jmxrmi 14 25 31 845 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 started 14 25 33 407 info cluster.service war machine new master war machine db3-20667 data inet ip-10-224-118-127.eu-west-1.compute.internal 10.224.118.127 9300 14 25 35 048 warn jgroups.pbcast.nakack db3-20667 dropped message from db1-13080 not in xmit table keys are db3-20667 view db3-20667 2 db3-20667 14 25 57 708 warn jgroups.pbcast.nakack db3-20667 dropped message from db1-13080 not in xmit table keys are db3-20667 view db3-20667 2 db3-20667 14 25 59 258 warn jgroups.pbcast.nakack db3-20667 dropped message from db1-13080 not in xmit table keys are db3-20667 view db3-20667 2 db3-20667 14 26 07 242 warn jgroups.pbcast.nakack db3-20667 dropped message from db1-13080 not in xmit table keys are db3-20667 view db3-20667 2 db3-20667 14 26 29 259 warn jgroups.blocks.tcpconnectionmap could not read accept connection from peer java.net.sockettimeoutexception read timed out 14 26 36 756 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 stopping ... 14 26 37 382 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 stopped 14 26 37 382 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 closing ... 14 26 37 387 info server war machine elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 closed 14 35 33 336 info server death s head i ii elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 initializing ... 14 35 33 349 info plugins death s head i ii loaded 14 35 35 510 info server death s head i ii elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 initialized 14 35 35 510 info server death s head i ii elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 starting ... 14 35 35 729 info transport death s head i ii boundaddress inet 10.224.118.127 9300 publishaddress inet 10.224.118.127 9300 14 35 38 813 warn jgroups.pbcast.gms join db3-28837 sent to db1-32838 timed out after 3000 ms retrying 14 35 41 817 warn jgroups.pbcast.gms join db3-28837 sent to db1-32838 timed out after 3000 ms retrying 14 35 44 056 info cluster.service death s head i ii detected master blindspot db1-32838 data inet ip-10-224-103-159.eu-west-1.compute.internal 10.224.103.159 9300 added chaka db2-22084 data inet ip-10-224-103-48.eu-west-1.compute.internal 10.224.103.48 9300 blindspot db1-32838 data inet ip-10-224-103-159.eu-west-1.compute.internal 10.224.103.159 9300 14 35 44 907 info discovery death s head i ii iannounce db3-28837 14 35 44 932 info http death s head i ii boundaddress inet 10.224.118.127 9200 publishaddress inet 10.224.118.127 9200 14 35 45 004 info jmx death s head i ii boundaddress service jmx rmi jndi rmi 9400 jmxrmi publishaddress service jmx rmi jndi rmi 10.224.118.127 9400 jmxrmi 14 35 45 004 info server death s head i ii elasticsearch 0.6.0-snapshot 2010-03-31t14 31 22 started	5370
507775	103	kimchy	2010-04-01T19:18:41.000Z	[feature;;v0.06.0]	querydsl fuzzy like this	4	add another option to perform like this queries this time using fuzzy queries here is the one that canexecute on more than one field defaults to the all field fuzzy like his fields name.first name.last like text something max query terms 12 and here is one that canexecute against a specific field fuzzy like this field name.first like text something max query terms 12	64
507775	104	kimchy	2010-04-02T15:42:26.000Z	[bug;;v0.06.0]	http netty remove httpkeepalive support	5	until i figure out a nicer way to support this currently it also closes ongoing requests	16
507775	105	kimchy	2010-04-03T22:37:28.000Z	[enhancement;;v0.06.0]	mapper rename allfield to all sourcefield to source idfield to id and typefield to type	15	i will maintain backward comp by being able to parse the field suffix as well	15
507775	107	clintongormley	2010-04-04T11:23:33.000Z	[enhancement;;v0.06.0]	api change optype create	4	what about changing this to curl -xput http://127.0.0.2 9200 foo bar 123 create -d ... or curl -xput http://127.0.0.2 9200 foo bar 123 create true -d ...	27
507775	108	clintongormley	2010-04-04T11:58:42.000Z	[enhancement;;v0.06.0]	api change terms - add support for gt gte lt lte	11	at the moment you have frominclusive and toinclusive but defaulting to true . it feels unintuitive to pass an option that is false ie if something isn t specified then to me it is the same as false but then you enable an action by passing a true so i d change the options to exclude from or exclude to which default to false alternatively you could change the from and to options themselves eg param equivalent to ------------------------------------- from frominclusive true to toinclusive true greater than frominclusive false less than toinclusive false the perl string-comparison operators are gt lt gte greater than or equals and lte but that may be a step too far	115
507775	109	clintongormley	2010-04-04T12:10:12.000Z	[enhancement;;v0.06.0]	api change morelikethis	3	changes to mlt percenttermstomatch pct terms to match pct to match mintermfrequency min term freq to match min doc freq maxqueryterms max terms instead of having boostterms and boosttermsfactor why not just have boost terms which expects a float . so if specified then boost the terms by that amount	50
507775	110	clintongormley	2010-04-04T12:18:28.000Z	[]	api change put mapping change default ignore conflicts to false	10	in keeping with my comment about having options default to false and having to enable features with a true value perhaps ignoreconflicts should be renamed to warn on conflict actually thinking about it more i think that ignore conflicts is the right name but that it should default to false . silently ignoring a problem seems like the wrong approach i d rather have to take the decision to ignore it myself	72
507775	112	clintongormley	2010-04-04T12:26:52.000Z	[]	api change put mapping and the optional typename	8	i ve brought this up before as ambiguous and i ve been bitten by it the optional ability to specify the type in the json eg curl -xput http://localhost 9200 twitter tweet mapping -d tweet properties message type string store yes ... is redundant and can cause problems you already specify the type in the url i d drop it in the json	63
507775	113	clintongormley	2010-04-04T12:35:18.000Z	[enhancement;;v0.06.0]	api change search sort	4	instead of specifying sort order like this sort name last-modified reverse 1 what about like this sort name last-modified desc or sort name asc last-modified desc when you sort on score reverse true implies asc but for everything else reverse true implies desc . so why not make it unambiguous	50
507775	120	clintongormley	2010-04-06T12:53:01.000Z	[]	casting errors under load	4	hiya i am unable to replicate this but i ve seen this issue a lot especially when the servers are under load i was in the process of indexing a lot of new docs sometimes the cpu would be running at 100 plus request cmd ia object notice search search type query then fetch data fields from 1332200 query filtered filter bool must term status active term location id 23 query match all size 100 sort publish date reverse 1 method get response error reducesearchphaseexception failed to execute query reduce nested classcastexception java.lang.float cannot be cast to java.lang.long server http://192.168.10.41 9200 status code 500 status msg internal-server-error another request cmd ia object notice search search type dfs query then fetch data fields from 0 query filtered filter bool must term subtype obit term status active term location id 28 query dismax queries query string boost 1 fields name query sammy brian happer 8 filtered filter term has name 0 query query-string boost 1.3 fields text query sammy brian happer 8 query-string boost 1 query sammy brian happer tie breaker 0.7 size 100 sort score method get response error reducesearchphaseexception failed to execute query reduce nested classcastexception java.lang.float cannot be cast to java.lang.long server http://192.168.10.41 9200 status code 500 status msg internal-server-error	211
507775	125	kimchy	2010-04-09T04:28:55.000Z	[enhancement;;v0.06.0]	rename server and all other server related classes to node	10	it makes much more sense for server and serverbuilder to be called node and nodebuilder	15
507775	136	clintongormley	2010-04-16T15:01:18.000Z	[bug;;v0.14.0]	scrolling issues	2	hiya a few things a search with a scroll parameter returns scrollid . shouldn t that be scroll id the docs for scrolling http://www.elasticsearch.com docs elasticsearch rest api search #scrolling don t actually tell you how it works from the code it looks like search scroll scroll id should work but it doesn t however search scroll scroll id scroll id does apparently scrolling returns size x shards results this doesn t make sense to me when the original search returns size results surely it should be the same and finally scrolling throws errors for me - see below load this data i was running 3 nodes curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xpost http://127.0.0.2 9200 refresh curl -xget http://127.0.0.2 9200 cluster health timeout 2s wait for status green curl -xput http://127.0.0.2 9200 es test 1 type 1 1 create -d num 2 date 2010-04-2 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 create -d num 3 date 2010-04-3 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 create -d num 4 date 2010-04-4 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 create -d num 5 date 2010-04-5 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 create -d num 6 date 2010-04-6 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 create -d num 7 date 2010-04-7 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 create -d num 8 date 2010-04-8 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 create -d num 9 date 2010-04-9 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 create -d num 10 date 2010-04-10 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 create -d num 11 date 2010-04-11 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 create -d num 12 date 2010-04-12 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 create -d num 13 date 2010-04-13 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 create -d num 14 date 2010-04-14 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 create -d num 15 date 2010-04-15 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 create -d num 16 date 2010-04-16 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 create -d num 17 date 2010-04-17 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 create -d num 18 date 2010-04-18 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 create -d num 19 date 2010-04-19 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 create -d num 20 date 2010-04-20 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 create -d num 21 date 2010-04-21 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 create -d num 22 date 2010-04-22 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 create -d num 23 date 2010-04-23 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 create -d num 24 date 2010-04-24 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 create -d num 25 date 2010-04-25 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 create -d num 26 date 2010-04-26 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 create -d num 27 date 2010-04-27 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 create -d num 28 date 2010-04-28 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 create -d num 29 date 2010-04-29 00 00 00 text foo baz curl -xpost http://127.0.0.2 9200 refresh curl -xget http://127.0.0.2 9200 cluster health timeout 2s wait for status green then run these tests you ll need to update the scroll id curl -xget http://127.0.0.2 9201 es test 1 search scroll 5m -d sort num query match all size 2 # # scrollid cxvlcnluagvurmv0y2g7mjpnzxrhzml4lte1ndq0ozi6z2v # 0ywzpec0zntazodszomdldgfmaxgtmtu0ndq7mtpnzxrhzml4lte1ndq0oze # 6z2v0ywzpec0zntazods # hits # hits # # source # num 2 # text foo # date 2010-04-2 00 00 00 # # index es test 1 # id 1 # type type 1 # # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # # # total 14 # # shards # failed 0 # successful 5 # total 5 # # curl -xget http://127.0.0.2 9201 search scroll scroll id cxvlcnluagvurmv0y2g7mjpnzxrhzml4lte1ndq0ozi6z2v0ywzpec0zntazodszomdldgfmaxgtmtu0ndq7mtpnzxrhzml4lte1ndq0oze6z2v0ywzpec0zntazods # # hits # hits # # source # num 6 # text foo bar # date 2010-04-6 00 00 00 # # index es test 1 # id 5 # type type 1 # # # source # num 18 # text baz # date 2010-04-18 00 00 00 # # index es test 1 # id 17 # type type 1 # # # total 5 # # shards # failures # # reason searchcontextmissingexception no search c # ontext found for id 1 timed out # # # reason remotetransportexception alyssa moy ine # t 127.0.0.2 9302 search phase query scroll ne # sted searchcontextmissingexception no search conte # xt found for id 1 timed out # # # reason remotetransportexception alyssa moy ine # t 127.0.0.2 9302 search phase query scroll ne # sted searchcontextmissingexception no search conte # xt found for id 3 timed out # # # failed 3 # successful 2 # total 5 # # curl -xget http://127.0.0.2 9201 search scroll scroll id cxvlcnluagvurmv0y2g7mjpnzxrhzml4lte1ndq0ozi6z2v0ywzpec0zntazodszomdldgfmaxgtmtu0ndq7mtpnzxrhzml4lte1ndq0oze6z2v0ywzpec0zntazods # # hits # hits # total 1 # # shards # failures # # reason searchcontextmissingexception no search c # ontext found for id 1 timed out # # # reason remotetransportexception alyssa moy ine # t 127.0.0.2 9302 search phase query scroll ne # sted searchcontextmissingexception no search conte # xt found for id 3 timed out # # # reason remotetransportexception alyssa moy ine # t 127.0.0.2 9302 search phase query scroll ne # sted searchcontextmissingexception no search conte # xt found for id 1 timed out # # # reason remotetransportexception alyssa moy ine # t 127.0.0.2 9302 search phase query scroll ne # sted searchcontextmissingexception no search conte # xt found for id 2 timed out # # # failed 4 # successful 1 # total 5 # #	1270
507775	147	clintongormley	2010-04-21T10:04:00.000Z	[]	write to the logs hourly	5	hiya the logs get rotated daily but only if something is actually written to them so quite often i m tailing the log and i don t see the expected outcome this is because the log i m tailing is actually from yesterday and when it writes the new info it rotates the log from under me if you were to write eg ---mark--- every hour then this would ensure that the logs belong to the correct day alternatively just write to the logs at midnight ta clint	88
507775	148	clintongormley	2010-04-21T20:22:52.000Z	[bug;;v0.07.0]	highlighting broken when query is on all field or with prefixes	11	hiya load this data curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xpost http://127.0.0.2 9200 refresh curl -xget http://127.0.0.2 9200 cluster health timeout 2s wait for status green curl -xput http://127.0.0.2 9200 es test 1 type 1 1 create -d num 2 date 2010-04-2 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 create -d num 3 date 2010-04-3 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 create -d num 4 date 2010-04-4 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 create -d num 5 date 2010-04-5 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 create -d num 6 date 2010-04-6 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 create -d num 7 date 2010-04-7 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 create -d num 8 date 2010-04-8 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 create -d num 9 date 2010-04-9 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 create -d num 10 date 2010-04-10 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 create -d num 11 date 2010-04-11 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 create -d num 12 date 2010-04-12 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 create -d num 13 date 2010-04-13 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 create -d num 14 date 2010-04-14 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 create -d num 15 date 2010-04-15 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 create -d num 16 date 2010-04-16 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 create -d num 17 date 2010-04-17 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 create -d num 18 date 2010-04-18 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 create -d num 19 date 2010-04-19 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 create -d num 20 date 2010-04-20 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 create -d num 21 date 2010-04-21 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 create -d num 22 date 2010-04-22 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 create -d num 23 date 2010-04-23 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 create -d num 24 date 2010-04-24 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 create -d num 25 date 2010-04-25 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 create -d num 26 date 2010-04-26 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 create -d num 27 date 2010-04-27 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 create -d num 28 date 2010-04-28 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 create -d num 29 date 2010-04-29 00 00 00 text foo baz then try these queries term query works curl -xget http://127.0.0.2 9200 all search -d query term text foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # 00 00 em foo em # # # # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # 00 00 em foo em # # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # prefix query broken curl -xget http://127.0.0.2 9200 all search -d query prefix text foo highlight fields all size 2 # # hits # hits # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # # # # source # num 4 # text foo # date 2010-04-4 00 00 00 # # index es test 2 # id 3 # type type 1 # highlight # all # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # query-string on field works curl -xget http://127.0.0.2 9200 all search -d query query-string query text foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # 00 00 em foo em # # # # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # 00 00 em foo em # # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # query-string on all broken curl -xget http://127.0.0.2 9200 all search -d query query-string query foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # # # # source # num 6 # text foo bar # date 2010-04-6 00 00 00 # # index es test 1 # id 5 # type type 1 # highlight # all # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # #	1193
507775	149	clintongormley	2010-04-21T20:23:02.000Z	[]	highlighting broken when query is on all field or with prefixes	11	hiya load this data curl -xput http://127.0.0.2 9200 es test 1 -d curl -xput http://127.0.0.2 9200 es test 2 -d curl -xput http://127.0.0.2 9200 all type 1 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xput http://127.0.0.2 9200 all type 2 mapping -d all store yes term vector with positions offsets properties num store yes type integer date format yyyy-mm-dd hh mm ss type date text store yes type string curl -xpost http://127.0.0.2 9200 refresh curl -xget http://127.0.0.2 9200 cluster health timeout 2s wait for status green curl -xput http://127.0.0.2 9200 es test 1 type 1 1 create -d num 2 date 2010-04-2 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 2 2 create -d num 3 date 2010-04-3 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 1 3 create -d num 4 date 2010-04-4 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 2 type 2 4 create -d num 5 date 2010-04-5 00 00 00 text foo curl -xput http://127.0.0.2 9200 es test 1 type 1 5 create -d num 6 date 2010-04-6 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 2 6 create -d num 7 date 2010-04-7 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 1 7 create -d num 8 date 2010-04-8 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 2 type 2 8 create -d num 9 date 2010-04-9 00 00 00 text foo bar curl -xput http://127.0.0.2 9200 es test 1 type 1 9 create -d num 10 date 2010-04-10 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 10 create -d num 11 date 2010-04-11 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 11 create -d num 12 date 2010-04-12 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 12 create -d num 13 date 2010-04-13 00 00 00 text foo bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 13 create -d num 14 date 2010-04-14 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 2 14 create -d num 15 date 2010-04-15 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 1 15 create -d num 16 date 2010-04-16 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 2 type 2 16 create -d num 17 date 2010-04-17 00 00 00 text bar baz curl -xput http://127.0.0.2 9200 es test 1 type 1 17 create -d num 18 date 2010-04-18 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 2 18 create -d num 19 date 2010-04-19 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 1 19 create -d num 20 date 2010-04-20 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 2 type 2 20 create -d num 21 date 2010-04-21 00 00 00 text baz curl -xput http://127.0.0.2 9200 es test 1 type 1 21 create -d num 22 date 2010-04-22 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 2 22 create -d num 23 date 2010-04-23 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 1 23 create -d num 24 date 2010-04-24 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 2 type 2 24 create -d num 25 date 2010-04-25 00 00 00 text bar curl -xput http://127.0.0.2 9200 es test 1 type 1 25 create -d num 26 date 2010-04-26 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 1 type 2 26 create -d num 27 date 2010-04-27 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 1 27 create -d num 28 date 2010-04-28 00 00 00 text foo baz curl -xput http://127.0.0.2 9200 es test 2 type 2 28 create -d num 29 date 2010-04-29 00 00 00 text foo baz then try these queries term query works curl -xget http://127.0.0.2 9200 all search -d query term text foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # 00 00 em foo em # # # # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # 00 00 em foo em # # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # prefix query broken curl -xget http://127.0.0.2 9200 all search -d query prefix text foo highlight fields all size 2 # # hits # hits # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # # # # source # num 4 # text foo # date 2010-04-4 00 00 00 # # index es test 2 # id 3 # type type 1 # highlight # all # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # query-string on field works curl -xget http://127.0.0.2 9200 all search -d query query-string query text foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # 00 00 em foo em # # # # # source # num 5 # text foo # date 2010-04-5 00 00 00 # # index es test 2 # id 4 # type type 2 # highlight # all # 00 00 em foo em # # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # # query-string on all broken curl -xget http://127.0.0.2 9200 all search -d query query-string query foo highlight fields all size 2 # # hits # hits # # source # num 3 # text foo # date 2010-04-3 00 00 00 # # index es test 1 # id 2 # type type 2 # highlight # all # # # # source # num 6 # text foo bar # date 2010-04-6 00 00 00 # # index es test 1 # id 5 # type type 1 # highlight # all # # # # total 16 # # shards # failed 0 # successful 10 # total 10 # #	1193
507775	151	kimchy	2010-04-27T20:53:55.000Z	[feature;;v0.07.0]	analysis icu plugin	3	a plugin using icu http://icu-project.org to allow for unicode-normalization collation and folding the plugin includes the following analysis token files icu normalization normalizes characters as explained here http://userguide.icu-project.org transforms normalization it registeres itself by default under icu normalizer or icunormalizer using the default settings allows for the name parameter to be provided which can include the following values nfc nfkc and nfkc cf . sample setting curl -xput http://localhost 9200 test 1 -d index analysis analyzer collation tokenizer keyword filter icu normalizer icu folding folding of unicode characters based on utr#30 it registeres itself under icu folding and icufolding names sample setting curl -xput http://localhost 9200 test 1 -d index analysis analyzer collation tokenizer keyword filter icu folding icu collation uses collation token filter allows to either specify the rules for collation defined here http://www.icu-project.org userguide collate customization.html using the rules parameter can point to a location or expressed in the settings location can be relative to config location or using the language parameter further specialized by country and variant . by default registers under icu collation or icucollation and uses the default locale sample settings curl -xput http://localhost 9200 test 1 -d index analysis analyzer collation tokenizer keyword filter icu collation sample custom collation curl -xput http://localhost 9200 test 1 -d index analysis analyzer collation tokenizer keyword filter icu collation filter mycollator type icu collator language en	228
507775	155	kimchy	2010-04-30T23:59:04.000Z	[feature;;v0.07.0]	restart api allow to restart one or more nodes	9	the rest api follows the same rules as the shutdown api simply replace shutdown with restart cluster nodes nodeid restart where nodeid can be a list of node ids all or local . with the new service wrapper if a restart is requested and the process is running using the service wrapper a full restart of the jvm will be issued	61
507775	157	kimchy	2010-05-03T07:49:28.000Z	[feature;;v0.07.0]	add online plugin repository and a plugin command to download them	11	add online plugin repository and a plugin command to download them the new scripts will support plugin install mapper-attachments . for now the plugins must be of the same version as elasticsearch and the base-url is hardcoded	37
507775	159	kimchy	2010-05-05T16:45:02.000Z	[enhancement;;v0.07.0]	mapper objectmapper default date formats to also support yyyy mm dd hh mm ss and yyyy mm dd	18	add support for this two formats for auto date detection for object mappers	13
507775	161	kimchy	2010-05-06T22:44:52.000Z	[enhancement;;v0.07.0]	querydsl custom boost factory query	5	a query called custom boost factor that applies a boost factor by simply multiplying it with the embedded query custom boost factor query term name.last banon boost factor 1.3	29
507775	162	kimchy	2010-05-07T21:00:51.000Z	[enhancement;;v0.07.0]	rest api allow to provide case parameter with camelcase to return results in camelcasing	14	all rest responses should allow for camelcasing in field names within the jsonresponse note this does not apply to the source document indexed fetched which is treated as is	29
507775	167	ghost	2010-05-11T14:10:55.000Z	[]	starting first a non-data node and after that the data node will fail to allocate the index	17	thanks a lot for the great work not sure if the following is really a small bug or intentional for now elasticsearch 0.6 it is mandatory to start first a data-node and after that the non-data-node if you want to have access to the index else error indexmissingexception twitter missing . -o	52
507775	168	tweto	2010-05-11T15:17:32.000Z	[bug;;v0.07.0]	nodebuilder.local false sets local to true	6	the method nodebuilder.local boolean local always sets local to true regardless of input	13
507775	169	kimchy	2010-05-12T00:31:42.000Z	[feature;;v0.07.0]	mapper date-format - allow for multiple formats using separator	9	the format in the date-format to allow for multiple date formats this is handy for example to define a format similar to this yyyy mm dd hh mm ss yyyy mm dd . the printing from the millisecond back to a string will use the first format	47
507775	174	kimchy	2010-05-15T13:29:07.000Z	[enhancement;;v0.08.0]	consolidate network settings common tcp settings and generalized port settings	10	create common tcp settings for network.tcp.no delay network.tcp.keep alive network.tcp.reuse address network.tcp.send buffer size and network.tcp.receive buffer size . specific settings still exists the netty ones per module of transport http memcached . also create a more simplified setting for ports transport port can be set using transport.tcp.port on top of the current transport.netty.port http port can be set using http.port on top of http.netty.port and memcached port can be set using memcached.port on top of memcached.netty.port .	78
507775	177	kimchy	2010-05-16T20:39:25.000Z	[enhancement;;v0.07.1]	zen discovery increase ping timeouts	5	change ping timeout to 30 seconds and retries to 3 note this does not mean that 1.5 minutes will pass till a node will be detected as failed since it also detects connection-close	33
507775	178	tweto	2010-05-17T12:01:52.000Z	[bug;;v0.08.0]	uppercase first letter in property name breaks all queries	9	using an uppercase letter first in a property name breaks queries against the all -field for example the code below doesn t match anything curl -xput http://localhost 9200 sff vehicle 1 -d make jeep model jeep curl -xget http://localhost 9200 sff vehicle search q jeep but doing the following works curl -xput http://localhost 9200 sff vehicle 1 -d make jeep model jeep curl -xget http://localhost 9200 sff vehicle search q jeep the problem seems to be that the created mapping uses the property name model in this case as index name . manually creating a mapping with property name model and index name as model works using model also works i m using version v0.7.0	115
507775	179	kimchy	2010-05-17T15:43:07.000Z	[enhancement;;v0.08.0]	memory monitor remove explicit gc call clear cached instead	9	currently when there are memory problems for x amount of time and things can t be flushed gc is called this should not happen instead the caches should be explicitly cleared and gc should not be called the new clear-cache threshold replaces the gc threshold . also because of this change there is no need for a scheduler to run on the soft weak filter caches	66
507775	183	clintongormley	2010-05-20T14:05:16.000Z	[]	killing a node during a query can lock up the cluster	11	to reproduce start a node add an index and some data start another node wait for them to sync put the second node to sleep z issue a search against the first node kill -9 the second node the first node remains in a locked up state - it seems to still think that the first node exists the only thing in the logs is 15 47 48 006 warn transport junta transport response handler timed out action discovery zen fd ping node grandmaster 2738f9f3-4b5f-4206-a9ce-18968d879511 inet 127.0.0.2 9301 while this seems quite convoluted it is relevant because the java-service-wrapper resorts to a kill -9 if the server isn t responding	110
507775	386	pzelnip	2010-09-24T21:49:33.000Z	[bug;;v0.11.0]	sethighlighterposttags sets pre tags instead of post	7	in searchrequestbuilder.java the sethighlighterposttags method sets the pre-tags instead of the post-tags	12
507775	389	mahendra	2010-09-29T10:45:35.000Z	[enhancement;;v0.12.0]	couchdb river support couchdb filter query-parameters	6	couchdb filters support query-parameters it will be good to support this in the elasticsearch couchdb river plugin details of the couchdb filters are documented at http://blog.couchone.com post 468392274 whats-new-in-apache-couchdb-0-11-part-three-new the parameters can be provider under couchdb filter test filter params param1 value1 param2 value2	44
507775	390	mahendra	2010-09-29T10:48:34.000Z	[enhancement;;v0.12.0]	support http-auth in couchdb river plugin	6	some couchdb setups will require http-auth for listening on changes interface the couchdb river plugin needs support for the same should add user and password under the couchdb section to support it	32
507775	391	clintongormley	2010-09-29T17:10:09.000Z	[bug;;v0.12.0]	cluster nodes stats is broken in 0.11	7	hiya the nodes stats command is broken curl -xget http://localhost 9200 cluster nodes stats pretty 1 cluster name es test nodes nodes info still works curl -xget http://localhost 9200 cluster nodes pretty 1 cluster name es test nodes 2edbcc68-935f-4e59-b899-c1d112c7d825 name neurotap transport address inet 127.0.0.1 9302 attributes http address inet 127.0.0.1 9202 os cpu vendor intel model core tm 2 duo cpu t9800 @ 2.93ghz mhz 2934 total cores 2 total sockets 1 ....	74
507775	392	medcl	2010-09-30T07:46:49.000Z	[breaking;;enhancement;;v0.12.0]	thrift definition params is conflict with c# s keyword rename to parameters	12	in thrift idl elasticsearch.thrift struct restrequest 1 required method method 2 required string uri 3 optional map string string params 4 optional map string string headers 5 optional binary body the params is a keyword in .net though can hack it with a @before params maybe is should avoid this	50
507775	394	mahendra	2010-10-01T10:37:29.000Z	[]	filter parameters not formed properly in couchdb river plugin	9	the sign is missing in the code	7
507775	397	kimchy	2010-10-01T14:55:30.000Z	[feature;;v0.12.0]	mapper dynamic template support	4	dynamic templates allow to define mapping templates that will be applied when dynamic introduction of fields objects happens for example we might want to have all fields to be stored by default or all string fields to be stored or have string fields to always be indexed as multi field once analyzed and once not analyzed . here is a simple example person dynamic templates template 1 match multi mapping type multi field fields name type dynamic tpye index analyzed store yes org type dynamictype index not analyzed store yes template 2 match match mapping type string mapping type string index not analyzed the above mapping will create a multi field mapping forall field-names starting with multi and will map all string types to be not analyzed . the dynamic templates section can be placed only on the root object and it is applied to all inner objects fields dynamic templates are named to allow for simple merge behavior a new mapping just with a new template can be put and that template will be added or if it has the same name the template will be replaced the match allow to define matching on the field name an unmatch option is also available to exclude fields if they do match on match . the match mapping type controls if this template will be applied only for dynamic fields of the specified type as guessed by the json format . the format of all the matching is simple format allowing to use as a matching element supporting simple patterns such as xxx xxx xxx yyy with arbitrary number of pattern types as well as direct equality the match pattern can be set to regex to allow for regular expression based matching the mapping element provides the actual mapping definition the name keyword can be used and will be replaced with the actual dynamic field name being introduced the dynamictype or dynamictype can be used and will be replaced with the mapping derived based on the fieldtype or the derived type like date . complete generic settings can also be applied for example to have all mappings be stored just set person dynamic templates store generic match mapping store yes	369
507775	398	kimchy	2010-10-01T23:15:57.000Z	[feature;;v0.12.0]	groovy plugin allow to run use groovy for scripts where applicable	11	there are several places where scripts can be used for example custom score script fields and in different facets implementations allow to run groovy code as the script all constructs now support passing a lang parameter just set it to groovy . to the default scriptengine from mvel to groovy set script.default lang to groovy .	56
507775	401	kimchy	2010-10-03T00:20:15.000Z	[feature;;v0.12.0]	javascript plugin allow to use javascript for scripts	8	allow to use javascript for scripts in custom score script fields and different facets . tha lang should be set to either js or javascript .	26
507775	402	kimchy	2010-10-03T10:51:20.000Z	[feature;;v0.12.0]	scripts allow to access fields providing access to stored fields	10	on top of doc which access cached fields tokens and source which loads the actual source and parses it the new fields allow to access specific stored fields mapped with store set to yes . for example fields my field name .value or fields my field name .values . this can be handy to just load specific fields and not loading the full source and parsing it foreach hit doc is provides the fastest execution at the expense of memory	80
507775	403	kimchy	2010-10-03T20:18:03.000Z	[feature;;v0.12.0]	wikipedia river a river to index wikipedia	7	a simple river to index wikipedia create it using curl -xput localhost 9200 river my river meta -d type wikipedia the default download is the latest wikipedia dump http://download.wikimedia.org enwiki latest enwiki-latest-pages-articles.xml.bz2 . it can be changed using type wikipedia wikipedia url url to link to wikipedia dump the index name defaults to the river name and the type defaults to page . both can be changed in the index section type wikipedia index name my index type my type bulk size 100	83
507775	404	kimchy	2010-10-04T14:19:47.000Z	[enhancement;;v0.12.0]	gateway add gateway.expected nodes for state recovery	7	currently one can set gateway.recover after nodes setting to control after how many nodes within the cluster recovery will start the gateway.recover after time sets the time to wait till recovery happens once the nodes are met the missing setting in this scenario is the ability to set how many nodes are expected to be in the cluster for example setting gateway recover after nodes 1 recover after time 5m expected nodes 2 in an expected 2 nodes cluster will cause recovery to start 5 minutes after the first node is up but once there are 2 nodes in the cluster recovery will begin immediately without waiting .	108
507775	409	kimchy	2010-10-05T22:34:27.000Z	[bug;;v0.12.0]	local gateway possible failure to allocate shards to nodes when more than one index exists in the cluster on full cluster restart	22	the title says it all	5
460078	40	mhevery	2010-10-06T23:07:34.000Z	[]	remove init after linking phase	5		0
507775	410	kimchy	2010-10-06T23:46:19.000Z	[feature;;v0.12.0]	term facet use a script that provides the facets to index	11	term facets support providing script to further filter terms by using the term variable . a script field option allow to provide a script that actually provide the terms to use the script field or script with automatically be used when no field or fields are provided as an example a search request that is quite heavy can be executed and use either source itself or fields for stored fields without needing to load the terms to memory at the expense of much slower execution of the search and causing more io load . query match all facets my facet terms script field source.my field size 10 or query match all facets my facet terms script field fields my field size 10 as a side note joining the results of one or more term facets simply requires using the same facet name .	143
507775	413	kimchy	2010-10-07T14:47:59.000Z	[enhancement;;v0.12.0]	querydsl query string field to use the optimized match all query when using or	14		0
507775	414	kimchy	2010-10-08T20:30:50.000Z	[breaking;;bug;;enhancement;;v0.12.0]	geo overhaul work with multiple locations	6	the current geo support does not work well when a document as multiple locations for this reason the structure of how geo information is indexed requires changing note sadly this requires both reindexing of the data if geo features are used and requires to predefine the geo point type for geolocation objects where before just an object with lat and lon fields were enough . the geo point has been changed now a string representation lat lon is always stored under the objectname for example pin location lat 40.12 lon -71.34 will cause a field called location with the 40.12 -71.34 value to be stored lat lon are not stored by default now since they are not needed geohash can still be enabled as well the new options for geo point are lat lon set to true to also index a lat and lon fields geohash set to true to also index a geohash under pin.location.geohash in our example . geo precision the geohash precision defaults to 12 . when loading a geo point in a script using the doc ... notion a value for example doc location .value returns a geopoint which allows to access lat lon and geohash within the script much simpler to be used in scripts compared to previously .	214
507775	415	kimchy	2010-10-08T21:06:04.000Z	[breaking;;v0.12.0]	thrift rename status.continue to status.cont reserved word	7		0
507775	416	abh	2010-10-08T21:40:09.000Z	[enhancement;;v0.12.0]	twitter river support filter stream	5	http://dev.twitter.com pages streaming api methods filter stream can be configured to support tracks follow and locations . the configuration is the same as the twitter api a single comma separated string value or using json arrays . here is an example type twitter twitter user me passowrd 123456 filter tracks test something please follow 111 222 333 locations -122.75 36.8 -121.75 37.8 -74 40 -73 41 here is an array based configuration example type twitter twitter user me passowrd 123456 filter tracks test something follow 111 222 333 locations -122.75 36.8 -121.75 37.8 -74 40 -73 41	97
507775	418	kimchy	2010-10-09T18:59:20.000Z	[feature;;v0.12.0]	python plugin allow to use python for scripts	8	allow to use python as scripts lang set to python . doc fields and source are dicts	17
507775	421	kimchy	2010-10-10T17:30:51.000Z	[breaking;;v0.12.0]	bulk api rename index to index type to type and id to id	13	the bulk api is not consistent with the other apis where the index name index type type and id id are used rename it	24
507775	422	kimchy	2010-10-11T22:16:38.000Z	[enhancement;;v0.12.0]	use base64 encoding for uuid generation auto generated doc ids and node ids	13	this will be a big win for auto generated node ids as it will have less data to store per id	21
507775	424	kimchy	2010-10-12T23:37:00.000Z	[enhancement;;v0.12.0]	querydsl fine grained filter caching control with sensible defaults	9	a more fine grained control over filters and if they should be cached or not caching a filter basically means building a fast in memory lookup of doc id - bit 0 does not match 1 match . for some filters it make sense to default to cache them and some not all allow to change the default behavior by setting cache to either true or false . the following filters are cached by default prefix term terms range . the following filters are not cached by default and bool fquery geo bounding-box geo distance geo polygon not or script . the ones that are not cached are already either fast since they work against cached field data or the chances of executing the same filter are low enough that it does not make sense to default it there are cases though where it does make sense to cache it for example executing a common filter for distance from a certain point should enable caching	165
507775	428	kimchy	2010-10-14T12:03:22.000Z	[enhancement;;v0.12.0]	plugins allow to place extracted plugins under the plugins directory	10	any folder placed within the plugins directory will automatically be added to the classpath its root and any jars within it will be added as well	26
507775	429	kimchy	2010-10-14T14:13:59.000Z	[enhancement;;v0.12.0]	scripting allow to define scripts within config scripts automatically compiled and can be referenced by name	16	allow to provide scripts to be precompiled on node startup within the config scripts directory scripts end with the common lang extension mvel js py groovy . the name of a script is the name of the file prefixed by internal directories for example if the script exists in config scripts group1 group2 test.py the script name will be group1 group2 test . the script name can then be used in any element that accepts a script replacing the actual script content	82
507775	431	kimchy	2010-10-14T15:56:40.000Z	[enhancement;;v0.12.0]	couchdb river allow to define a javascript that can munge the changes stream	13	a javascript can be provided within the couchdb settings that can munge the changes stream the json provided to the script is under a var called ctx with the relevant seq stream change for example ctx.doc will refer to the document or ctx.deleted is the flag if its deleted or not . note this feature requires the lang-javascript plugin the ctx.doc can be changed and its value can will be indexed assuming its not a deleted change . also if ctx.ignore is set to true that change seq will be ignore and not applied here is an example setting that adds field1 with value value1 to all docs type couchdb couchdb script ctx.doc.field1 value1	114
460078	51	esprehn	2010-10-14T21:26:59.000Z	[]	angular.service should preserve properties on override	6	ex angular.service my function return old creation eager-published angular.service my function return new should still have creation of eager-published	19
507775	433	kimchy	2010-10-15T09:04:23.000Z	[enhancement;;v0.12.0]	local gateway don t block meta operations delete index on an index that is not recovered due to not all shards being available	23		0
507775	435	kimchy	2010-10-16T13:38:08.000Z	[feature;;v0.12.0]	querydsl numeric range filter - a filter that uses the field data cache to perform numeric tests	17	the field data cache loads all the values for a given field to memory and is used when sorting on a field or using it in facets the numeric range filter which has exactly the same format as range filter uses field data cache to perform the numeric cache which can provide much faster results than using the plain range filter at the expense of more memory-consumption but if its already loaded since its sorted on or used in facets no harm done... . by default this filter is not cached has cache set to false . note caching a filter is caching the result of a filter for faster subsequent execution of the same filter with same parameters .	120
507775	436	kimchy	2010-10-17T14:21:44.000Z	[enhancement;;v0.12.0]	statistical facet allow to compute statistical facets on more than one field	12	allow statistical facet to compute the numeric stats on more than one field the format is simple query match all facets stat1 statistical fields num1 num2	26
507775	437	kimchy	2010-10-17T17:56:05.000Z	[breaking;;enhancement;;v0.12.0]	mapper allow to configure date formats only on the root objectmapper	11	currently one can define date formats on all level of object mappers for dynamic identification of date fields . this is not easy to handle merging like adding a new format as well as more data stored per mapper move to only allow to define date formats on the root objectmapper and it will apply to all object mappers	59
507775	438	kimchy	2010-10-18T09:13:26.000Z	[enhancement;;v0.12.0]	plugins plugins should now be in extracted format under es home plugins	12	plugins should now be in their extracted form under es home plugins . the plugin -install command does that automatically now so no need to change anything building from master will require extracting a plugin into the plugins directory	39
507775	439	kimchy	2010-10-18T13:18:21.000Z	[enhancement;;v0.12.0]	improve automatic publish network address logic	6	order the network interfaces by index and then find the first non loopback-address this should give better out of the box experience as vpn and vm ones are defined after the main one en0 en1 .	36
507775	441	kimchy	2010-10-20T00:56:42.000Z	[enhancement;;v0.13.0]	reduce multiple indices overhead don t create indices data on nodes that don t hold any shard for an index	20	internal optimization there is data associated with each index parsed mappings custom analyzers and os on . optimize to not create those index level structures if there is no shard of that index allocated on a node	37
507775	442	mcclured	2010-10-21T15:49:31.000Z	[enhancement;;v0.15.0]	java-client - allow to set facets in binary format	9	currently one can set the query and filter as binary formats directly on the search request builder allow to set the facets in a similar manner also on the groovy client expose setfacets that accepts a closure allowing to explicitly set just the facets using a closure	47
507775	444	kimchy	2010-10-22T00:50:29.000Z	[feature;;v0.13.0]	write consistency level for index delete delete by query bulk with one quorum all defaults to quorum	17	when performing a write operation allow to control if it can be performed only when one shard is active a quorum of shards are active within a replication group or all . this can be controlled per api call rest parameter is consistency and can be set to one quorum or all . it defaults to a node level setting of action.write consistency which in turn defaults to quorum . this basically means that the default is quorum . what does this means basically in a 1 shard with 2 replicas there will have to be at least 2 shards active quorum within the cluster for the operation to be performed in a 1 shard with 1 replica at least 1 shard will need to be active in this case quorum and one is the same .	137
507775	445	kimchy	2010-10-22T12:48:35.000Z	[enhancement;;v0.13.0]	querydsl add exists and missing filters to filter documents where a field either has a value or not in them	20	the exists filter will only include documents where the field has a value in them and missing where a field does not have a value in them the syntax is simple exists field my field the filter result is always cached and it can be named by setting name .	50
507775	446	kimchy	2010-10-22T15:50:59.000Z	[enhancement;;v0.13.0]	querydsl query string missing and exists syntax	7	the exists and missing syntax allows to control docs that have fields that exists within them have a value and missing the syntax is exists field1 missing field and can be used anywhere a query-string is used query-string and field query .	42
507775	447	kimchy	2010-10-23T19:50:09.000Z	[feature;;v0.13.0]	indices api add open and close index	7	allow to close and index and open an index a closed index has almost no overhead on the cluster except for maintaining its metadata and is blocked for read-write operations a closed index can be opened which will then go through the normal recovery process the rest endpoints are post for index close and index open .	57
507775	449	kimchy	2010-10-25T11:50:49.000Z	[enhancement;;v0.12.1;;v0.13.0]	querydsl constant score and filtered queries cache filters by default remove it	12	with the updated fine grained control if filters are cached or not there is no need to cache the filters on the constant score or filtered query level default cache to false really it usually should not even be set .	41
507775	450	kimchy	2010-10-25T13:52:00.000Z	[enhancement;;v0.12.1;;v0.13.0]	querydsl term term prefix and range filter are now weakly cached for more strong caching set cache to true	19	currently term terms prefix and range filters are cached by default since the way they are implemented means caching them does not require extra processing . they still retain memory and fight with other caching structures for space change that by default this filters will be weakly cached they will be evicted first before other caching constructs especially field cache . when using those filters with high chances of reuse those filters will be constantly used by other queries set cache to true to enable more strong caching	88
460078	85	igorminar	2010-10-26T04:36:18.000Z	[]	angular.foreach should be angular.foreach	4	given that most of the other methods all the other methods are camelcased having foreach lowercased is really annoying	19
507775	452	medcl	2010-10-26T11:10:16.000Z	[bug;;v0.12.1;;v0.13.0]	thrift response might get corrupted with extra data	8	when doing a search query use thrift transport httpclient is fine it sounds like that some unnecessary json block was appended after right result that made the result on invalid state when parsing the result and it was happed with that i have some random query and each the result maybe different for example it was supposed to return the following result shards total 5 successful 5 failed 0 hits total 0 max score null hits but actually what i got is shards total 5 successful 5 failed 0 hits total 0 max score null hits s index index type default id a4d3805b-be55-495e-b13a-0af9b49c94a8 score 1.411927 source id 52441 validateid mao user ulid 44 username 05505013 usertype 0 islock 0 excelid null createtime 2007-01-19 14 34 56.130 index index type default id d13db255-6bf2-4bbc-b0f3-c8fbd88043c5 score 1.411927 source id 52444 validateid 111111 user ulid 44 username 06721214 usertype 0 islock 0 excelid null createtime 2007-01-19 14 51 24.600 index index type default id 98cf1ec5-1640-4bf1-b8e0-4b8ae2454b20 score 1.411927 source id 52445 validateid redapple user ulid 44 username 06523126 usertype 0 islock 0 excelid null createtime 2007-01-19 14 53 52.257 index index type default id 3d0a1f80-86f5-4203-8834-54f58da041f7 score 1.411927 source id 52452 validateid 198711251919 user ulid 44 username 05715028 usertype 0 islock 0 excelid null createtime 2007-01-19 15 22 01.630 index index type default id 76eb76d2-9029-4c3a-ba58-fca37de44fe3 score 1.411927 source id 52456 validateid 23281227 user ulid 44 username 06721175 usertype 0 islock 0 excelid null createtime 2007-01-19 15 57 05.037 index index type default id b90841e0-2936-45a1-a276-43f4c6a9fd75 score 1.411927 source id 52464 validateid 10631008 user ulid 41 username 10631008 usertype 0 islock 0 excelid null createtime 2007-01-19 18 56 18.930 index index type default id c68f5f39-3ced-4ec7-9c01-8608a51d1040 score 1.411927 source id 52486 validateid 819122 user ulid 44 username 05525028 usertype 0 islock 0 excelid null createtime 2007-01-20 14 21 09.787 index index type default id b8646c8f-013b-4db0-be9b-e1af0d44a7cb score 1.411927 source id 52487 validateid 04514166 user ulid 44 username 04514166 usertype 0 islock 0 excelid null createtime 2007-01-20 14 23 03.913 index index type default id a88af3c2-f2af-4fc2-90c3-af08c40ab43f score 1.411927 source id 52490 validateid vv127127 user ulid 44 username 06721187 usertype 0 islock 0 excelid null createtime 2007-01-20 15 14 30.507 index index type default id dba12596-bebb-4af9-9d2e-2c31d8eb8c3e score 1.411927 source id 52491 validateid 7758521 user ulid 44 username 05713129 usertype 0 islock 0 excelid null createtime 2007-01-20 15 22 21.083	387
507775	453	kimchy	2010-10-26T11:39:30.000Z	[enhancement;;v0.12.1;;v0.13.0]	querydsl term filter to have cache set to true by default	11	since term filter is usually used for common and repeating terms tags country and such default the cache to true meaning it will be strongly cached	26
507775	455	kimchy	2010-10-27T17:51:13.000Z	[enhancement;;v0.12.1;;v0.13.0]	search change default operation threading to thread per shard from single thread	12	note this only affects cases when the search request is executed on several shards within the same node that accepted the request	22
507775	456	kimchy	2010-10-27T18:25:22.000Z	[enhancement;;v0.12.1;;v0.13.0]	querydsl revert backand have range terms and prefix filter cache set to true	13	basically the idea of filters and when they make sense is when they are cacheable i.e repeated in several queries so range filter will mostly be used when filters can be reused across queries like age 10 . so it make sense to default it to cache set to true . same applies to terms prefix and term which was already changed need to properly doc when to use filters and when to use queries .	76
507775	457	kimchy	2010-10-27T21:12:19.000Z	[feature;;v0.13.0]	transport thrift upgrade to thrift 0.5.0	6		0
460078	98	igorminar	2010-10-27T23:42:28.000Z	[]	infinite-loop when location hash is set to empty	8	in any angular app open the main html and append # to it in the address-bar and open the page e.g file .... example temp.html# the browser will keep on reloading the page like crazy no routes definition or onchange handlers are needed for this to be reproducible affects all browsers	51
507775	461	kimchy	2010-10-28T10:01:52.000Z	[feature;;v0.13.0]	mapper ip type support ipv4 auto detection with dynamic mapping	10	an ip mapping type allowing to store ipv4 addresses in a numeric form allowing to easily sort and range check it it has exactly the same mapping options as date except for the format .	35
507775	463	kimchy	2010-10-30T16:23:48.000Z	[enhancement;;v0.13.0]	index move compound format setting to index.compound format old setting still supported	12	setting compound format setting should be set using index.compound format defaults to false . the old setting index.merge.policy.use compound-file is still supported .	23
507775	464	kimchy	2010-10-30T17:39:43.000Z	[feature;;v0.13.0]	when on linux force it not to swap elasticsearch process jvm	11	this uses the same mechanism in cassandra thanks and requires an optional dependency on jna note in order for this to be effective make sure to set min and max memory to the same value	35
507775	465	kimchy	2010-10-31T12:34:17.000Z	[bug;;v0.13.0]	on full cluster restart replicas transaction logs are not getting cleaned	11	on full cluster restart when a replica recovers its state from the primary shard its previous transaction-log is not getting cleaned	21
507775	466	kimchy	2010-11-01T20:58:38.000Z	[bug;;v0.13.0]	possible rare shard index corruption different doc count on recovery gateway shard	12	the problem stems from the reusing of existing index files when doing recovery checksums should be added but in order to have it performant they are computed on write this menas that existing indices will still work but might suffer from it new internal index files will get checksummed and eventually the index will be fully checksummed though it is recommended to reindex the data	65
460078	119	igorminar	2010-11-02T05:05:27.000Z	[]	scenario dsl matcher tomatch doesn t display regexp string if matching fails	12	just an empty string is displayed expected but was 10 28 2010 @ 8 40pm should be expected 10 2 d 2010 d 1 2 d 2 am pm but was 10 28 2010 @ 8 40pm even better expected match for 10 2 d 2010 d 1 2 d 2 am pm but was 10 28 2010 @ 8 40pm	61
507775	468	kimchy	2010-11-02T10:08:30.000Z	[enhancement;;v0.13.0]	rivers add a status doc foreach river	7	a status doc status under river river name status that exposes the general status of the river which includes the node the river is running on this is automatically created forall rivers	32
507775	469	kimchy	2010-11-02T12:00:24.000Z	[enhancement;;v0.13.0]	index merge change default index.merge.scheduler.max thread count from to be adaptive based on processor count	15	change the default index.merge.scheduler.max thread count to be math.max 1 math.min 3 runtime.getruntime .availableprocessors 2 .	16
507775	470	kimchy	2010-11-02T17:54:36.000Z	[feature;;v0.13.0]	api allow to control document shard routing and search shard routing	11	currently when indexing or deleting documents they are hashed based on the type and id and routed to a shard based on the hash result when searching the search request is a broadcast request to all shards within an index sometimes it make sense to control this routing for example indexing blob posts for a specific user might be routed based on the user id if routing is controlled then when performing a search on posts for only that user only the relevant shard that match the user id can be queried resulting in much faster search and overhaul less load on the system the index and delete operation now allow for a routing parameter to be specified when specified that routing value will be used to control the shard placement the bulk operation allows to specify routing foreach item to control the routing for that index delete create operation the get operation allows to specify a routing parameter as well to specify which shard the doc will be fetched from note in our blog post partitioned by user example doing a lookup just by the post id will not be enough and probably will not find anything the user id will also need to be specified in the routing parameter the search and count operations accept a routing parameter as well controlling which shards the search will be executed on the routing parameter accepts a comma separated list of the routing values to use and the all relevant shards will execute the query note even when specifying a search for a specific user blog posts using the routing parameter set to the user id filtering only the user posts is still needed by for example adding a term filter with the user id the delete by query operation also accepts a routing parameter which is a comma separated list of routing values of controlling which shards the delete query will be executed on one question that might arise is why not use indices to get the same behavior for example create an index per user the reason is that indices have a much lower limit on how many of them can be created a single machine can easily support millions of users with millions of posts creating an index per user will mean millions of indices which is problematic as even with a single shard per index it does mean millions of lucene indices	405
507775	471	kimchy	2010-11-02T21:49:58.000Z	[enhancement;;v0.13.0]	querydsl add field masking span query	6	field masking span maps to lucene fieldmaskingspanquery it accepts a span query as an inner query and the field in a field element	23
507775	472	kimchy	2010-11-03T10:47:09.000Z	[breaking;;v0.13.0]	change single operation shard hashing to only use id and not id and type	14	currently single operation hashing index delete get is using the type as part of the hashing to decide which shard to direct to it make more sense to just use the id for several reasons first the new routing control capability will allow to direct docs to be placed in the same placement of another doc blog and commends for example just based on that doc id the routing when indexing a comment can use the blog post id and thats it . there are future features where this type of hashing will really simplify them so it make sense to make this change now this change will require to reindex the data in order to revert back to using the type for hashing as well set cluster.routing.operation.use type to true . this means that a cluster can be started by setting this flag start another cluster and reindex data from the old cluster into the new cluster	158
507775	473	kimchy	2010-11-03T12:38:42.000Z	[breaking;;v0.13.0]	create specific data location for indices move from work	9	initially the idea was that work consisted of transient data but with the local gateway and the fact that indices gets reused with shared gateway the data location where indices are stored is quite important now the following are the paths path.data path to where data will be placed defaults to es home data . path.logs path to logs location defaults to es home logs . path.work path to temporary data created defaults to es home work . in order to upgrade to new version the simplest thing to do is rename work to data . if path.work is set to point to the data location storage change it to path.data .	112
203666	60	geemus	2010-11-04T00:56:14.000Z	[medium]	consistent private public ip accessors thanks abecc	7	for instance aws servers have private ip address and ip address but rackspace servers have addresses public and addresses private which are arrays array vs single value may need to be reconciled and naming should be unified private ip address and public ip address would probably be good as the accessors so other stuff will need to be updated and or deprecated as appropriate to allow for this you may want to talk to geemus before tackling this because it could be a bit hairy otherwise i ll get to it eventually	92
507775	476	kimchy	2010-11-04T08:54:51.000Z	[feature;;v0.13.0]	mapper add path match for full object navigation path matching	10	currently match only maps on the field name of the jsonobject property for the mapping to be applied on the path match allows to set full matching including the concatenated path up to the field in a similar to unmatch there is also an option for path unmatch . for example using the following data id 1 name toplevel obj1 name obj1 level obj2 name obj2 level the following mapping can now be applied person dynamic templates template 1 path match obj1.obj2 mapping store no template 2 path match obj1 mapping store yes	93
507775	477	kimchy	2010-11-04T18:17:37.000Z	[bug;;v0.13.0]	constant score query might apply deletes wrongly	7	constant score query might apply deletes wrongly resulting in deleted docs returning when searching	14
507775	478	kimchy	2010-11-04T18:29:53.000Z	[enhancement;;v0.13.0]	improve performance when searching across multiple types	7	instead of using a boolean filter wrapping the different type options use a terms filter which will both executed faster and improve caching behavior when searching across multiple types	29
460078	123	esprehn	2010-11-04T18:32:04.000Z	[]	repeater should use new binding logic for substring matching	9	see dsl.js	2
507775	479	jessiehernandez	2010-11-05T00:42:33.000Z	[bug;;v0.14.0]	highlighting bug where fragments are broken when number of fragments is 0	12	this is happening on version 0.12.1 when highlighting is specified some of the highlight fields come complete and some are broken when those documents are access directly by providing the direct index as from and setting size as 1 it comes fine reproduce code is below bash script curl -xput http://server 9200 indexname highbug mapping -d highbug properties body store yes term vector with positions offsets type string title store yes term vector with positions offsets type string for i 0 i 20 ++i do curl -xput http://server 9200 indexname highbug i -d body test body date date + s title this is a test on the highlighting bug present in elasticsearch done the call below returns the full highlighted fragment for the 1st and 5th results and the 2nd through 4th results return hting em bug em present in elasticsearch instead of this is a test on the highlighting em bug em present in elasticsearch . curl -xget http://server 9200 indexname highbug search pretty true -d query query-string query bug from 0 size 5 highlight fields title number of fragments 0	182
507775	481	ppearcy	2010-11-05T22:12:51.000Z	[enhancement;;v0.13.0]	fs gateway add native filelock to ensure two nodes in a split brain are not updating same gateway	18	add filelock to gateway to ensure two nodes in a split brain are not updating same gateway this should be able to prevent index corruption with two clusters split brained trying to write to same gateway in order to disable it set gateway.fs.snapshot lock to false .	47
507775	482	kimchy	2010-11-05T22:59:12.000Z	[enhancement;;v0.13.0]	querydsl allow to control globally the max clause count for bool query defaults to 1024	15	querydsl allow to control globally the max clause count for bool query defaults to 1024 . the setting is index.query.bool.max clause count .	23
507775	483	kimchy	2010-11-06T20:46:14.000Z	[enhancement;;v0.13.0]	add an option to display max open files by setting -des.max-open-files to true	13	when -des.max-open-files is set will log the maximum open files that elasticsearch process canopen note this is done by trying to open files until the limit is reached so this is the best way for the test though its not enabled by default for startup performance reasons	47
507775	484	kimchy	2010-11-07T11:12:57.000Z	[bug;;v0.13.0]	document level analyzer analyzer index analyzer search analyzer are not serialized and not maintained across restarts	16	document level analyzer analyzer index analyzer search analyzer are not serialized and not maintained across restarts	16
507775	485	kimchy	2010-11-07T16:17:49.000Z	[feature;;v0.13.0]	mapper an analyzer mapper allowing to control the index analyzer of a document-based on a document field	17	the analyzer mapping allows to use a document field property as the name of the analyzer that will be used to index the document the analyzer will be used for any field that does not explicitly defines an analyzer or index analyzer . here is a sample mapping type1 analyzer path my field the above will use the value of the my field to lookup an analyzer registered under it for example indexing a the following doc my field whitespace will cause the whitespace analyzer to be used as the index analyzer forall fields without explicit analyzer setting the default path value is analyzer so the analyzer can be driven for a specific document by setting analyzer field in it if custom json field name is needed an explicit mapping with a different path should be set	137
507775	486	kimchy	2010-11-07T18:10:07.000Z	[enhancement;;v0.13.0]	analysis allow to alias analyzers	5	allow to alias analyzers allowing to lookup the same analyzer using several possible names for example index analysis analyzer standard alias alias1 alias2 type standard stopwords test1 test2 test3 then the standard analyzer can also be referenced where applicable using the alias1 and alias2 names	45
507775	488	kimchy	2010-11-07T21:50:02.000Z	[enhancement;;v0.13.0]	get action allow to pass refresh forcing getting latest	9	the refresh parameter can be set to true or 1 to force getting latest	14
460078	134	esprehn	2010-11-09T03:47:35.000Z	[type: feature]	element dsl should have method css to get set a css property	12	element ul li .css display	5
507775	506	apatrida	2010-11-09T17:46:08.000Z	[enhancement;;v0.13.0]	mapping add threshold to source field compression	7	source field can be compressed but should have a minimum threshold at which compression kicks in otherwise the field remains uncompressed the threshold can be set using compress threshold parameter which accepts a byte size value 100b 10kb 5g . the compress threshold can be set without explicitly setting compress to true . also it allows for smart mapper merging allowing to change the value on-the-fly	66
507775	507	kimchy	2010-11-09T19:24:54.000Z	[enhancement;;v0.13.0]	cluster health api should return red status on applicable levels when an index has not recovered from the gateway	19	cluster health api should return red status on applicable levels when an index has not recovered from the gateway	19
203666	68	geemus	2010-11-09T23:00:23.000Z	[]	aws server ssh bootstrap frequently hangs when using micro instances	10	current implementation has a hacky 10 second sleep which seemed to work for some reason if you try to connect prior to some amount of delay net-ssh will just hang should instead try earlier but with a timeout retry loop until a connection can be established that way it can work faster in some cases and in other cases it will at least not fail mostly the micro case where it seems 10 seconds is not long enough .	79
507775	511	berndlutz	2010-11-12T22:56:57.000Z	[feature;;v0.13.0]	querydsl allow to provide pattern field-names when using query-string query	10	when using query-string query allow to use simple pattern-matching to allow to expand the fields searched on to the ones matching the pattern for example a document in the following form name first shay last banon and a query-string to query any field under name query-string fields name query test the matching is done on the full name of the fields the index name and the stand alone name so allows for interesting matching capabilities the matching is done using the simple pattern-matching support match a string against the given pattern supporting the following simple pattern styles xxx xxx xxx and xxx yyy matches with an arbitrary number of pattern parts as well as direct equality .	117
507775	515	kimchy	2010-11-15T09:34:08.000Z	[enhancement;;v0.13.0]	mapper store the routing if provided under a routing field	10	when providing routing store it under the routing field this will allow to later on reindex the relevant document otherwise the routing might be lost... .	26
507775	516	kimchy	2010-11-15T12:12:16.000Z	[enhancement;;v0.13.0]	mapper date type to also allow providing values in numeric milliseconds since epoch	13	on top of supporting dates formatted as string also support providing the values as milliseconds since epoch value	18
507775	517	kimchy	2010-11-15T13:02:05.000Z	[enhancement;;v0.13.0]	histogram facet allow to define a key field and value script	11	allow for the combination of having a key field and value script in a histogram facet	16
507775	518	kimchy	2010-11-15T23:25:26.000Z	[breaking;;v0.13.0]	mapping rename attributes to meta	5	renamed the attributes notation to add metadata information on a mapping to meta . defining it is now done using meta and not attributes .	25
507775	520	kimchy	2010-11-16T10:59:39.000Z	[enhancement;;v0.13.0]	routing allow to specify on the routing mapping that its required and fail index operations that do not provide one	20	in the mapping definition allow to define on the routing element that it is required by settings requried true . this will hint difference apis to take it into account start with the index api and fail the index operation if routing is not provided also when provided within the bulk api .	53
507775	522	kimchy	2010-11-16T16:03:43.000Z	[feature;;v0.13.0]	routing when specify in the mapping routing required a delete without explicit routing value should automatically be broadcasted to all shards	21	when specify in the mapping routing required a delete without explicit routing value should automatically be broadcasted to all shards	20
507775	524	kimchy	2010-11-17T15:05:21.000Z	[feature;;v0.13.0]	routing allow to define path on the routing mapping to automatically extract the routing from it	16	allow to define a path for the routing mapping allowing to use a document field value as the routing value the path allows for dot-notation to access inner objects and fields for example comment routing required true path blog.post id the above will route the following document using the value 111222 text the comment text blog id 111222 a note when using path and not providing the routing specifically in the api there might be an additional parsing stage to extract the routing before directing the operation to the relevant shard also there is a validation stage as well if the routing is provided as part of the api and a path is specified	114
460078	152	kurtsteinkraus	2010-11-17T18:54:27.000Z	[type: bug]	resource .query sometimes calls callback before returning and it shouldn t	11	when i write this.myresource resource ... and then var self this this.foo this.myresource.query function do something with self.foo sometimes self.foo is not set when the query callback is called it looks like the query callback is being called while the query call is still in progress it seems like there are two possible fixes to this problem first the query callback could be called only after the query call has completed second the result of the query call could be passed as a param into the query callback so that the callback doesn t need to grab the value from its closure if you go the second route you ll probably want to update the documentation at http://angularjs.org service resource .	121
460078	153	esprehn	2010-11-17T19:00:35.000Z	[type: bug]	angular incorrectly enforces the name-attribute to create bindings on inputs	10	the html spec says that name is not required so angular should not force people to use it ex it s very common to use inputs to show copy pasteable data for instance textarea readonly code snippet textarea since selectall with that field in focus will selectall text angular creates an ng-exception on the element because the name-attribute is missing	60
460078	159	esprehn	2010-11-18T23:14:59.000Z	[type: bug]	make datefilter error messages more user-friendly	6	1280526317792 date mm dd yy causes an exception but 1280526317792 date mm dd yy works fine the generated error is hard to decipher	23
507775	527	luddic	2010-11-19T13:25:03.000Z	[bug;;v0.13.1;;v0.14.0]	log4j syslog appender don t load	6	hi current elasticsearch cannot use syslog appender in log4j because of this log4j error could not instantiate class org.apache.log4j.syslogappender . java.lang.classnotfoundexception org.apache.log4j.syslogappender at java.net.urlclassloader 1.run urlclassloader.java 202 at java.security.accesscontroller.doprivileged native method at java.net.urlclassloader.findclass urlclassloader.java 190 at java.lang.classloader.loadclass classloader.java 307 at sun.misc.launcher appclassloader.loadclass launcher.java 301 at java.lang.classloader.loadclass classloader.java 248 at java.lang.class.forname0 native method at java.lang.class.forname class.java 169 at org.apache.log4j.helpers.loader.loadclass loader.java 179 at org.apache.log4j.helpers.optionconverter.instantiatebyclassname optionconverter.java 320 at org.apache.log4j.helpers.optionconverter.instantiatebykey optionconverter.java 121 at org.apache.log4j.propertyconfigurator.parseappender propertyconfigurator.java 664 at org.apache.log4j.propertyconfigurator.parsecategory propertyconfigurator.java 647 at org.apache.log4j.propertyconfigurator.configurerootcategory propertyconfigurator.java 544 at org.apache.log4j.propertyconfigurator.doconfigure propertyconfigurator.java 440 at org.apache.log4j.propertyconfigurator.configure propertyconfigurator.java 367 at org.elasticsearch.common.logging.log4j.logconfigurator.configure logconfigurator.java 111 at org.elasticsearch.bootstrap.bootstrap.setuplogging bootstrap.java 92 at org.elasticsearch.bootstrap.bootstrap.main bootstrap.java 153 correct class must be org.apache.log4j.net.syslogappender not log4j directly but log4j net maybe other net appenders have same problems	118
507775	529	kimchy	2010-11-21T15:32:48.000Z	[feature;;v0.14.0]	analyze api an api to analyzer custom text-based on an optional analyzer	12	an api to analyze custom text provided within a specific analyzer . the rest endpoint is curl -xget localhost 9200 index analyze for example curl -xget localhost 9200 test analyze text this is a test an analyzer can also be provided to use a different analyzer than the default indexing analyzer for the index curl -xget localhost 9200 test analyze analyzer whitespace text this is a test the text can also be provided as the request body the format of the response can also be provided by default it is detailed breaking each token information into a jsonobject . the text format provides the analyzed data in a single text response	111
507775	530	rkroll	2010-11-21T17:25:14.000Z	[enhancement;;v0.14.0]	support date and ip types for numeric range filter	9	since both date and ip types are stored internally as numbers the numeric range filter should support them as well	20
507775	531	kimchy	2010-11-23T12:46:14.000Z	[bug;;v0.13.1;;v0.14.0]	delete mapping api wrongly deleting existing mapping information	8	existing mapping information is not correctly deleted causing old mapping definitions to still hang around and affect the system	19
507775	532	kimchy	2010-11-23T13:07:52.000Z	[bug;;v0.13.1;;v0.14.0]	query-cache invalidate the query-cache when mappings change	7	when mapping change queries now might be constructed differently invalidate it in case it does change	16
507775	535	kimchy	2010-11-23T22:57:37.000Z	[enhancement;;v0.14.0]	bulk api add refresh flag	5	add refresh flag to bulk api a rest param for example bulk refresh true to the relevant shards post the bulk operation	22
507775	536	andreiz	2010-11-23T23:43:52.000Z	[enhancement;;v0.14.0]	search api add how long the search took in milliseconds	10	add took to the search response which is the time it took to execute the search request in milliseconds	19
507775	540	kimchy	2010-11-26T13:44:27.000Z	[feature;;v0.14.0]	index templates	2	index templates allows to define templates that will automatically be applied to indices created the templates include both settings and mappings and a simple pattern template that controls if the template will be applied to the index created for example curl -xput localhost 9200 template template 1 -d template te settings number of shards 1 mappings type1 source enabled false defines a template named template 1 with a template pattern of te . the settings and mappings will be applied to any index name that matches the te template removing an index template -------------------------- index templates are identified by a name in the above case template 1 and can be delete as well curl -xdelete localhost 9200 template template 1 getting an index template ------------------------- getting a specific index template can be done using for example curl -xget localhost 9200 template template 1 multiple templates matching --------------------------- multiple index templates can potentially match an index in this case both the settings and mappings are merged into the final configuration of the index the order of the merging can be controlled using the order parameter with lower order being applied first and higher orders overriding them for example curl -xput localhost 9200 template template 1 -d template order 0 settings number of shards 1 mappings type1 source enabled false curl -xput localhost 9200 template template 2 -d template te order 1 settings number of shards 1 mappings type1 source enabled true the above will disable storing the source on all type1 types but for indices of that start with te source will still be enabled note for mappings the merging is deep meaning that specific object-property based mappings can easily be added overridden on higher order templates with lower order templates providing the basis note when creating an index settings can be specified as well those will be merged as well replacing template settings in the future mappings will also be allowed to be defined on index creation for the rest api	331
507775	541	kimchy	2010-11-26T22:26:37.000Z	[enhancement;;v0.14.0]	create index api allow to provide mappings	7	allow to provide mappings as well as settings in the create index api curl -xpost localhost 9200 test -d settings number of shards 1 mappings type1 source enabled false	29
460078	169	pmurias	2010-11-27T16:28:17.000Z	[type: bug]	binding to an foo 0 .baz doesn t work	9	this is the example of the bug changing the value of the input tag has no effect doctype html public - w3c dtd html 4.01 en http://www.w3.org tr html4 strict.dtd html xmlns ng http://angularjs.org head meta http-equiv content-type content text html charset utf-8 title dialogue editor title script type text javascript src http://angularjs.org ng js angular-debug.js ng autobind script span ng init x1 bar d 3 5 input name x1.bar 0 .d type text input span x1 span span body html	81
460078	170	pmurias	2010-11-27T16:46:21.000Z	[type: bug]	if a select contains option generated only with ng repeat the value of the default selection isn t propagated	19	this example illustrates the problem doctype html public - w3c dtd html 4.01 en http://www.w3.org tr html4 strict.dtd html xmlns ng http://angularjs.org head meta http-equiv content-type content text html charset utf-8 title dialogue editor title script type text javascript src http://angularjs.org ng js angular-debug.js ng autobind script head body select ng init options foo bar name foo style display block option ng repeat option in options option option select foo -- foo should be shown here body html	78
507775	542	kimchy	2010-11-27T21:27:51.000Z	[feature;;v0.14.0]	index index template allow to define default mapping	8	allow to define default mapping on an index or an index template when creating the index or the template the default mapping similar in concept to the one that can be defined on the config mapping gets merged into any newtype mapping introduced for that specific index	47
507775	543	kimchy	2010-11-28T14:30:01.000Z	[enhancement;;v0.14.0]	reduce the number of concurrent recoveries per node to 2 from number of processors	14	by default the number of concurrent recoveries happening on a node is controlled by the number of processors the concurrent recoveries are shards being allocated on a node and recover from a target node gateway or a shard being recovered from this should be lowered to a smaller value so there won t be a io load on strong machines with a lot of processors	65
507775	545	kimchy	2010-11-29T11:59:01.000Z	[enhancement;;v0.14.0]	search scroll api allow to provide the scroll id as the body of the scroll request	16	allow to provide the search scroll id as the full body of the search scroll request	16
507775	546	kimchy	2010-12-01T01:38:13.000Z	[enhancement;;v0.14.0]	index setting add index.refresh interval to simplify setting instead of index.engine.robin.refresh interval still works	14	the idea of engines is to have different implementations for index search engines the current one is robin but settings like refresh interval how often an index gets refreshed automatically should have simplet setting name though it might not apply to future engine implementation it should be used if it does apply to them	54
507775	547	kimchy	2010-12-01T01:58:39.000Z	[enhancement;;v0.14.0]	search api optimize single shard search to query and fetch from any other search type	15	a single shard search either though routing setting or when using a single shard index should be optimized to query and fetch search type from any other type the dfs phase is only needed when multiple shards are in play and the then fetch optimization is only relevant when hitting more shards	52
507775	549	kimchy	2010-12-03T18:43:02.000Z	[enhancement;;v0.13.1;;v0.14.0]	upgrade to lucene 3.0.3	4	fixes important possible index corruptions and memory leak happens on long running indexing jobs .	15
203666	98	jurisgalang	2010-12-04T09:40:35.000Z	[]	shindo tests fails to run on ruby 1.9.2p0	8	ruby --version ruby 1.9.2p0 2010-08-18 revision 29036 x86 64-darwin10.5.0 fog mock true bundle exec shindo tests users jgalang code opensource fog.master tests helper.rb 15 in require no such file to load -- tests helpers collection tests loaderror from users jgalang code opensource fog.master tests helper.rb 15 in top required from users jgalang .rvm gems ruby-1.9.2-p0 gems shindo-0.1.10 lib shindo bin.rb 47 in load from users jgalang .rvm gems ruby-1.9.2-p0 gems shindo-0.1.10 lib shindo bin.rb 47 in block 2 levels in run in thread from users jgalang .rvm gems ruby-1.9.2-p0 gems shindo-0.1.10 lib shindo bin.rb 45 in each from users jgalang .rvm gems ruby-1.9.2-p0 gems shindo-0.1.10 lib shindo bin.rb 45 in block in run in thread	115
507775	551	mlewislogic	2010-12-06T18:35:15.000Z	[enhancement;;v0.14.0]	ec2 discover support filtering instances by tags	7	discovering based upon security group is a good start but discovery should optionally be dependent upon instance tags this is important for keeping staging production etc environments separate where security groups are used for functional division . the settings to set it use the discovery.ec2.tag prefix for example setting discovery.ec2.tag.stage to dev will only filter instances with a tag with keyset to stage and its value set to dev .	70
203666	101	lusis	2010-12-06T18:52:28.000Z	[]	problem with tags and snapshots	5	see this gist https://gist.github.com 730720 i might be creating tags improperly but the same thing happens when i create a random k v tag on a snapshot in aws management console once i remove the tag i can query that snapshot again	42
203666	102	geemus	2010-12-06T20:06:49.000Z	[]	aws thing went away when using wait for after creation	10	eventual-consistency means that this sometimes occurs see aws models servers bootstrap for an example of how wait for could smooth this to generally avoid the issue	26
507775	553	kimchy	2010-12-07T22:15:20.000Z	[feature;;v0.14.0]	parent child support	3	the parent-child documents support allows to define a parent relationship from a child type to a parent type mapping ------- the relationship is defined using a simple mapping definition at the child level mapping for example in case of a blog type and a blog tag type child document the mapping for blog tag should be blog tag parent type blog the above defines a parent mapping and the type of the parent indexing -------- when indexing a child document it is important that it will be routed to the same shard as the parent this uses the routing capability when indexing a doc with a parent id it is automatically set as the routing value unless the routing value is explicitly defined . indexing a document with a parent id is simple curl -xput localhost 9200 blogs blog tag 1122 parent 1111 -d tag something there is an option to set parent in each bulk index item as well querying -------- there are several mechanisms to query child documents the idea of child filter query is that its inner-query is run against the child documents and the result of it are parent docs matching those child documents the way it is implemented is that the child queries are first run on their own with the results joining the parent documents then the main query runs with the results of the child query which includes the parent docs has child the first is the has child filter and has child query which is a simple constant score query wrapping the has child filter has child type blog tag query term tag something the type is the child type to query against the parent type to return is automatically detected based on the mappings the query and filter do no scoring and the join process of matching which parent doc the child doc matches is done on each matching child doc . top children the top children query basically runs the child query with an estimated hits size and out of this hit docs aggregates it into parent docs if there aren t enough parent docs matching the requested from size search request then it is run again with a wider more hits search the top children also provide scoring capabilities with the ability to specify max sum or avg as the score type one downside of using the top children is that if there are more child docs matching the required hits when executing the child query then the total hits result of the search response will be incorrect how many hits are asked for in the first child query run is controlled using the factor parameter defaults to 5 . for example when asking for 10 docs with from 0 then the child query will execute with 50 hits expected if not enough parents are found in our example 10 and there are still more child docs to query then the search hits are expanded my multiplying by the incremental factor defaults to 2 . the required parameters are the query and type the child type to execute the query on . here is an example with all different parameters including the default values top children type blog tag query term tag something score max factor 5 incremental factor 2 faceting -------- faceting on the child query phase on the results of the query executed can be done by specifying a scope with a custom name in the query filter all facets now accept a scope to run on similar to global set to true and can now be executed on docs matching the child query query-performance ----------------- in general the top children performance will be much better than the has child performance this is because joining the child to its parent is done in the top children case against the expected number of hits returned while in the has child case it is executed against all child docs matching the child query memory considerations ---------------------------------- with the current implementation all id values are loaded to memory heap in order to support fast lookups so make sure there is enough mem for it	694
507775	555	kimchy	2010-12-08T17:29:59.000Z	[bug;;v0.14.0]	aliased analyzers cause index deletion cleanup failure	7	when using aliased analyzers they can cause index deletion cleanup to fail	12
507775	557	kimchy	2010-12-09T05:24:33.000Z	[feature;;v0.14.0]	add terms in query alias terms filter to be in filter as well	13	add a terms or in queries that allows to match on documents containing the either one or more values out of the values provided in the query here is an example in tags blue pill minimum match 1 also add an alias to the terms filter to in as well	50
507775	559	andreiz	2010-12-09T23:46:33.000Z	[bug;;v0.14.0]	geo search fails to find some docs when wrapping over idl	11	it seems that the geo bounding-box query fails to find some documents when the box crosses over the idl international date line . to reproduce in 0.13.1 curl -xput http://localhost 9200 test -d index number of shards 1 number of replicas 0 curl -xput http://localhost 9200 test place mapping -d place all enabled false properties user id type integer index not analyzed title type string boost 1.5 analyzer eulang notes type string analyzer eulang tags type string index name tag boost 1.5 analyzer eulang created on type date format yyyy-mm-dd hh mm ss geo type geo point privacy type integer index not analyzed curl http://localhost 9200 test place 10 -d user id 880 privacy 2000 notes tags created on 2010-12-09 08 05 17 title place in stockholm geo lat 59.328355000000002 lon 18.036842 curl http://localhost 9200 test place 20 -d user id 534 privacy 2000 notes tags created on 2010-11-26 10 22 38 title place in montr al geo lat 45.509526999999999 lon -73.570986000000005 this fails to find the doc titled place in stockholm curl http://localhost 9200 test search -d query filtered filter and term user id 880 geo bounding-box geo bottom right lat -66.668903999999998 lon 113.96875 top left lat 74.579421999999994 lon 143.5 query match all shards total 1 successful 1 failed 0 hits total 0 max score null hits but this does find the place title place in montr al curl http://localhost 9200 test search -d query filtered filter and term user id 534 geo bounding-box geo bottom right lat -66.668903999999998 lon 113.96875 top left lat 74.579421999999994 lon 143.5 query match all shards total 1 successful 1 failed 0 hits total 1 max score 1.0 hits index test type place id 20 score 1.0 source user id 534 privacy 2000 notes tags created on 2010-11-26 10 22 38 title place in montr al geo lat 45.509526999999999 lon -73.570986000000005 both of those places fall within the bounding-box though	316
460078	189	aornelas	2010-12-10T01:45:58.000Z	[]	eval is not called after a cached request comes back	10	will discuss tomorrow	3
507775	560	kimchy	2010-12-10T20:19:05.000Z	[bug;;v0.14.0]	close api might cause index data to be wiped	9	the close api might cause the index data for that index to be wiped	14
203666	110	restebanez	2010-12-10T20:58:09.000Z	[]	excon 0.3.0 breaks fog aws storage does not match the signature you provided	13	after upgrading fog to the latest version fog aws storage broke i spent quite a bit of time troubleshooting and i found that the real problem was with a newer version of excon using excon 0.2.8 works fine here is a way to reproduce the problem code s3 fog aws storage.new s3.directories.last.files excon errors forbidden expected 307 200 actual 403 forbidden request path expects 307 200 method get query host rave-conf-dev.s3.amazonaws.com scheme https socket key s3.amazonaws.com 443 idempotent true headers authorization aws akiaj4pjtrf5zolnq3qa fnsrxmz4sv6 salnztbc+kbp1mi date fri 10 dec 2010 19 55 09 +0000 content-length 0 host s3.amazonaws.com port 443 response # excon response 0x10259fd00 @headers x-amz-id-2 1abybdpe9jb6dqhtylvfzpouae67d6bepm wr7hzvdbnfdxoyzhxqosknjwibuup transfer-encoding chunked date fri 10 dec 2010 19 55 09 gmt content-type application.xml x-amz-request-id daf85c3241e0b82e server amazons3 @status 403 @body xml version 1.0 encoding utf-8 n error code signaturedoesnotmatch code message the request signature we calculated does not match the signature you provided check your key and signing method message stringtosignbytes 47 45 54 0a 0a 0a 46 72 69 2c 20 31 30 20 44 65 63 20 32 30 31 30 20 31 39 3a 35 35 3a 30 39 20 2b 30 30 30 30 0a 2f stringtosignbytes requestid daf85c3241e0b82e requestid hostid 1abybdpe9jb6dqhtylvfzpouae67d6bepm wr7hzvdbnfdxoyzhxqosknjwibuup hostid signatureprovided fnsrxmz4sv6 salnztbc+kbp1mi signatureprovided stringtosign get n n nfri 10 dec 2010 19 55 09 +0000 n stringtosign awsaccesskeyid akiaj4pjtrf5zolnq3qa awsaccesskeyid error from library rubygems 1.8 gems excon-0.3.2 lib excon connection.rb 124 in request from library rubygems 1.8 gems fog-0.3.30 lib fog core connection.rb 20 in request from library rubygems 1.8 gems fog-0.3.30 lib fog-aws storage.rb 247 in request from library rubygems 1.8 gems fog-0.3.30 lib fog-aws requests storage get bucket.rb 55 in get bucket from library rubygems 1.8 gems fog-0.3.30 lib fog-aws models storage directories.rb 24 in get from library rubygems 1.8 gems fog-0.3.30 lib fog-aws models storage files.rb 30 in all from library rubygems 1.8 gems fog-0.3.30 lib fog core collection.rb 122 in lazyload from eval 3 in empty from library rubygems 1.8 gems fog-0.3.30 lib fog core collection.rb 70 in inspect from library rubygems 1.8 gems formatador-0.0.16 lib formatador.rb 92 in indent from library rubygems 1.8 gems fog-0.3.30 lib fog core collection.rb 63 in inspect from system library frameworks ruby.framework versions 1.8 usr lib ruby-1.8 irb.rb 302 in output value from system library frameworks ruby.framework versions 1.8 usr lib ruby-1.8 irb.rb 151 in eval input from system library frameworks ruby.framework versions 1.8 usr lib ruby-1.8 irb.rb 263 in signal status from system library frameworks ruby.framework versions 1.8 usr lib ruby-1.8 irb.rb 147 in eval input from system library frameworks ruby.framework versions 1.8 usr lib ruby-1.8 irb.rb 146 in eval input from library rubygems 1.8 gems fog-0.3.30 bin fog 46 from library rubygems 1.8 gems fog-0.3.30 bin fog 46 in catch from library rubygems 1.8 gems fog-0.3.30 bin fog 46 from usr bin fog 19 in load code	477
507775	561	kimchy	2010-12-12T02:39:49.000Z	[feature;;v0.14.0]	highlighting automatically use the field values extracted from source if not stored explicitly in the mapping	16	the current need to have the field stored in order to be highlighted term vector is still needed can be wasteful especially when the source is also stored when a specific field requested is not stored in the mapping it will be automatically extracted from the source the source wil be loaded and parsed and used for highlighting note this holds for cases where an array type is in the middle of the expression for example attachments.body where attachments is a an array	83
507775	562	kimchy	2010-12-12T02:52:05.000Z	[enhancement;;v0.14.0]	search fields if a field is not stored automatically extract it from source without the need for source prefix	19	there is an option to load specific fragments from source using it as a prefix in the search request but it can be automatically detected if the field is not stored or a json object is referenced	37
507775	564	kimchy	2010-12-15T18:04:56.000Z	[enhancement;;v0.14.0]	tcp transport connection pool between nodes and different connection types	10	some messages sent by one node to another requires high priority such as the ping messages to detect liveness . others require lower priority since they include large payloads recovery bulk and the rest are well the rest introduce connection-pooling between one node and another with high low and med . by default high is set to 1 med is set to 7 and low is set to 2 . this mainly comes from the problem of sending big bulk requests on the same channel causing other messages to get delayed	91
203666	113	halorgium	2010-12-16T22:36:49.000Z	[]	named-parameters gem adds key for method on all classes	9	this breaks with dm-sweatshop	4
507775	565	kimchy	2010-12-17T17:30:55.000Z	[enhancement;;v0.14.0]	java transportclient by default don t sniff other nodes and use addresses provided as is	15	by default don t sniff other data nodes in the cluster and use the addresses provided as is important when working outside of the cloud using the public address . add client.transport.sniff which can be set to true to enable sniffing and using all data nodes in the cluster this is how it can be set transportclient client new transportclient settingsbuilder .put client.transport.sniff true .build	65
507775	567	kimchy	2010-12-19T00:30:02.000Z	[breaking;;enhancement;;v0.14.0]	disable calling mlockall by default can be enabled by setting bootstrap.mlockall to true	13	using mlockall tries to disable swapping see #464 . this seems to cause es to freeze on some systems when starting up disable it by default	26
507775	568	kimchy	2010-12-20T09:30:43.000Z	[bug;;v0.14.0]	java search api passing a the query as json fails	10	the search api allows to pass the query itself to execute in json binary format and not using the builders . this fails when combined with smile	27
203666	116	matellis	2010-12-20T21:22:28.000Z	[]	unable to build gem from source	6	git-clone https://github.com geemus fog.git cd fog fog gem build fog.gemspec error while executing gem ... gem invalidspecificationexception spec compact progress-bar formatter.rb spec core attributes spec.rb spec lorem.txt are not files if i create these folders files i can build the gem but then i get ruby-1.9.2-p0 require fog loaderror no such file to load -- fog core mock from internal lib rubygems custom require 29 in require from internal lib rubygems custom require 29 in require from users jdoe .rvm gems ruby-1.9.2-p0 gems fog-0.3.32 lib fog core.rb 26 in top required from internal lib rubygems custom require 29 in require from internal lib rubygems custom require 29 in require from users jdoe .rvm gems ruby-1.9.2-p0 gems fog-0.3.32 lib fog.rb 1 in top required from internal lib rubygems custom require 33 in require from internal lib rubygems custom require 33 in rescue in require from internal lib rubygems custom require 29 in require from irb 1 from users jdoe .rvm rubies ruby-1.9.2-p0 bin irb 17 in main when i comment outline 26 in lib fog core.rb i get a second error basically the same warning but for fog core wait for sorry if i m filing bugs on an incomplete check-in i got the impression from some of the aws blogs and the examples that the gem usable for route53	219
460078	199	igorminar	2010-12-20T21:29:18.000Z	[type: chore]	explore using jake instead of rake	6	http://howtonode.org intro-to-jake	2
507775	572	kimchy	2010-12-21T10:01:07.000Z	[enhancement;;v0.14.0]	search api allow to pass fields without any fields to cause only id and type to be returned	18	when using the search body api an empty array will cause no fields to be loaded when using the uri option handle an empty fields parameter to cause no source to be loaded as well	35
203666	121	ksylvest	2010-12-22T07:05:02.000Z	[]	errno enoent no such file or directory - users kevin .fog	11	running under mac os x 10.6.5 i m getting fog storage.new provider aws # errno enoent no such file or directory - users kevin .fog fog storage.new provider google # errno enoent no such file or directory - users kevin .fog it doesn t make a difference if the credentials are specified or not	54
507775	574	kimchy	2010-12-23T07:13:06.000Z	[breaking;;enhancement;;v0.14.0]	cloud aws change endpoint parameters to distinguish between ec2 and s3	11	currently the same endpoint parameter cloud.aws.endpoint is used for both ec2 and s3 which is wrong since both have different endpoints for the same region rename them to an ec2 endpoint cloud.aws.ec2.endpoint and s2 endpoint cloud.aws.s3.endpoint . the list of endpoints can be found here http://aws.amazon.com articles 3912 in order to further simplify the settings and have one region setting that will automatically set ec2 and s3 endpoints as well as automatically set the region constraint when creating a bucket on s3 the cloud.aws.region setting can be set with the following values us-east-1 us-west-1 ap-southeast-1 eu-west-1 .	97
507775	575	kimchy	2010-12-23T07:42:09.000Z	[bug;;v0.14.0]	excessive mapping parsing when cluster state changes	7	the generation of mappings source based on the parsed mapping can be different and cause the detection of different mappings to be of causing excessive mapping parsing when cluster state changes	31
203666	122	lusis	2010-12-23T09:40:17.000Z	[]	excon 0.3.3 breaks some ec2 call signatures	7	just did an update to latest fog and my aws credentials stopped working validated they were still good and remembered that there was a similar issue previously with named-parameters dropped back to 0.0.18 and things work again	37
507775	576	kimchy	2010-12-23T12:19:10.000Z	[enhancement;;v0.14.0]	transport increase the default transport.tcp.connect timeout from 1s to 30s also add network.tcp.connect timeout to conform with other common network settings	21	transport increase the default transport.tcp.connect timeout from 1s to 30s also add network.tcp.connect timeout to conform with other common network settings	21
507775	577	kimchy	2010-12-23T21:20:53.000Z	[breaking;;bug;;feature;;v0.14.0]	memory index store separate to two buffer size types and fix bugs	12	fix bugs associated with the memory index store lucene issue https://issues.apache.org jira browse lucene-2292 all tests now pass with it . also separate the buffer cache into two buffer types small and large small will be used for files known to be small and large forall the rest the new settings for the cache are cache.memory.direct should the memory be allocated outside of the jvm heap defaults to true . cache.memory.small buffer size the small buffer size defaults to 1kb . cache.memory.large buffer size the large buffer size defaults to 1mb . cache.memory.small cache size the small cache size defaults to 10mb . cache.memory.large cache size the large cache size defaults to 500mb . note the cache is global on the node level and all shards allocated each with its own lucene directory share the same cache	137
203666	125	lusis	2010-12-26T05:02:03.000Z	[]	bug with ruby 1.8.6	4	ran into an interesting bug tonight with 1.8.6 attempting to do the following s3.directories.get my-bucket where my bucket looks like this fog aws storage directory key my-bucket creation datethu mar 11 16 55 42 utc 2010 here s the stack-trace nomethoderror private method gsub called for tue apr 20 23 28 18 utc 2010 time from home jvincent .rvm rubies ruby-1.8.6-p399 lib ruby-1.8 date format.rb 965 in parse from home jvincent .rvm rubies ruby-1.8.6-p399 lib ruby-1.8 time.rb 240 in parse from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core attributes.rb 58 in last-modified from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core attributes.rb 136 in send from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core attributes.rb 136 in merge attributes from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core attributes.rb 133 in each from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core attributes.rb 133 in merge attributes from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core model.rb 10 in initialize from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core collection.rb 97 in new from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core collection.rb 97 in new from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog-aws models storage files.rb 72 in new from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core collection.rb 87 in load from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core collection.rb 86 in each from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog core collection.rb 86 in load from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 lib fog-aws models storage directories.rb 33 in get from irb 4 from home jvincent .rvm gems ruby-1.8.6-p399@fog gems fog-0.3.34 bin fog 33 from home jvincent .rvm gems ruby-1.8.6-p399@fog bin fog 19 in load from home jvincent .rvm gems ruby-1.8.6-p399@fog bin fog 19 i did some research and i think there was an issue with symbols and to s needing to be called in 1.8.6 but i can t be sure i m doing some more research now	348
507775	579	theborg	2010-12-30T03:29:34.000Z	[bug;;v0.14.2;;v0.15.0]	non-data master nodes and non-master data nodes fail to store-data	10	a non-master data node can successfully join a cluster but fails on index creation a non-data master is unable to store state between restarts the local gateway init seems to have a bug here gateway local localgateway.java lazyinitialize if clusterservice.localnode .masternode clusterservice.localnode .datanode if clusterservice.localnode .masternode clusterservice.localnode .datanode the second change involves more settings and i am unsure what other implications it may have and if things need to change elsewhere . but at least this if statement cause problems env nodeenvironment.java nodeenvironment constructor if settings.getasboolean node.data true settings.getasboolean node.client false settings.getasboolean node.master true should this just be if settings.getasboolean node.client false instead	103
507775	580	kimchy	2010-12-30T12:30:58.000Z	[bug;;v0.15.0]	delete by query types are not serialized over network causing them to be ignored	14	this mainly applied to the java transport client as usually the deletebyqueryrequest does not get serialized	16
507775	581	kimchy	2010-12-30T14:20:47.000Z	[bug;;v0.15.0]	groovy plugin not loaded groovy not enabled as pluggable script provider	11	groovy plugin not loaded groovy not enabled as pluggable script provider	11
507775	583	kimchy	2010-12-30T17:45:01.000Z	[enhancement;;v0.15.0]	terms facet performance and memory improvements when faceting numeric fields	10	currently handling terms facet on numeric fields treats them like strings specific numeric type based terms facet handling improves performance 2-3x over a 1 million hits search and memory allocation	30
507775	585	kimchy	2010-12-31T16:55:39.000Z	[feature;;v0.14.2;;v0.15.0]	highlighting allow to highlight on fields without term vectors	9	currently in order to highlight fields term vector needs to be set to with positions offsets . using the simple highlighter in lucene even fields without the mapping can be highlighted and not required to be stored as well since the content is automatically extracted from source if needed . note this is a slower highlighting process with bigger memory requirements during highlighting the benefit of using it is the fact that the index size can be smaller also only a single pre tag and post tag are supported	89
507775	587	kimchy	2011-01-01T15:27:26.000Z	[breaking;;enhancement;;v0.15.0]	histogram facet improve perf memory by defaulting to just providing counts with no totals	14	when just executing simple facet on a field not script totals are computed as well as count default to just compute counts and return them if totals are also needed just add value field with the same field name to return to the previous behavior this improves both facet execution-time 2x on a 1 million hit set and memory utilization	60
507775	588	clintongormley	2011-01-01T17:24:58.000Z	[breaking;;enhancement;;v0.15.0]	-des.config path to config file doesn t replace es home elasticsearch.conf just appends to it	15	when i start es using . elasticsearch -f -des.config path to config file it still reads the config in es home elasticsearch.conf as well which means that my live settings are interfering with the settings i want for my test-suite change it so that the explicit conf will be the only one used	53
507775	591	kimchy	2011-01-02T13:07:11.000Z	[feature;;v0.15.0]	search date-histogram facet	3	the current histogram facet works with dates but has some problems when handling them specifically it does not allow for custom time zones to be set as well as does not support month and year intervals only lower level weeks days hours . the date-histogram allows for specific handling when the key field faceting on is of type date here is an example query match all facets histo1 date-histogram field field name interval day interval -------- the interval allows to set the interval at which buckets will be created foreach hit it allows for the constant values of year month day hour minute . the specific constant values also support setting rounding by appending to it and then the rounding value for example day ceiling . the values are floor the default rounds to the lowest whole unit of this field ceiling rounds to the highest whole unit of this field half floor round to the nearest whole unit of this field if the given millisecond value is closer to the floor or is exactly halfway this function behaves like floor . if the millisecond value is closer to the ceiling this function behaves like ceiling . half ceiling round to the nearest whole unit of this field if the given millisecond value is closer to the floor this function behaves like floor . if the millisecond value is closer to the ceiling or is exactly halfway this function behaves like ceiling . half even round to the nearest whole unit of this field if the given millisecond value is closer to the floor this function behaves like floor . if the millisecond value is closer to the ceiling this function behaves like ceiling . if the millisecond value is exactly halfway between the floor and ceiling the ceiling is chosen over the floor only if it makes this field s value even it also support time value setting like 1.5h up to w for weeks . timezone --------- by default times are stored as utc milliseconds since the epoch thus all computation and bucketing rounding is done on utc it is possible to provide a zone value which will cause all computations to take the relevant zone into account the time returned foreach bucket entry is milliseconds since the epoch of the provided timezone the zone value accepts either a numeric value for the hours offset for example zone -2 . it also accepts a format of hours and minutes like zone -02 30 . another option is to provide a timezone accepted as one of the values listed here http://joda-time.sourceforge.net timezones.html value field ----------- the date-histogram facet allows to use a different key of type date which controls the bucketing with a different value field which will then return the total and mean for that field values of the hits within the relevant bucket for example query match all facets histo1 histogram key field timestamp value field price interval day script value field ------------------ a script can be used to compute the value that will then be used to compute the total and mean for a bucket for example query match all facets histo1 histogram key field timestamp value script doc price .value 2 interval day	538
507775	592	kimchy	2011-01-03T13:24:45.000Z	[enhancement;;v0.15.0]	search add a timed out element indicating if the search request-timed-out	11	search add a timed out element indicating if the search request-timed-out	11
507775	594	kimchy	2011-01-04T02:03:03.000Z	[feature;;v0.15.0]	versioning	1	the versioning feature allows to handle conflicts when doing a get search and then index delete each document has a version number and each index and delete tombstone increase the version number a conflict is detected when providing a version parameter to the index delete request and there is a mismatch between the version provided and the real-time version of the current document if a version number is not provided then the operation is forced without doing any version check search and get operations return the version number associated with the hit under version . note the version number reflects the near-real-time status of the search in other words the version number will point to the doc when the index was last refreshed nice side affects of this feature include returning on delete if the document was actually found or not as well as fixing a rare out of order replication sync between a primary and its replica under heavy changes of the same doc within a short period of time . added features include 1 index with create flag will now fail if there is already an indexed doc this basically allows to use create as a putifabsent logic 2 indexing a document that does not-exists will be as fast as with create flag set to true so no need to set it anymore to improve fresh data indexing performance the bulk operation supports providing a version number as well using version on each bulk item upgrade notes ------------- the versioning support is backward compatible though only new operations on documents will cause the versioning system to start and kick in for that doc	275
507775	595	harryf	2011-01-04T10:42:37.000Z	[breaking;;feature;;v0.15.0]	allow . bin plugin to install plugins from the local filesystem custom-url	12	allow to install plugins from a custom location url or file-location . for example to install the output of a gradle release run one can use assuming extracted under build distributions build distributions elasticsearch-0.15.0-snapshot bin plugin -url build distributions plugins -install lang-groovy the -url parameter accepts either a file based location or a url for file based location the structure supported is either a flat dir with the plugin s there or a plugin-name plugin-file structure note this is a breaking change since now one can only list a single plugin name in -install though it can be repeated several times to install several plugins in a single command	109
507775	599	kimchy	2011-01-05T12:12:25.000Z	[enhancement;;v0.15.0]	bulk api add how long the bulk api took in milliseconds to the response	14	bulk api add how long the bulk api took in milliseconds to the response	14
507775	600	kimchy	2011-01-05T13:44:29.000Z	[bug;;v0.14.2;;v0.15.0]	highlighting the result of highlighting for a hit can contain data from another document	14	highlighting the result of highlighting for a hit can contain data from another document	14
507775	602	kimchy	2011-01-05T19:23:08.000Z	[enhancement;;v0.14.2;;v0.15.0]	add resident field cache type	5	add resident field cache type index.cache.field.type that does not unloads field cache when there are memory constraints this can help understanding the memory requirements of an application and not getting into constant unloading and loading of field cache on memory shortage	41
507775	603	kimchy	2011-01-05T20:11:08.000Z	[enhancement;;v0.14.2;;v0.15.0]	add to node stats the number of times field cache was evicted due to memory constraints	16	add to node stats the number of times field cache was evicted due to memory constraints	16
507775	607	pfeiffer	2011-01-06T14:18:12.000Z	[enhancement;;v0.15.0]	geo-distance in scripts like custom score	6	feature request for distance calculator method in custom score queries eg doc geo point field .distance lat lon the following methods are allowed doc geo point field .distance lat lon returns the distance in miles form lat lon doc geo point field .distanceinkm lat lon returns the distance in km lat lon doc geo point field .geohashdistance geohash returns the distance in miles from geohash doc geo point field .geohashdistanceinkm geohash returns the distance in km from geohash	78
1295197	828	fmpwizard	2011-01-07T08:13:07.000Z	[p:normal;;sitemap;;t:enhancement]	adding query-parameters to sitemap menus	5	it would be great if we could add query-parameters to the items on each menu generated by sitemap this is my use-case when i am on this page http://127.0.0.1 8080 agent-details v 2.3.4.00 which correspond to the agent details menuitem . i d like the main menuitem to link to http://127.0.0.1 8080 main v 2.3.4.00 that is add the v 2.3.4.00 to the link generated by the sitemap the idea is that you can click on the other menu-items and the menu knows which product version number etc it is supposed to show you for more details see http://groups.google.com group liftweb browse thread thread ee14b05b152fd2f9	105
507775	610	karussell	2011-01-07T19:52:51.000Z	[enhancement;;v0.15.0]	npe for when passing null date to content builder	9	minor issue ... the same check against null should be for date type otherwise it leads to npe public xcontentbuilder value date date datetimeformatter datetimeformatter throws ioexception if date null generator.writenull else return-value datetimeformatter.print date.gettime	35
460078	217	mdsubbu	2011-01-07T22:26:14.000Z	[]	angular should handle unknown and default routes in a cleaner way	11	i want two additional methods on the route route.empty which specifies the route to redirect to by default and route.notfound which takes the same object used to define a route without the hash path something like route.empty which means if there is no hashpath redirect to the route defined by and route.notfound template notfound.html controller notfoundcontroller	56
507775	613	kimchy	2011-01-08T01:18:15.000Z	[bug;;v0.14.3;;v0.15.0]	highlighting sometimes highlighting returns empty fragments even thought there should be	11	highlighting sometimes highlighting returns empty fragments even thought there should be	11
1295197	830	dpp	2011-01-08T11:31:03.000Z	[p:normal;;t:enhancement]	liftrules setting for sessionvar requestvar out of scope behavior	9	a liftrules setting for behavior on out of scope access read-write of sessionvars requestvars etc see https://groups.google.com d topic liftweb n okenixwf8 discussion	23
507775	614	clintongormley	2011-01-08T19:16:36.000Z	[bug;;v0.15.0]	refresh param to bulk not working	6	passing refresh true to the bulk command does not seem to have any effect # sat jan 8 20 01 30 2011 protocol http server 127.0.0.1 9200 curl -xput http://127.0.0.1 9200 foo -d # sat jan 8 20 01 30 2011 response # # ok true # acknowledged true # # sat jan 8 20 01 34 2011 protocol http server 127.0.0.1 9200 curl -xpost http://127.0.0.1 9200 bulk refresh true -d index index foo id 1 type bar text foo index index foo id 2 type bar text bar # sat jan 8 20 01 34 2011 response # items index ok true index foo id 1 # type bar index ok true index foo # id 2 type bar # sat jan 8 20 01 34 2011 protocol http server 127.0.0.1 9200 curl -xget http://127.0.0.1 9200 foo count -d match all # sat jan 8 20 01 34 2011 response # count 0 shards failed 0 successful 5 total # 5 i also tried setting index.refresh interval -1 and passing refresh true as above and the index doesn t refresh at all until i pass it an actual refresh	190
507775	615	clintongormley	2011-01-08T20:34:42.000Z	[bug;;v0.15.0]	open is not recovering indices correctly	6	i create an index add a doc close it reopen it wait for recovery but the document is gone # sat jan 8 21 31 55 2011 protocol http server 127.0.0.1 9200 curl -xput http://127.0.0.1 9200 foo -d # sat jan 8 21 31 55 2011 response # # ok true # acknowledged true # # sat jan 8 21 32 15 2011 protocol http server 127.0.0.1 9200 curl -xput http://127.0.0.1 9200 foo bar 1 -d text test # sat jan 8 21 32 15 2011 response # # ok true # index foo # id 1 # type bar # # sat jan 8 21 32 31 2011 protocol http server 127.0.0.1 9200 curl -xget http://127.0.0.1 9200 foo count -d match all # sat jan 8 21 32 31 2011 response # # count 1 # shards # failed 0 # successful 5 # total 5 # # # sat jan 8 21 32 43 2011 protocol http server 127.0.0.1 9200 curl -xpost http://127.0.0.1 9200 foo close # sat jan 8 21 32 43 2011 response # # ok true # acknowledged true # # sat jan 8 21 32 51 2011 protocol http server 127.0.0.1 9200 curl -xpost http://127.0.0.1 9200 foo open # sat jan 8 21 32 51 2011 response # # ok true # acknowledged true # # sat jan 8 21 33 20 2011 protocol http server 127.0.0.1 9200 curl -xget http://127.0.0.1 9200 cluster health wait for status green # sat jan 8 21 33 20 2011 response # # number of data nodes 3 # relocating shards 0 # active shards 30 # status green # cluster name es test # active primary shards 15 # timed out false # initializing shards 0 # number of nodes 3 # unassigned shards 0 # # sat jan 8 21 33 25 2011 protocol http server 127.0.0.1 9200 curl -xget http://127.0.0.1 9200 foo count -d match all # sat jan 8 21 33 25 2011 response # # count 0 # shards # failed 0 # successful 5 # total 5 # #	347
460078	224	igorminar	2011-01-08T22:27:42.000Z	[]	switch from window.onload to domcontentloaded	5	https://developer.mozilla.org en gecko-specific dom-events domcontentloaded is supported by all modern browsers and ie9 will support it as well for legacy browsers there are workarounds but it would be wise to just follow the approach that jquery choose https://github.com jquery jquery blob master src core.js#l256	44
507775	617	lukas-vlcek	2011-01-09T12:38:51.000Z	[bug;;v0.15.0]	if the cluster does not contain any indices then index templates do not survive cluster restart	16	test is simple 1 start fresh empty cluster 2 create new index template template 3 restart cluster 4 index template is not present testthat index template survive if there is an index 1 start fresh empty cluster 2 create new index 3 create new index template template 4 restart cluster 5 index template is present	55
507775	620	kimchy	2011-01-11T13:49:26.000Z	[enhancement;;v0.15.0]	mapper add byte type 8bit signed	6	add the byte numeric type for values of -128 and a maximum value of 127 inclusive .	17
507775	621	kimchy	2011-01-11T19:57:10.000Z	[enhancement;;v0.15.0]	shared gateway allow to set the number of concurrent streams doing snapshot operations	13	allow to control the number of concurrent streams globally per node that will be allowed to do the snapshot operations the setting for s3 is gateway.s3.concurrent streams for fs is gateway.fs.concurrent streams and for hdfs is gateway.s3.concurrent streams . all default to 5 concurrent streams	45
507775	623	kimchy	2011-01-12T14:26:54.000Z	[feature;;v0.15.0]	a setting to auto expand the number of replicas of an index based on data nodes	16	allow to set index.auto expand replicas to have the cluster automatically expand the number of an replicas an index has based on the data nodes there are in the cluster for example setting index.auto expand replicas to 0-all will have the number of replicas always expand to the full number of data nodes in the cluster setting it to 1-all will do the same as above just with a lower bounding value of keeping 1 replica settings always even if there is just one node setting it to 2-4 will bound the number of replicas between 2 and 4	99
507775	624	kimchy	2011-01-13T14:19:50.000Z	[feature;;v0.15.0]	percolator	1	the percolator allows to register queries against an index and then send percolate requests which include a doc and getting back the queries that match on that doc out of the set of registered queries think of it as the revert operation of what es does by nature instead of sending docs indexing them and then running queries one sends queries registers them and then sends docs and finds out which queries match that doc as an example a user can register an interest a query on all tweets that contain the word elasticsearch . for every tweet one can percolate the tweet against all registered user queries and find out which ones matched quick sample ------------ first create an index we will work with curl -xput localhost 9200 test next we will register a percolator query with a specific name called kuku against the test index curl -xput localhost 9200 percolator test kuku -d query term field1 value1 and now we can percolate a document and see which queries match on it note its not really indexed curl -xget localhost 9200 test type1 percolate -d doc field1 value1 and the matches are part of the response ok true matches kuku filtering executed queries -------------------------- since the registered percolator queries are just docs in an index one can filter the queries that will be used to percolate a doc for example we can add a color field to the registered query curl -xput localhost 9200 percolator test kuku -d color blue query term field1 value1 and then we can percolate a doc that only matches on blue colors curl -xget localhost 9200 test type1 percolate -d doc field1 value1 query term color blue how to works ------------ the percolator which holds the repository of registered queries is just a another index in es the query is registered under a concrete index that exists or will exist in es that index name is represented as the type in the percolator index a bit confusing i know... . the fact that the queries are stored as docs in another index percolator gives us both the persistency nature of it and the ability to filter out queries to execute using another query . the percolator index uses the index.auto expand replica setting to make sure that each data node will have access locally to the registered queries allowing for fast query executing to filter out queries to run against a percolated doc the percolate api uses the whole number of shards as percolating processing engines both primaries and replicas in our above case if the test index has 2 shards with 1 replica 4 shards will round robing in handing percolate requests dynamically increasing the number of replicas will increase the number of percolation power note percolate request will prefer to be executed locally and will not try and round-robin across shards if a shard exists locally on a node that received a request for example from http . its important to do some roundrobin in the client code among es nodes in any case its recommended .	515
507775	625	kimchy	2011-01-13T22:51:20.000Z	[enhancement;;v0.15.0]	add prefer local flag to analyze and percolate request	9	a flag called prefer local to control if when hitting a node where a relevant local shard is allocated on it should it be preferred for execution or not if not go through the random round-robin option . defaults to true which means locals are preferred	46
507775	626	kimchy	2011-01-14T14:00:25.000Z	[enhancement;;v0.15.0]	node stats process network os should only refresh every 5 seconds refresh interval to set it	16	currently on each node stats call the process network os stats are executed they should only be refreshed every 5 seconds by default . changing the value is done by setting monitor.os.refresh interval monitor.process.refresh interval monitor.network.refresh interval	37
507775	627	pib	2011-01-14T17:21:27.000Z	[breaking;;enhancement;;v0.15.0]	twitter updates have broken twitter river update to latest version of twitter4j	12	currently the twitter river is broken crashing whenever an integer over 2 32-1 is returned it seems that this has been fixed in version 2.1.10 of twitter4j so a simple update of the bundled .jar should be all that s needed http://twitter4j.org jira browse tfj-505	45
507775	632	nmosafi	2011-01-18T18:14:25.000Z	[enhancement;;v0.15.0]	terms facet add option include counts where term is missing	10	say i have two documents like so field1 hello field2 world field1 moo and i run a terms facet on field2 it would give me count 1 for world but i would also want a count of 1 for null note all fields are set to non analysed in the dynamic mapping.json	52
507775	635	lukas-vlcek	2011-01-19T12:11:59.000Z	[]	backport czechstemmer from lucene 3.1-dev	5	make it http://svn.apache.org viewvc lucene dev trunk modules analysis common src java org apache lucene analysis cz available for czech language analysis	22
507775	636	kimchy	2011-01-19T14:45:08.000Z	[feature;;v0.15.0]	percolate on index and bulk	5	the index and bulk operation for index bulk items can now be automatically percolated and return the queries they matched on the percolate parameter can be passed to control which percolation queries should be used it follows the query-string format . for example create an index we will work on curl -xput localhost 9200 test next we will register a percolator query with a specific name called kuku against the test index curl -xput localhost 9200 percolator test kuku refresh true -d color blue query term field1 value1 and now we will index a doc that has field1 set to value1 and have it percolate curl -xput localhost 9200 test type1 1 percolate -d field1 value1 we will get this response ok true index test type type1 id 1 version 2 matches kuku percolation query filtering is simple to do lets register another query for bubu but now with color set to green and matching on field2 curl -xput localhost 9200 percolator test bubu refresh true -d color green query term field2 value2 now we can control which queries can be executed for example curl -xput localhost 9200 test type1 1 percolate -d field1 value1 field2 value2 curl -xput localhost 9200 test type1 1 percolate color green -d field1 value1 field2 value2 curl -xput localhost 9200 test type1 1 percolate color blue -d field1 value1 field2 value2 implementation details ---------------------- percolation on index operation is done while optimizing the distributed nature of elasticsearch once the index operation is done on the primary shard it is sent to all the replicas and while the operation is done on the replicas the percolation is executed on the node hosting the primary shard also the parsing operation done on the primary shard is reused for the percolation operation	295
460078	242	igorminar	2011-01-19T15:25:00.000Z	[type: bug]	null values properties get rendered in ie7	7	encountered a minor issue with angular rendering json value null as string null without quotation in ie7 consider the example below doctype html html xmlns ng http://angularjs.org head script type text javascript src http://code.angularjs.org angular-0.9.9.js ng autobind script head body ng init users name joe description null p description renders as string null in ie7 p table style border 1px solid grey thead th name th th description th thead tbody tr ng repeat u in users td u.name td td u.description td tr tbody table body html	88
507775	637	ppearcy	2011-01-19T20:19:00.000Z	[bug;;v0.15.0]	no cluster name filtering when sniffing is not enabled	9	the cluster name is no longer honored via the transportclient unless sniffing is enable don 0.14.2 see this discussion for more details http://elasticsearch-users.115913.n3.nabble.com 0-14-2-transportclient-does-not-appear-to-be-honoring-cluster-name-tp2289073p2289073.html thanks	25
507775	638	kimchy	2011-01-19T22:12:04.000Z	[breaking;;v0.15.0]	remove -xx +aggressiveopts flag that is turned on by default in startupscript	12	seems like it can cause problems with java 1.6 update 23 on certain operation systems should also remove it from the wrapper scripts	23
507775	641	merrellb	2011-01-20T10:04:04.000Z	[bug;;v0.15.0]	es hangs connection when parent is not specified in bulk index	11	instead of returning an error the connection hangs when a parent is not specified but required by the mapping when doing a bulk index a gist with an example can be found at https://gist.github.com 787668	35
507775	642	kimchy	2011-01-20T11:30:19.000Z	[enhancement;;v0.15.0]	analysis add stemming to czech analyzer	6	with backport of czech stemmer use it by default with an updated czech analyzer until lucene 3.1 is released .	20
507775	643	mbaechle	2011-01-20T20:57:58.000Z	[enhancement;;v0.15.0]	strict dynamic setting refuse to index a document with fields not present in the mapping definition	16	strict dynamic mapping setting will refuse to index documents with fields that are not explicitly mapped this can be set on anyobject level mapping and inherits by default the root object mapping here is an example my type dynamic strict the other possible values for dynamic are the typical boolean values false and true which retain their previous behavior	59
507775	644	kimchy	2011-01-20T23:56:46.000Z	[enhancement;;v0.15.0]	analysis add phonetic token filter metaphone soundex ...	8	add phonetic token filter for example index analysis filter metaphone type phonetic encoder metaphone analyzer custom1 tokenizer standard filter metaphone the encoder can be configured with metaphone soundex caverphone refined soundex double metaphone uses the commons codec http://jakarta.apache.org commons codec api-release org apache-commons-codec language package-summary.html . the replace parameter defaults to true controls if the token processed should be replaced with the encoded one set it to true or added set it to false .	75
507775	647	kimchy	2011-01-23T14:07:49.000Z	[enhancement;;v0.15.0]	terms facets allow to get all terms back possibly with count 0	12	allow to get all the terms in the terms facet ones that do not match a hit will have a count of 0 note this should not be used with fields that have many facets the parameter on the terms facet should be all terms and set it to true .	51
203666	141	bensie	2011-01-24T02:15:24.000Z	[]	aws elastic-load-balancer	2	i get the following when trying to create load balancers nomethoderror undefined method indexed param for fog aws elb class from users jkmiller .rvm gems ruby-1.9.2-p136 gems fog-0.4.1 lib fog-aws requests elb create load balancer.rb 25 in create load balancer	40
507775	650	kimchy	2011-01-26T10:52:42.000Z	[feature;;v0.15.0]	search allow to pass a search filter applying only on the query and not on facets for example	18	when doing things like facet navigation sometimes only the hits are needed to be filtered by the chosen facet and all the facets should continue to be calculated based on the original query the new filter element within the search request can be used to accomplish it for example lets create two tweets with two different tags curl -xput localhost 9200 twitter tweet 1 -d message something blue tag blue curl -xput localhost 9200 twitter tweet 2 -d message something green tag green curl -xpost localhost 9200 refresh we can now search for something and have a terms facet curl -xpost localhost 9200 twitter search pretty true -d query term message something facets tag terms field tag we get two hits and the relevant facets with a count of 1 for both green and blue . now lets say the green facet is chosen we can simply add a filter for it curl -xpost localhost 9200 twitter search pretty true -d query term message something filter term tag green facets tag terms field tag and now we get only 1 hit back but the facets remain the same note if additional filters is required on specific facets they can be added as a facet filter to the relevant facets	209
507775	653	kimchy	2011-01-26T19:46:33.000Z	[enhancement;;v0.15.0]	index merge improve internal segment merging by not initiating it on doc operations	13	even with the default concurrent merge scheduler of lucene it might block on document operations when there are no merge threads available to perform a merge now by default this will no longer happen the index.merge.async which defaults to true will cause merge operations not to happen on doc ops but instead happen in the background the index.merge.async interval controls how often a merge will be checked if it needs to be initiated defaults to 1s .	77
507775	654	spn	2011-01-28T12:32:33.000Z	[breaking;;enhancement;;v0.15.0]	groovy client doesn t bind to any variables outside the closure	11	i have serious troubles with groovy client not being able to search for a simple query the code is like this myvariable search string gclient.search source query querystring myvariable this will fail because myvariable appears to be always null the reason is that gxcontentbuilder violates groovy property convention in gxcontentbuilder.getproperty def getproperty string propname current propname this is wrong if builder does not know the property it is supposed to throw missingpropertyexception returning null indicates that property in fact exists but has null value	84
507775	655	kimchy	2011-01-29T18:44:00.000Z	[breaking;;v0.15.0]	facets remove redundant data returned as part of facet response for example the field name being faceted	17	facets remove redundant data returned as part of facet response for example the field name being faceted .	18
507775	656	kimchy	2011-01-30T15:30:33.000Z	[enhancement;;v0.15.0]	translog flushing improve logic flush not just by operations in the translog	12	allow to define several parameters that will control if a flush will happen they include flush threshold ops.flush threshold ops after how many operations to flush defaults to 20000 . flush threshold ops.flush threshold size once the translog hits this size a flush will happen defaults to 500mb . flush threshold ops.flush threshold period the period with no flush happening to force a flush defaults to 60m . note in terms of backward compatibility the parameter index.translog.flush threshold is now replaced with index.translog.flush threshold ops . though it is still taken into account if set the default flush after ops size has changed from 5000 to 20000 .	108
507775	657	kimchy	2011-01-30T18:34:07.000Z	[enhancement;;v0.15.0]	threadpool increase the keep-alive time of threads from 60 seconds to 60 minutes	13	since there are thread-local resources associated with threads it make sense to keep them around longer than just 60 seconds	20
507775	658	kimchy	2011-01-30T19:16:22.000Z	[bug;;v0.15.0]	search when fetching parent only the id should be returned and not type#id	13	search when fetching parent only the id should be returned and not type#id	13
507775	659	adamw	2011-01-31T07:59:38.000Z	[bug;;v0.15.0]	npe during es startup when using s3 gateway with the europe region specified	13	if i specify the region cloud aws region eu-west-1 then there s an npe during startup caused by java.lang.nullpointerexception at com.amazonaws.amazonwebserviceclient.setendpoint amazonwebserviceclient.java 87 at org.elasticsearch.cloud.aws.awss3service.client awss3service.java 97 at org.elasticsearch.gateway.s3.s3gateway init s3gateway.java 81 that s because awss3service 91 sets the endpoint to null while amazonwebserviceclient 87 de-references the endpoint string the fix is to set the endpoint to the default non-null value the workaround is not to specify the region in the config file	73
507775	661	kimchy	2011-01-31T23:31:43.000Z	[breaking;;enhancement;;v0.15.0]	geo all geo components that accept an array of lat lon to change to do lon lat to conform with geojson	21	all geo components geo point type all the geo related filters and facets and sort that accept an array in lat lon changed to lon lat to conform to geojson	30
507775	662	kimchy	2011-02-01T10:38:02.000Z	[enhancement;;v0.15.0]	search when sorting allow to pass track scores and set it to true to get scores max score back	19	when sorting on a field scores are not computed by setting track scores to true scores will still be computed and tracked	22
507775	663	kimchy	2011-02-01T11:41:23.000Z	[enhancement;;v0.15.0]	search scripts allow to access score in facet related scripts using doc.score	12	in all scripts that can be used in facets allow to access the current doc score using doc.score .	19
507775	665	kimchy	2011-02-02T15:47:13.000Z	[bug;;v0.15.0]	search failure when sorting on short type	7	when sorting on short type search fails	7
203666	155	bensie	2011-02-02T18:29:38.000Z	[]	aws s3 private signature method	5	is there a reason that fog storage aws real#signature is a private method it s perfectly reasonable to need a signature for other purposes than a query params authenticated url and would be nice if this was public calling it with send now but would be nice to know that it won t change break in future releases for example we use signatures for proxying caching protected s3 files with nginx completely masks our storage backend .	77
507775	666	kimchy	2011-02-02T22:49:49.000Z	[breaking;;enhancement;;v0.15.0]	index status add primary store size to include only primary shards store sizes also move index store and translog into their own elements	23	index status add primary store size to include only primary shards store sizes also move index store and translog into their own elements	23
460078	260	vojtajina	2011-02-04T01:46:47.000Z	[]	mockbrowser.onhashchange bug	2	in src angular-mocks.js 95 self.lasturl self.url i guess it should be self.lasturl self.url then it breaks service route.should support redirection via redirectto property by updating location test	27
507775	669	clintongormley	2011-02-05T19:03:04.000Z	[]	improve error when creating a percolator with no query	9	curl -xput http://127.0.0.1 9200 percolator foo test -d foo bar # sat feb 5 20 01 56 2011 response # # error nullpointerexception null value #	26
507775	670	clintongormley	2011-02-06T13:56:25.000Z	[]	flush with full true is broken this indexwriter is closed	10	curl -xput http://127.0.0.1 9200 es test 1 # ok true acknowledged true curl -xpost http://127.0.0.1 9200 flush error trace full true pretty true # # ok true # shards # total 41 # successful 0 # failed 21 # failures # index test # shard 0 # reason broadcastshardoperationfailedexception test 0 nested alreadyclosedexception this indexwriter is closed # # index test # shard 1 # reason broadcastshardoperationfailedexception test 1 nested alreadyclosedexception this indexwriter is closed # # index test # shard 2 # reason broadcastshardoperationfailedexception test 2 nested alreadyclosedexception this indexwriter is closed # # index test # shard 3 # reason broadcastshardoperationfailedexception test 3 nested alreadyclosedexception this indexwriter is closed # # index test # shard 4 # reason broadcastshardoperationfailedexception test 4 nested alreadyclosedexception this indexwriter is closed # # index foo # shard 0 # reason broadcastshardoperationfailedexception foo 0 nested alreadyclosedexception this indexwriter is closed # # index foo # shard 1 # reason broadcastshardoperationfailedexception foo 1 nested alreadyclosedexception this indexwriter is closed # # index foo # shard 2 # reason broadcastshardoperationfailedexception foo 2 nested alreadyclosedexception this indexwriter is closed # # index foo # shard 3 # reason broadcastshardoperationfailedexception foo 3 nested alreadyclosedexception this indexwriter is closed # # index foo # shard 4 # reason broadcastshardoperationfailedexception foo 4 nested alreadyclosedexception this indexwriter is closed # # index es test 1 # shard 0 # reason broadcastshardoperationfailedexception es test 1 0 nested alreadyclosedexception this indexwriter is closed # # index es test 1 # shard 1 # reason broadcastshardoperationfailedexception es test 1 1 nested alreadyclosedexception this indexwriter is closed # # index es test 1 # shard 2 # reason broadcastshardoperationfailedexception es test 1 2 nested alreadyclosedexception this indexwriter is closed # # index es test 1 # shard 3 # reason broadcastshardoperationfailedexception es test 1 3 nested alreadyclosedexception this indexwriter is closed # # index es test 1 # shard 4 # reason broadcastshardoperationfailedexception es test 1 4 nested alreadyclosedexception this indexwriter is closed # # index bar # shard 0 # reason broadcastshardoperationfailedexception bar 0 nested alreadyclosedexception this indexwriter is closed # # index bar # shard 1 # reason broadcastshardoperationfailedexception bar 1 nested alreadyclosedexception this indexwriter is closed # # index bar # shard 2 # reason broadcastshardoperationfailedexception bar 2 nested alreadyclosedexception this indexwriter is closed # # index bar # shard 3 # reason broadcastshardoperationfailedexception bar 3 nested alreadyclosedexception this indexwriter is closed # # index bar # shard 4 # reason broadcastshardoperationfailedexception bar 4 nested alreadyclosedexception this indexwriter is closed # # index percolator # shard 0 # reason broadcastshardoperationfailedexception percolator 0 nested alreadyclosedexception this indexwriter is closed # # #	440
507775	674	kimchy	2011-02-07T23:14:00.000Z	[breaking;;enhancement;;v0.15.0]	mapping disable automatic ip type detection on new fields	9	don t do automatic ip type detection for fields since its more common to have fields that are sometimes with ip format and sometimes with host names	27
507775	676	kimchy	2011-02-08T15:43:38.000Z	[enhancement;;v0.15.0]	search by default don t return the version per hit unless version is set to true	16	by default don t return the version foreach search hit but instead allow to either pass a url level parameter called version and set it it to true or pass in the search request body version true on the same level as explain .	44
507775	678	jordansissel	2011-02-09T11:13:59.000Z	[enhancement;;v0.15.0]	terms facet on an ip field returns terms as numbers not ips	12	fiddling with the facet api tonight found that a facet term query on a field that is an ip address ends up coming back with the term as a string number not the actual ip address in dotted notation my query size 1 query query-string query clientip facets foo terms field clientip size 4 results ... source ... clientip 76.21.79.138 ... ... facets foo type terms field clientip terms term 1136881900 count 12375 term 3497226231 count 4223 term 1123633115 count 3215 term 1600953340 count 2312	85
1295197	888	alanpog	2011-02-09T13:56:43.000Z	[p:normal;;t:defect]	screen wizard generating duplicate notices	5	liftscreen wizard are generating duplicate notices see this http://groups.google.com group liftweb browse thread thread 55771148722622f3 b58a4272a2ccb4e6 thread .	18
507775	681	kimchy	2011-02-10T01:14:54.000Z	[bug;;v0.15.0]	rest api failure to index docs that have their ids url encoded and contain	14	for example this will fail curl -xput http://localhost 9200 backupify google-calendar http 3a 2f 2fwww.google.com -d name eric alexander	19
507775	682	aparo	2011-02-10T11:09:41.000Z	[enhancement;;v0.15.0]	don t fail search if highlight field is missing for a specific type	13	if a field is missing the highlights raise an exception highlightphase line 57 if mapper null throw new searchexception context.shardtarget no mapping found for + field.field + and no results is returned mainly in a multi-documents search the highlight requires that every documents as the similar fields-for highlighting a probably fix can be if mapper null continue	57
507775	683	kimchy	2011-02-11T17:58:42.000Z	[enhancement;;v0.15.0]	query boosting query	3	the boosting class can be used to effectively demote results that match a given query unlike the not clause in bool query this still selects documents that contain undesirable terms but reduces their overall score boosting positive term field1 value1 negative term field2 value2 negative boost 0.2	47
203666	169	marcelhb	2011-02-14T13:58:47.000Z	[]	local-storage escaping of paths	4	hello imagine you have a dev environment in which you want to store all your files locally in rails public we outsourced this logic by using fog local storage now there is some old logic that will create files with names with lots of special chars in it fog will escape this name by cgi.escape this will lead to a problem if i want to access this file with the escaped name via url the server won t find any matching file i made a fork in which i changed the handling to only take care of forward- and back-slashes this will not cause any difficulties in such cases maybe you are interested in this tiny change i m not sure if this breaks any of the philosophy or causes compatibility issues windows but it s just a suggestion test behaviour did not change https://github.com marcelhb fog commit e2ce00fbce2566896a6b8c6eb6b88e2e0fb4c11c if you have any comment or better idea i d like to hear of them - thanks	166
507775	687	kimchy	2011-02-15T04:36:24.000Z	[enhancement;;v0.15.0]	threadpool refactor into several pools with configurable types per pool	10	refactor the current single threadpool into several pools that can be used based on operation performed this is handy for example to make sure search is only done on a specific threadpool since it associates resources per thread the new thread pools include index for index delete bulk-operations search for get count search operations each pool can have a type associated with it and based on the type associated parameters the types can be cached fixed scaling and blocking .	80
203666	171	rnhurt	2011-02-15T14:54:16.000Z	[]	unable to serialize aws compute storage	6	i am trying to store my results in a rails cache but it looks like the compute object doesn t have a serialization method that marshal.dump can work with servers.class fog aws compute servers marshal.dump servers argumenterror wrong number of arguments 1 for 0 from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems fog 0.5.2 lib fog core attributes.rb 116 in dump from irb 42 in dump from irb 42 from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands console.rb 44 in start from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands console.rb 8 in start from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands.rb 23 in top required from script rails 6 in require from script rails 6 in main storage gives me a different error storage.class fog aws storage real marshal.dump storage typeerror no marshal dump is defined for class openssl digest digest from irb 47 in dump from irb 47 from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands console.rb 44 in start from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands console.rb 8 in start from users rnhurt .rvm gems ruby-1.9.2-p0@rain gems railties-3.0.3 lib rails commands.rb 23 in top required from script rails 6 in require from script rails 6 in main	214
460078	276	arantius	2011-02-15T15:53:39.000Z	[]	assigning to document.title has no effect	6	reduced testcase https://gist.github.com 827683 expected behavior an alert followed by the document s title changing i.e visibly in the tab . actual behavior an alert and the document s title remains unchanged workaround window.document.title ... .	36
507775	688	lukas-vlcek	2011-02-15T15:59:54.000Z	[enhancement;;v0.15.0]	add new access-control-allow-headers value into httpresponse header	7	some http clients require access-control-allow-headers value to be set for preflight options requests i realized that for example jquery needs this once i switched from 1.4.x to 1.5	28
507775	690	kimchy	2011-02-15T23:38:17.000Z	[enhancement;;v0.15.0]	rest codes improve returned error codes on rest apis associate codes with internal exceptions	14	rest codes improve returned error codes on rest apis associate codes with internal exceptions	14
507775	695	kimchy	2011-02-16T23:42:45.000Z	[bug;;v0.15.0]	index status peer recovery does not compute the index size correctly to report the full size	16	index status peer recovery does not compute the index size correctly to report the full size	16
507775	696	charles-dyfis-net	2011-02-17T00:03:45.000Z	[]	rabbitmq river plugin only supports direct exchange type	8	there is a legitimate use-case where one may elasticsearch to be subscribed to a queue behind a fanout exchange so not only elasticsearch but other client s as well receive copies of the same messages . as such org.elasticsearch.river.rabbitmq.rabbitmqriver should allow the type passed to channel.exchangedeclare to be parameterized	49
507775	697	kimchy	2011-02-17T01:31:59.000Z	[enhancement;;v0.15.0]	cluster shutdown api on full all shutdown shutdown only data master nodes not client nodes	15	cluster shutdown api on full all shutdown shutdown only data master nodes not client nodes	15
507775	702	kimchy	2011-02-18T21:42:50.000Z	[bug;;v0.15.1;;v0.16.0]	handle cluster join request on a non io thread	9	handle cluster join request on a non io thread	9
507775	705	kimchy	2011-02-19T21:08:09.000Z	[feature;;v0.16.0]	search terms stats facet	4	the terms stats facet combines the terms and stats facet to group based on a key field unique terms and compute stats count total min max on another value field or script for example query match all facets tag price stats terms stats key field tag value field price the size parameter controls how many facet entries will be returned it defaults to 10 . setting it to 0 will return all terms matching the hits ordering is done by setting order with possible values of term reverse term count reverse count total reverse total min reverse min max reverse max . defaults to term . the value computed can also be a script using the value script provided in which case the lang can control its language and params allow to provide custom parameters as in other scripted components . note it is expected that the will be a single value of the key field per doc and one or multiple values of the value field	167
1295197	904	dchenbecker	2011-02-20T05:09:03.000Z	[p:normal;;t:enhancement]	add withtemplatefor ... to webspec	5	per the discussion on http://groups.google.com group liftweb browse thread thread b8cbb8c20d2dd5c 5fd8108e3b54a775 pre code i was actually thinking that it would look like some test withtemplatefor request and or string url in templateresults ... we pass the resulting markup here and s is initialized as well so for example must say hello withtemplatefor http://foo.com helloworld in must ... span hello world span ... code pre	65
507775	706	kimchy	2011-02-21T17:50:37.000Z	[enhancement;;v0.15.1;;v0.16.0]	add http and transport simplified host settings	7	add http.publish host http.bind host http.host sets both publish and bind . transport.publish host transport.bind host transport.host sets both publish and bind .	23
507775	707	kimchy	2011-02-21T21:58:00.000Z	[feature;;v0.16.0]	search add search type scan allowing to efficiently scan large resultset	11	the scan search type allows to efficiently scroll a large resultset its used first by executing a search request with scrolling and a query curl -xget localhost 9200 search search type scan scroll 10m size 50 -d query match all the scroll parameter control the keep-alive time of the scrolling request and initiates the scrolling process the timeout applies per roundtrip i.e between the previous scan scroll request to the next . the response will include no hits with two important results the total hits will include the total hits that match the query and the scroll id that allows to start the scroll process from this stage the search scroll endpoint should be used to scroll the hits feeding the next scroll request with the previous search result scroll id . for example curl -xget localhost 9200 search scroll scroll 10m -d c2nhbjsxojblmzdpwetqu2iyzhlmvurpefjoznc7mzowszm3avhlalnimmr5zlvet3hstmz3ozu6meszn2lys2ptyjjkewzvre94uk5mdzsyojblmzdpwetqu2iyzhlmvurpefjoznc7ndowszm3avhlalnimmr5zlvet3hstmz3ow the breaking condition out of a scroll is when no hits has been returned the total hits will be maintained between scroll requests note scan search type does not support sorting either on score or a field or faceting	183
507775	708	kimchy	2011-02-22T00:26:49.000Z	[enhancement;;v0.16.0]	get api allow to provide a script as a field	10	allow to provide a script as a field for example source.obj1.obj2.name . script behavior is the same as a script field in search	23
203666	174	nirvdrum	2011-02-22T02:55:52.000Z	[]	add changelog	2	it d be very helpful if the changelogs foreach release that being sent to the mailing-list could be consolidated into a single changelog file in the repo	27
507775	711	kimchy	2011-02-22T18:37:38.000Z	[bug;;v0.15.1;;v0.16.0]	river not recovered when using single node after shutdown	9	there is a race in how recovery happens and when it fails to recover it will not recover until another meta change will happen in the cluster like an index being created or a node started	36
203666	175	lojic	2011-02-22T19:00:04.000Z	[]	documentation for create access key response has a typo in a key	12	http://rubydoc.info gems fog 0.5.3 fog-aws iam real#create access key-instance method the doc shows username in the response hash but it should be username	23
507775	712	kimchy	2011-02-22T20:12:57.000Z	[enhancement;;v0.16.0]	allow to register custom rivers under a custom-type name and not full class-names	13	allow to register custom rivers under a custom-type name and not full class-names easily for example public class twitterriverplugin extends abstractplugin @inject public twitterriverplugin @override public string name return river-twitter @override public string description return river twitter plugin @override public void processmodule module module if module instanceof riversmodule riversmodule module .registerriver twitter twitterrivermodule.class the processmodule can register the twitter type for the twitter river module that handles it	68
507775	713	kimchy	2011-02-22T20:26:52.000Z	[enhancement;;v0.16.0]	node stats add number of docs per node	8	add the number of docs that are allocated on each node sum of all the docs on all the shards allocated on that node .	25
507775	714	nirvdrum	2011-02-22T23:08:10.000Z	[bug;;v0.15.1;;v0.16.0]	single node-cluster comes up as red with local gateway	9	when bringing up a single node-cluster using the local gateway with a configuration similar to the following pre gateway type local recover after nodes 1 recover after time 5m expected nodes 1 pre es 0.15.0 will wait the full 5 min before starting up in es 0.14.4 it would come up right away	53
507775	715	pmalves	2011-02-23T17:37:35.000Z	[enhancement;;v0.15.1;;v0.16.0]	twitter river user.screen name should not be analyzed	8	as the subject says it would make querying much more simple	11
507775	716	kimchy	2011-02-23T19:16:25.000Z	[enhancement;;v0.15.1;;v0.16.0]	clear-cache api add specific cache clear for id filter field data bloom	12	the clear-cache api should accept flags to specify which cached to clear for example filter true or field data true . if none are set clear all caches	28
507775	717	kimchy	2011-02-23T20:57:16.000Z	[enhancement;;v0.15.1;;v0.16.0]	improve from hits pagination duplicates	5	when reducing sorting the results from several shards improve the tie breaking between sorted values like score by taking the shards into account as well to have a consistent sort	30
507775	718	kimchy	2011-02-23T22:29:06.000Z	[feature;;v0.16.0]	search add search type for count to return count but still support facets	13	currently a hack to get just the count is to set size to 0 . a special search type called count can eb used to return just the count provided in the total hits and possibly facets in general this should replace the count api	45
507775	719	kimchy	2011-02-24T04:54:34.000Z	[enhancement;;v0.16.0]	search allow to filter out docs based on a minimum score	11	allow to filter docs based on a minimum score for example min score 0.5 query term user kimchy	18
507775	720	enguzekli	2011-02-24T12:10:28.000Z	[bug;;v0.15.1;;v0.16.0]	acknowledge problem for put mapping with multiple indices or all indices	11	while using put mapping with multiple indices response returns acknowledged as false it should return true this is discussed in http://elasticsearch-users.115913.n3.nabble.com problem-with-put-mapping-on-multiple-indices-tp2558832p2558832.html	22
507775	721	kimchy	2011-02-25T01:53:36.000Z	[enhancement;;v0.15.1;;v0.16.0]	index filter cache add resident type and max-size to soft weak types	12	add a resident filter cache that will use an lru for filter cache with default index.cache.filter.resident.max size of 1000 . also add max-size to the soft and weak filter caches as well by default -1 it is not set	39
507775	722	kimchy	2011-02-26T01:54:58.000Z	[enhancement;;v0.15.1;;v0.16.0]	mapping when all is disabled optimize to not gather all entries	11	all entries are not gathered if specific include in all mapping is set on field object level but if all is disabled completely they are still gathered really don t do that... . here is a sample mapping when all is disabled my type all enabled false	47
1295197	918	jeppenejsum	2011-02-26T11:01:06.000Z	[p:normal;;t:enhancement]	request should not return status 200 when a snippet template failure occurs	12		0
1295197	919	dpp	2011-02-26T11:40:57.000Z	[p:normal;;t:enhancement]	make it easier to register screen and wizard as snippets in loc	12	see https://groups.google.com d topic liftweb f9g2o8w71hg discussion	7
507775	723	kimchy	2011-02-26T20:24:13.000Z	[enhancement;;v0.15.1;;v0.16.0]	zen discovery rename discovery.zen.initial ping timeout to discovery.zen.ping timeout still support the old setting	14	rename discovery.zen.initial ping timeout to discovery.zen.ping timeout still support the old setting . this is mainly since ping can be done not just for the initial discovery process	28
507775	724	kimchy	2011-02-26T21:45:58.000Z	[enhancement;;v0.15.1;;v0.16.0]	bulk api improve memory usage when executing large bulk requests	10	currently the bulk api does a pass to parse all items and them performs them move to do it one by one to improve memory utilization	26
507775	725	kimchy	2011-02-26T22:59:18.000Z	[bug;;v0.15.1;;v0.16.0]	percolate failure to percolate with specific query when creating the percolate index before the actual index	16	percolate failure to percolate with specific query when creating the percolate index before the actual index	16
507775	727	lukas-vlcek	2011-02-28T18:17:25.000Z	[bug;;v0.15.2;;v0.16.0]	date-histogram facet npe if using 1w interval	7	when using 1w interval i get the following npe exception org.elasticsearch.search.searchparseexception indexname 2 query constantscore from -1 size -1 parse failure failed to parse source query query-string query facets histogram date-histogram field date interval 1w at org.elasticsearch.search.searchservice.parsesource searchservice.java 470 at org.elasticsearch.search.searchservice.createcontext searchservice.java 385 at org.elasticsearch.search.searchservice.executequeryphase searchservice.java 215 at org.elasticsearch.search.action.searchservicetransportaction.sendexecutequery searchservicetransportaction.java 134 at org.elasticsearch.action.search.type.transportsearchcountaction asyncaction.sendexecutefirstphase transportsearchcountaction.java 74 at org.elasticsearch.action.search.type.transportsearchtypeaction baseasyncaction.performfirstphase transportsearchtypeaction.java 191 at org.elasticsearch.action.search.type.transportsearchtypeaction baseasyncaction.access 000 transportsearchtypeaction.java 75 at org.elasticsearch.action.search.type.transportsearchtypeaction baseasyncaction 1.run transportsearchtypeaction.java 150 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1110 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 603 at java.lang.thread.run thread.java 636 caused by java.lang.nullpointerexception at org.elasticsearch.search.facet.datehistogram.datehistogramfacetprocessor.parse datehistogramfacetprocessor.java 170 at org.elasticsearch.search.facet.facetparseelement.parse facetparseelement.java 88 at org.elasticsearch.search.searchservice.parsesource searchservice.java 457	101
507775	728	kimchy	2011-02-28T20:41:16.000Z	[bug;;v0.15.1;;v0.16.0]	ids with # in them will cause search failures also fail when # is used in a typename	18	ids with # in them will cause search failures also fail when # is used in a typename	18
507775	729	kimchy	2011-02-28T22:49:19.000Z	[enhancement;;v0.15.1;;v0.16.0]	peer recovery batch translog based operation recovery based on size and not just number of operations	16	currently the peer recovery of translog does batching based on operation defaults to 100 . batching based on size as well is important since there might be big docs that will prove problematic to recover the following parameters allow to control peer recovery index.shard.recovery.file chunk size the chunks index files will be broken down to when recovered defaults to 100kb . index.shard.recovery.translog size the batch size of translog operations defaults to 100kb . index.shard.recovery.translog ops the number of operations per batch defaults to 1000 .	85
507775	730	kimchy	2011-03-01T02:35:15.000Z	[enhancement;;v0.16.0]	search allow to use has child filter in facets	9	has child filter is a special type of filter that requires pre processing allow to use it in non global facets in a similar manner that it can be used in query element this will also enable it to be used in the new search filter element	47
507775	732	monken	2011-03-01T14:41:53.000Z	[bug;;v0.15.2;;v0.16.0]	prefix inside a dismax bool query broken	7	size 2 query dismax queries prefix pauseid value alex this gives me no query registered for null while this works size 2 query dismax queries prefix pauseid alex	28
507775	734	kimchy	2011-03-01T20:12:40.000Z	[enhancement;;v0.15.2;;v0.16.0]	don t double cache a facet filter query facet	9	we always cache a facet filter even though it can be controlled on the filter level itself remove the caching and let it be controlled on the filter itself	29
507775	735	kimchy	2011-03-02T01:59:45.000Z	[enhancement;;v0.16.0]	twitter river automatically reconnect when disconnected from twitter stream	9	twitter river automatically reconnect when disconnected from twitter stream	9
507775	736	kimchy	2011-03-02T03:10:37.000Z	[bug;;v0.15.2;;v0.16.0]	searching while an index is being allocated and no active shards exists within a shard replication group can cause search misses	21	while an index is being created and a shards replication group is not allocated yet for example shard id 2 primary and replicas have not been allocated yet then when performing a search it might miss data that was indexed obviously on a shard replication group that has at least one active shard .	54
507775	742	kimchy	2011-03-02T19:59:19.000Z	[enhancement;;v0.15.2;;v0.16.0]	delete api allow to set parent on it will simply set the routing value	14	delete request does not accept a parent parameter it does accept routing and thats what one should set with the parent value but it will be nice to have the ability to set the parent as well which will simply set the routing value . this also applies to the bulk api with the parent parameter being used for delete iterms	61
507775	743	kimchy	2011-03-03T00:59:03.000Z	[bug;;v0.15.2;;v0.16.0]	all field all field can fail to analyze input data rare cases	12	all field all field can fail to analyze input data rare cases	12
507775	744	kimchy	2011-03-03T02:16:36.000Z	[enhancement;;v0.15.2;;v0.16.0]	querydsl flt field does not allow to set min similarity and prefix length	13	querydsl flt field does not allow to set min similarity and prefix length	13
507775	745	kimchy	2011-03-03T21:53:00.000Z	[enhancement;;v0.16.0]	indices status node stats add lucene index merge stats	9	add lucene level merge stats how long they took how many ran and how many are currently running	18
507775	746	kimchy	2011-03-03T22:19:37.000Z	[breaking;;v0.16.0]	node stats api change the structure of the response more structured	11	node stats api change the structure of the response more structured	11
507775	747	kimchy	2011-03-04T02:21:52.000Z	[enhancement;;v0.16.0]	internal improve checksum process by bulk writing them into a single-file instead of checksum file per index file	18	internal improve checksumming by bulk writing them into a single-file instead of checksum file per index file	17
1295197	927	indrajitr	2011-03-04T09:19:45.000Z	[mapper;;p:normal]	mapperspec fails during full build	5	during full build net.liftweb.mapper.mapperspec fails however they work fine when it is executed individually	14
203666	203	drnic	2011-03-05T05:36:25.000Z	[]	how do i get a list of all aws flavors	10	in fog compute models aws flavors.rb it says aws.flavors.all returns a list of all aws flavors line 14 + 20 but this doesn t work how do i get the list	31
507775	752	kimchy	2011-03-07T10:49:42.000Z	[feature;;v0.16.0]	scripts allow to register native scripts java for better script execution performance	12	even though mvel is pretty fast allow to register native java based scripts for faster execution in order to allow for scripts the nativescriptfactory needs to be implemented that constructs the script that will be executed there are two main types one that extends abstractexecutablescript and one that exetends abstractsearchscript probably the one most users will extend . registering them can either be done by settings for example scripts.natives.my.type set to sample.mynativescriptfactory will register a script named my . another option is in a plugin to get scriptmodule and call registerscript on it executing the script is done by specifying the type as native and the name of the script as the script	113
203666	204	vivienschilis	2011-03-07T14:25:05.000Z	[]	file expand	2	hi wes i got this error argumenterror - couldn t find home environment -- expanding .fog i suppose it s because something as unset my home variable i don t know why home was not set correctly at this time but it s too bad that fog was failing just because of that as i was specifying credentials in the call and not in the default config file shouldn t you rescue argument or verify the home variable exists before	80
507775	755	kimchy	2011-03-08T06:20:22.000Z	[enhancement;;v0.16.0]	logging add merge level logging	5	add merge level logging under index.merge . if set to debug will only log merges longer than 20s . if set to trace will log when a merge starts and when its done	33
507775	758	kimchy	2011-03-08T19:34:39.000Z	[feature;;v0.16.0]	update settings allow to dynamically change refresh interval and merge policy settings	12	improve the update settings api to allow to change more index level settings the first set of settings include the index.refresh interval and index.merge.policy settings this combination of settings can come handy when doing bulk indexing and then moving to a more real-time indexing for example before doing bulk indexing update the settings curl -xput localhost 9200 test settings -d index refresh interval -1 merge.policy.merge factor 30 in the above we disable refreshing and increase the merge factor to 30 to decrease the merge operations we will do once done we can go back to normal curl -xput localhost 9200 test settings -d index refresh interval 1s merge.policy.merge factor 10 but since we changed the merge factor we probably also want to optimize down to 10 or even 5 curl -xpost localhost 9200 test optimize max num segments 5	139
507775	759	kimchy	2011-03-08T20:23:58.000Z	[enhancement;;v0.16.0]	mvel script add more random options and optimize random	9	add randomdouble randomfloat randomint randomlong . also add randomint int and randomlong long to return random between 0 and the provided value	22
507775	762	kimchy	2011-03-09T05:35:08.000Z	[enhancement;;v0.16.0]	update settings allow to dynamically change index.term index interval and index.term index divisor	13	update settings allow to dynamically change index.term index interval and index.term index divisor	13
507775	763	kimchy	2011-03-09T08:48:32.000Z	[bug;;v0.16.0]	percolator failures when using docs where fields repeat such as arrays	11	percolator failures when using docs where fields repeat such as arrays	11
507775	764	kimchy	2011-03-09T09:35:36.000Z	[bug;;v0.16.0]	mapper using dynamic template can result in warning of parsed and original source difference resulting in excessive mapping parsing	19	mapper using dynamic template can result in warning of parsed and original source difference resulting in excessive mapping parsing .	20
507775	765	kimchy	2011-03-09T12:16:46.000Z	[enhancement;;v0.16.0]	update settings allow to dynamically update index.translog settings	8	allow to update index.translog.flush threshold ops index.translog.flush threshold size and index.translog.flush threshold period dynamically using the update settings api	19
1390248	1	thatch45	2011-03-10T15:33:20.000Z	[]	enable regex on the salt cli	6	need a flag to use pcre regex on the salt cli	11
1390248	2	thatch45	2011-03-10T15:33:52.000Z	[]	salt job queries	3	enable looking up old job results	6
507775	769	enguzekli	2011-03-11T14:15:18.000Z	[feature;;v0.16.0]	search get allow to specify a preference on which shards or order it will be executed	16	allow to set preference when performing a search or get operation by default the operation is randomized across shards to be executed the preference can be set to primary the operation will go and be executed only on the primary shards local the operation will prefer to be executed on a local allocated shard is possible custom string value a custom value will be used to guarantee that the same shards will be used for the same custom value this can help with jumping values when hitting different shards in different refresh states a sample value can be something like the web session id or the username discussed in http://elasticsearch-users.115913.n3.nabble.com bulk-indexing-and-search-with-two-different-threads-tp2664361p2664361.html	111
507775	772	jfiedler	2011-03-12T12:21:02.000Z	[feature;;v0.16.0]	sort support missing specific handling include last first and custom value for numeric values	14	support specific handling for missing numeric field values including last first and custom values the following is an example sort price missing last query term user kimchy or another sample sort price missing 1.2 query term user kimchy	38
507775	773	kimchy	2011-03-12T15:02:38.000Z	[enhancement;;v0.16.0]	add max shard index-buffer size to control the upper limit of a shard indexing buffer size defaults to 512mb	19	add max shard index-buffer size to control the upper limit of a shard indexing buffer size defaults to 512mb .	20
507775	775	clintongormley	2011-03-12T18:24:16.000Z	[enhancement;;v0.16.0]	support true false for the store parameter in mappings	9	currently store only accepts yes and no which are the lucene values but is inconsistent with other boolean parameters in es	21
507775	776	kimchy	2011-03-12T18:34:52.000Z	[feature;;v0.16.0]	versioning add a new version type-parameter with a new type - external	12	add a new version type parameter supporting a new versioning behavior the current versioning behavior is called internal the new one named external . the external version type allows to provide an external numeric version value that might be maintained by an external system like optimistic-locking logic in a database . when provided by setting the version value and the version type to external the check will be if the provided version is greater than the current document version if so it will be set as the document version value and the document will be indexed if the current document version is higher than the provided version a version conflict will be returned thrown this means that async indexing as a result of operations done against the database can use the database-versioning scheme and there is no need to maintain strict ordering in the async indexing process or even the simple case of updating the db and then indexing into elasticsearch is now simplified since if the indexing gets out of order the external versioning can be used to make sure only the latest version is indexed	187
507775	778	kimchy	2011-03-13T09:43:07.000Z	[enhancement;;v0.16.0]	bulk request streamline parameters names to be the same as the single rest request	14	this seem to confuse some people so allow to provide routing on top of routing parent on top of parent version on top of version and version type on top of version type .	34
1390248	17	thatch45	2011-03-14T19:51:31.000Z	[]	modules need to be autodocumenting	5	a sys function needs to report on all available functions and pass on the documentation on how to use them	20
507775	781	kimchy	2011-03-15T19:16:13.000Z	[bug;;v0.16.0]	cluster health api asking for health on an index that does not-exists should return red status	16	cluster health api asking for health on an index that does not-exists should return red status	16
1420493	8	phoet	2011-03-16T17:29:15.000Z	[]	support for branches	3	maybe i just misconfigured my latest project but it does not bild if i push changes to a branch other than master	22
1295197	937	notnoop	2011-03-17T05:59:01.000Z	[p:normal;;record;;t:defect]	passwordfield not storing salt	4	record passwordfield doesn t store and load hashed values properly it hashes new passwords with randomly generated salt without storing the salt and re-hashes the database value with a new salt when loading it there is no mechanism to actually match-against the original password a testcase is provided at https://gist.github.com 872498 .	52
507775	787	emedina	2011-03-17T09:54:50.000Z	[enhancement;;v0.16.0]	query provide an option to analyze wildcard prefix in query-string field queries	12	add a flag called analyze wildcard to both query-string and field queries once set a best effort will be made to analyze wildcard and prefix queries as well more details when we use an analyzer that stems terms into tokens and then later we want to search against those analyzed terms using a wildcard by default the search terms are not analyzed as that analysis could lead into several tokens and the search-engine would not be sure which one to use http://www.jguru.com faq view.jsp eid 538312 however in certain circumstances when the liability of the search can be somehow constrained in favor of better expected results it would be nice to tell the search-engine to analyze the wildcard terms before executing the search therefore allowing for a more precise search at least expected . let s put here an example with the spanish analyzer which uses the snowball stemmer we index the phrase i have an iphone we index the phrase i love the triad ipad iphone ipod we index the phrase i found the perfect combination iphone mp3 if we use the standard current query-string when searching for phone we will only get the last phrase due to the way in which the terms have been analyzed i have an iphone tokens token i start offset 0 end offset 1 type alphanum position 1 token hav start offset 2 end offset 6 type alphanum position 2 token an start offset 7 end offset 9 type alphanum position 3 token iphon start offset 10 end offset 16 type alphanum position 4 i love the triad ipad iphone ipod tokens token i start offset 0 end offset 1 type alphanum position 1 token lov start offset 2 end offset 6 type alphanum position 2 token the start offset 7 end offset 10 type alphanum position 3 token tri start offset 11 end offset 16 type alphanum position 4 token ipad start offset 17 end offset 21 type alphanum position 5 token iphon start offset 22 end offset 28 type alphanum position 6 token ipod start offset 29 end offset 33 type alphanum position 7 i found the perfect combination iphone mp3 tokens token i start offset 0 end offset 1 type alphanum position 1 token found start offset 2 end offset 7 type alphanum position 2 token the start offset 8 end offset 11 type alphanum position 3 token perfect start offset 12 end offset 19 type alphanum position 4 token combination start offset 20 end offset 31 type alphanum position 5 token iphone mp3 start offset 33 end offset 43 type num position 6 see how the latter stems iphone mp3 as iphone mp3 hence this is the only one matching a query-string equal to phone and similar unexpected results occur when using just one leading or trailing wildcard as well . this result would be dissapointing for the user as she d expect at least something like iphone or even telephone to be returned as a result but due to fact that the spanish analyzer will always remove the trailing e from most of the words it won t find them so enhancement would be to provide a mechanism in the form of a parameter for instance in the query-string that would tell the es query-parser to analyze those search terms surrounded by wildcards i.e either enclosed completely or just with a leading or trailing wildcard . following our previous example a query-string for phone would be actually analyzed in the spanish analyzer as phon therefore returning absolutely all the phrases previously created which would be the expected and reasonable behaviour from a user s perspective of course it could have some side-effects on other searches but as a parameter it would be up to the search designer to either use it or not	635
1295197	938	awhitford	2011-03-17T13:18:57.000Z	[mapper;;p:normal;;t:defect]	mappedlongforeignkey asjsexp should generate je.jsnull	5	similarly to defect # 282 a mappedlongforeignkey will a null value will be emitted as a 0 by asjsexp . a null long should be emitted as a jsnull . defect 282 corrected asjsonvalue but did not correct asjsexp .	40
507775	789	ogg	2011-03-17T19:21:59.000Z	[enhancement;;v0.16.0]	exclude functionality missing for terms facet on numeric fields	9	in 0.15 the exclude functionally was not implemented for terms facet on numeric fields please implement this see original discussion here http://groups.google.com a elasticsearch.com group users browse thread thread 68084193989b2765	30
507775	790	kimchy	2011-03-18T00:05:03.000Z	[bug;;v0.16.0]	percolator failure when deleting and creating an index also causes problem with percolated queries isolation between different indices	18	the problem was that the real-time updater of percolated queries was not being removed correctly from indices that are deleted also it was being applied not only on the specific index they relate to details here http://groups.google.com a elasticsearch.com group users browse thread thread cf7aba9ef1032a8a#. will update the issue with more details once its tracked down	56
507775	791	kimchy	2011-03-18T17:52:49.000Z	[feature;;v0.16.0]	delete indexapi allow to delete more than one index or all indices	12	delete indexapi allow to delete more than one index or all indices for example # delete test1 and test2 curl -xdelete localhost 9200 test1 test2 # delete all indices curl -xdelete localhost 9200	33
507775	793	kimchy	2011-03-18T22:23:53.000Z	[enhancement;;v0.16.0]	percolator when deleting an index make sure to delete all its percolated queries from the percolator index	17	percolator when deleting an index make sure to delete all its percolated queries from the percolator index	17
1295197	942	tackley	2011-03-18T22:30:45.000Z	[p:normal;;rest;;t:enhancement]	resthelper extension should override accept header for json xml detection	10	i m experimenting with the simply lift example rest app https://github.com dpp simply lift blob master samples http rest src main scala code lib basicwithhelper.scala with the latest lift 2.3-snapshot the accept header detection overrides the url extension so curl http://localhost 8080 simple3 item 1234 curl http://localhost 8080 simple3 item 1234.json returns json as expected but curl http://localhost 8080 simple3 item 1234.xml also returns json this appears to be because curl sends by default an pre accept pre header so to get xml you have to curl -h accept http://localhost 8080 simple3 item 1234.xml to stop curl sending an accept header experience with our api http://content.guardianapis.com is that developers always get the extension right but are not so good at getting accept headers right... and i always test an api with curl before writing any code i guess other people do too so the curl use-case is particularly confusing the background content.guardianapis.com is implemented in scala with guice and plain servlets i m considering moving the code to use resthelper is it possible to make the extension if provided and valid always override the accept headers	186
1295197	943	tackley	2011-03-18T22:36:01.000Z	[p:normal;;rest;;t:defect]	resthelper prefix breaks extension processing	5	based on the simply lift resthelper example https://github.com dpp simply lift blob master samples http rest src main scala code lib basicwithhelper.scala with the latest lift 2.3-snapshot calling the simple5 endpoint with an extension generates an exception pre http rest master curl http://localhost 8080 simple5 item.json doctype html html body exception occured while processing simple5 item.json pre message java.util.nosuchelementexception scala.collection.linearseqoptimized class.last linearseqoptimized.scala 147 scala.collection.immutable.list.last list.scala 45 net.liftweb.http.parsepath.wholepath req.scala 1178 net.liftweb.http.req.path req.scala 855 net.liftweb.http.req lt init gt req.scala 848 net.liftweb.http.req anon 1 lt init gt req.scala 747 net.liftweb.http.req.withnewpath req.scala 747 net.liftweb.http.rest.listservemagic anon 14.isdefinedat resthelper.scala 682 net.liftweb.http.rest.listservemagic anon 14.isdefinedat resthelper.scala 679 net.liftweb.http.rest.resthelper anonfun isdefinedat 1.apply resthelper.scala 467 net.liftweb.http.rest.resthelper anonfun isdefinedat 1.apply resthelper.scala 467 scala.collection.linearseqoptimized class.find linearseqoptimized.scala 102 scala.collection.immutable.list.find list.scala 45 net.liftweb.http.rest.resthelper class.isdefinedat resthelper.scala 467 code.lib.basicwithhelper .isdefinedat basicwithhelper.scala 17 code.lib.basicwithhelper .isdefinedat basicwithhelper.scala 17 net.liftweb.util.namedpf anonfun find 1.apply namedpartialfunction.scala 57 net.liftweb.util.namedpf anonfun find 1.apply namedpartialfunction.scala 57 scala.collection.linearseqoptimized class.find linearseqoptimized.scala 102 scala.collection.immutable.list.find list.scala 45 ... pre http://localhost 8080 simple5 item works fine my limited testing has shown that i get this kind of error whenever i specify an extension to an endpoint declared using the prefix helper and is fine if you don t use it	191
507775	795	tsuna	2011-03-19T09:45:28.000Z	[enhancement;;v0.16.0]	npe when the json to index doesn t match the mapping s expectations	13	here s a simple repro works both on 0.15.2 and on head as of elasticsearch elasticsearch@70fc8d9af0574c0ad3fa3da8916078034219f716 pre curl -xpost localhost 9200 test foo -d field nested 42 ok true index test type foo id hhtwqld0rtermpqxnex7ba version 1 curl -xpost localhost 9200 test foo -d field omg error nullpointerexception null status 500 pre this is on a fresh install of 0.15.2 with no configuration whatsoever for reference the dynamic mapping created by the first post is pre curl localhost 9200 test foo mapping pretty true test foo properties field dynamic true properties nested type long pre the error that appears on the server-side is pre 2011-03-19 02 32 49 171 info node astaroth asteroth elasticsearch 0.15.2 25417 started 2011-03-19 02 32 53 375 info cluster.metadata astaroth asteroth test creating index cause auto index api shards 5 1 mappings 2011-03-19 02 32 54 131 info cluster.metadata astaroth asteroth test created and added to cluster state 2011-03-19 02 32 54 491 info cluster.metadata astaroth asteroth test update mapping foo dynamic 2011-03-19 02 32 56 846 debug action.index astaroth asteroth test 2 node wlhdqbsoqs-eskjnx-clvw p s started failed to execute index test foo jbzakpbdtba2k38ukxf7wa source field omg java.lang.nullpointerexception at org.elasticsearch.index.mapper.xcontent.objectmapper.parse objectmapper.java 308 at org.elasticsearch.index.mapper.xcontent.xcontentdocumentmapper.parse xcontentdocumentmapper.java 429 at org.elasticsearch.index.mapper.xcontent.xcontentdocumentmapper.parse xcontentdocumentmapper.java 363 at org.elasticsearch.index.shard.service.internalindexshard.preparecreate internalindexshard.java 250 at org.elasticsearch.action.index.transportindexaction.shardoperationonprimary transportindexaction.java 187 at org.elasticsearch.action.support.replication.transportshardreplicationoperationaction asyncshardoperationaction.performonprimary transportshardreplicationoperationaction.java 418 at org.elasticsearch.action.support.replication.transportshardreplicationoperationaction asyncshardoperationaction.access 100 transportshardreplicationoperationaction.java 233 at org.elasticsearch.action.support.replication.transportshardreplicationoperationaction asyncshardoperationaction 1.run transportshardreplicationoperationaction.java 331 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 680 pre the bug comes from the fact that the objectmapper.parse doesn t handle end of file here there are two possible behaviors to adopt here 1 accept eof here and do the right thing 2 reject eof with an error because the existing mapping expects another form of data in my case i want behavior 1 but i m fairly new to es so i don t know if this should be universal or not either way the npe is clearly a bug here	329
507775	799	kimchy	2011-03-21T14:17:41.000Z	[enhancement;;v0.16.0]	update settings allow to control index.auto expand replicas	8	allow to change the index.auto expand replicas setting dynamically using update setting also allow it to be set to false basically disabling it for example curl -xput localhost 9200 test -d settings index number of shards 1 auto expand replicas 0-all curl -xput localhost 9200 test settings -d index number of replicas 0 auto expand replicas false curl -xput localhost 9200 test settings -d index auto expand replicas 0-all	69
507775	800	kimchy	2011-03-21T15:50:19.000Z	[bug;;v0.16.0]	mapping failure to update source mapping - compress and compress threshold	11	mapping failure to update source mapping - compress and compress threshold for example curl -xput localhost 9200 test curl -xput localhost 9200 test type1 1 -d field value curl localhost 9200 test type1 mapping pretty 1 curl -xput localhost 9200 test type1 mapping -d type1 source compress true curl localhost 9200 test type1 mapping pretty 1	56
507775	801	kimchy	2011-03-21T23:29:21.000Z	[enhancement;;v0.16.0]	datefield mapper allow to use timestamp value milliseconds since epoch utc	11	the date type should also accept timestamp values milliseconds since the epoch utc .	14
507775	802	sebaes	2011-03-22T00:02:24.000Z	[enhancement;;v0.16.0]	extend stats api to include filter s cache count and eviction count	12	provide a way to know in runtime the statistics of the filters cache probably useful counters are - size - evictioncount	21
507775	803	sebaes	2011-03-22T00:07:00.000Z	[enhancement;;v0.16.0]	add option to expire filter s cache based on access time	11	lru soft and weak are the current filtercache options but none of them expire elements based on lastaccesstime add expire flag accepting a time value based setting 5s 10m that will cause filters to be expired after that time if not accessed with current implementations in theory the cache would grow to it s maximum if we keep creating filters used not permanently but for a long enough time to consider caching them an example would be time based filters like today yesterday past week past month that are created anew each day	93
1295197	947	terjesb	2011-03-22T21:08:16.000Z	[p:normal;;rest]	xmlpost resthelper accept header handling	5	ref discussion on mailing-list note my case is a post and not a get so i d expect it to match the xmlpost using content-type or is accept or extension required for posts too seems reasonable please open a ticket and assign it to me for 2.3-release you need to be a watcher of the assembla liftweb space to open tickets 2.3-rc3 seems to require that i append .xml to the url or use accept text xml for matching xmlpost as indicated by http://www.assembla.com wiki show liftweb rest web-services for navigating web-services 2.2 also works without .xml appended and with accept though as long as the content-type is ok . is this change a fix or a regression may be related to ticket 942 if i add accept text xml 2.3-rc3 also works without the extension note my case is a post and not a get so i d expect it to match the xmlpost using content-type or is accept or extension required for posts too https://github.com terjesb lift-rest-xmlpost object idocservice extends resthelper serve case idoc xmlpost xml - response 2.2 curl -v -x post -h content-type text xml --data-binary @i.xml http://server 8080 lift-rest-xmlpost idoc content-type text xml accept http-1.1 100 continue http-1.1 200 ok date mon 21 mar 2011 21 51 33 gmt expires mon 21 mar 2011 21 51 33 utc content-length 65 cache-control no-cache private no-store content-type text xml charset utf-8 pragma no-cache date mon 21 mar 2011 21 51 33 utc x-lift-version 2.2 server jetty 6.1.24 xml version 1.0 encoding utf-8 response response 2.3-rc3 curl -v -x post -h content-type text xml --data-binary @i.xml http://server 8080 lift-rest-xmlpost idoc content-type text xml accept http-1.1 100 continue http-1.1 404 not found date mon 21 mar 2011 21 47 37 gmt expires mon 21 mar 2011 21 47 37 utc set-cookie jsessionid s4cmybkfhqv41i68yrkwldpe0 path lift-rest- xmlpost content-length 119 cache-control no-cache private no-store content-type text html charset utf-8 pragma no-cache date mon 21 mar 2011 21 47 37 utc x-lift-version 2.3-rc3 server jetty 6.1.24 doctype html html body the requested url lift-rest-xmlpost idoc was not found on this server body html 2.3-rc3 with .xml appended curl -v -x post -h content-type text xml --data-binary @i.xml http://server 8080 lift-rest-xmlpost idoc.xml content-type text xml accept http-1.1 100 continue http-1.1 200 ok date mon 21 mar 2011 22 01 03 gmt expires mon 21 mar 2011 22 01 03 utc content-length 65 cache-control no-cache private no-store content-type text xml charset utf-8 pragma no-cache date mon 21 mar 2011 22 01 03 utc x-lift-version 2.3-rc3 server jetty 6.1.24 xml version 1.0 encoding utf-8 response response 2.3-rc3 without extension but accept header curl -v -x post -h content-type text xml --data-binary @i.xml -h accept text xml http://neviroom-test.nevi.priv 8080 lift-rest-xmlpost idoc content-type text xml accept text xml http-1.1 100 continue http-1.1 200 ok date mon 21 mar 2011 22 09 18 gmt expires mon 21 mar 2011 22 09 18 utc content-length 65 cache-control no-cache private no-store content-type text xml charset utf-8 pragma no-cache date mon 21 mar 2011 22 09 18 utc x-lift-version 2.3-rc3 server jetty 6.1.24 xml version 1.0 encoding utf-8 response response	519
507775	804	kimchy	2011-03-23T15:00:31.000Z	[feature;;v0.16.0]	mapping add size field mapping indexing the original source size	10	data can be derived from the size of each document indexed the size field mapping can be used to enable indexing and possibly storing the size of the original source indexed in order to enable it set in the mappings tweet size enabled true this will index the size field and allow it to be searchable and faceted statistical facets for example . in order to store the field as well tweet size enabled true store yes	77
1295197	949	justwrote	2011-03-25T03:54:07.000Z	[p:normal;;t:defect]	liftscreen validation errors not shown when using record	8	as seen in http://groups.google.com group liftweb browse thread thread 3ad3a424242bcc80 c981ef966284cf40 validation errors are not shown next to the fields if you are using record	25
1295197	951	kajomarton	2011-03-27T06:55:58.000Z	[p:normal;;record;;t:defect]	booleanfield always returns false in squeryl-record	6	booleanfield in squeryl-record is getting always false even is the db is true this problem was reported in this google-groups where is large discussion squeryl group https://groups.google.com d topic squeryl tfvlsw98r2q discussion lift group https://groups.google.com d topic liftweb wp zw9zh4eo discussion	41
507775	809	kimchy	2011-03-29T11:04:46.000Z	[breaking;;enhancement;;v0.16.0]	indices status api remove settings aliases section and add recovery snapshot flags	12	remote the settings and aliases sections from index status api recovery section only returned when passing recovery and setting it to true . snapshot section only returned when passing snapshot and setting it to true .	36
507775	810	kimchy	2011-03-29T11:49:42.000Z	[feature;;v0.16.0]	get settings api allow to retrieve just a specific index indices settings	12	sample usages curl localhost 9200 test settings curl localhost 9200 test1 test2 settings	13
507775	811	kimchy	2011-03-29T15:37:22.000Z	[enhancement;;v0.16.0]	indices status api add refresh stats	6	add refresh stats in the indices status api to return how long refreshes took per shard and per index	19
507775	814	kimchy	2011-03-30T10:44:23.000Z	[feature;;v0.16.0]	shard allocation add a setting to control when rebalancing will happen based on the cluster wide active shards state	19	currently rebalancing can start once a shard replication group a primary and its replicas are active for those shards this can become taxing on a cluster with many indices that are slowly being initialized during full cluster restart allow to control when rebalancing will happen based on the total state of all the indices shards in the cluster the setting is cluster.routing.allocation.allow rebalance and has the following values always same behavior as today rebalancing will be allowed once a shard replication group is active indices primaries active rebalancing will be allowed only once all primary shards on all indices are active indices all active rebalancing will be allowed only once all shards on all indices are active the default-value is indices all active . this does mean that if the cluster is in yellow state for example not enough nodes were brought on and it could not find a shard to recover then no rebalancing will happen until it is resolved	161
507775	815	kimchy	2011-03-30T12:46:16.000Z	[enhancement;;v0.16.0]	http support compression gzip deflate when using accept-encoding header	9	http support compression gzip deflate when using accept-encoding header by default its enabled to disable it set http.compress to false . compression level on responses can also be configured by setting http.compress level to a value between 1 and 10 defaults to 6 .	44
507775	816	kimchy	2011-03-30T13:39:47.000Z	[feature;;v0.16.0]	shard allocation allow to control how many cluster wide concurrent rebalance relocation are allowed default to 3	17	allow to control how many concurrent rebalancing of shards are allowed cluster wide and default it to 3 . the setting is cluster.routing.allocation.cluster concurrent rebalance . setting it to -1 will allow for unbounded number of rebalancing	37
507775	817	kimchy	2011-03-30T13:43:26.000Z	[enhancement;;v0.16.0]	shard allocation rename cluster.routing.allocation.concurrent recoveries to cluster.routing.allocation.node concurrent recoveries old one still works	13	better setting name to indicate that its a node level setting	11
507775	818	kimchy	2011-03-30T19:02:32.000Z	[breaking;;v0.16.0]	elasticsearch script change classpath to es classpath	7	usually one doen t really change it or update it so shouldn t affect anybody but will also remove it from being used by other apps	26
507775	819	kimchy	2011-03-30T22:59:01.000Z	[enhancement;;v0.16.0]	shard allocation add node initial primaries recoveries setting	8	allow to control specifically the number of initial recoveries of primaries that are allowed per node since most times local gateway is used those should be fast and we can handle more of those per node without creating load the cluster.routing.allocation.node initial primaries recoveries setting controls that and defaults to 4 . note for the rest of the recoveries happening in the system replicas and rebalancing the current setting cluster.routing.allocation.node concurrent recoveries applies which defaults to 2 .	78
507775	820	kimchy	2011-03-30T23:05:38.000Z	[enhancement;;v0.16.0]	translog reduce the number of translog ops to flush after from 20000 to 5000	14	reduce index.translog.flush threshold ops from 20000 to 5000 for lower number of translog entries before flushing also reduce index.translog.flush threshold size from 500mb to 200mb . note this setting can be set in update settings api and can be increased before doing bulk indexing for better indexing tps	48
1295197	953	indrajitr	2011-03-31T04:18:57.000Z	[p:normal;;t:enhancement;;utils]	lift mailer email-threading adding unique email-headers	6	http://groups.google.com group liftweb browse thread thread cb129299e1510273 when using mailer desire the ability to set custom message-id references and or in-reply-to headers for an outgoing email for threading purposes	29
1295197	954	indrajitr	2011-03-31T09:53:30.000Z	[p:normal;;sitemap;;t:defect]	preparamsmenu s slash method requires a string instead of a locpath	11	this prevents the usage of the locpath at toplevel for example pre code menu.params string string foo bar parse encode foo code pre does not compile while pre code menu.params string string foo bar parse encode x foo code pre works https://groups.google.com forum fromgroups# topic liftweb r eu3cu87f	48
507775	821	kimchy	2011-03-31T15:02:49.000Z	[enhancement;;v0.16.0]	indexing buffer automatically inactivate unindexed into shards and lower their indexing buffer size	13	indexing buffer automatically inactivate unindexed into shards and lower their indexing buffer size new settings default are really ok indices.memory.inactive shard index-buffer size defaults to 1mb . indices.memory.shard inactive time defaults to 30m .	34
1295197	955	drdozer	2011-04-01T08:15:53.000Z	[p:normal;;t:defect]	s.redirectto should return nothing	4	s.redirectto should have the return-type nothing to indicate that it never returns	12
507775	822	kimchy	2011-04-01T13:29:53.000Z	[feature;;v0.16.0]	terms facet performance improvements	4	new internal way to aggregate terms facet increasing perf by up to 10x or even more .	17
507775	823	kimchy	2011-04-01T19:43:22.000Z	[bug;;v0.16.0]	concurrent calls to refresh might result in dangling searchers	9	concurrent calls to refresh might result in dangling searchers	9
507775	824	tozz	2011-04-02T17:38:52.000Z	[bug;;v0.16.0]	geo distance range facets might count documents several times for a range entry if the field is multi valued	19	curl recreation https://gist.github.com 6fe64a3dfb963f84cd7b issue the geo distance facet reports the number of the matching locations if a single document has two matching locations the facet count will be 2 instead of 1 only one document . an option to only count the number of matching documents is desired to fully implement it as a navigation facet note this also applies to range facet	64
203666	245	hh	2011-04-03T04:26:37.000Z	[]	create access key for username failing.. excon error	8	rvm use 1.9.2@fog --create using users codecafe .rvm gems ruby-1.9.2-p180 with gemset fog gem install fog gem list local gems builder 3.0.0 excon 0.6.0 fog 0.7.1 formatador 0.1.2 json 1.5.1 mime-types 1.16 net-ssh 2.1.3 nokogiri 1.4.4 rake 0.8.7 ruby-hmac 0.4.0 irb require fog new username myusername bucket name mybucket aws credentials aws access key id xxxcxcatattett aws secret access key loremipsumgratisforumquorum iam fog aws iam.new aws credentials user response iam.create user new username key response iam.create access key username new username excon errors socketerror wrong number of arguments 3 for 1 from users codecafe .rvm gems ruby-1.9.2-p180@fog gems fog-0.7.1 lib fog core connection.rb 16 in block in request from users codecafe .rvm gems ruby-1.9.2-p180@fog gems excon-0.6.0 lib excon response.rb 47 in parse from users codecafe .rvm gems ruby-1.9.2-p180@fog gems excon-0.6.0 lib excon connection.rb 140 in request from users codecafe .rvm gems ruby-1.9.2-p180@fog gems fog-0.7.1 lib fog core connection.rb 20 in request from users codecafe .rvm gems ruby-1.9.2-p180@fog gems fog-0.7.1 lib fog-aws iam.rb 106 in request from users codecafe .rvm gems ruby-1.9.2-p180@fog gems fog-0.7.1 lib fog-aws requests iam create access key.rb 31 in create access key from irb 12 from users codecafe .rvm rubies ruby-1.9.2-p180 bin irb 16 in main	199
507775	825	kimchy	2011-04-04T09:52:34.000Z	[breaking;;feature;;v0.16.0]	upgrade to lucene 3.1	4	upgrade to new lucene 3.1 version some changes in behavior on windows solaris 64bit systems automatically use mmapfs storage matching lucene behavior . analyzers changed behavior there will be a separate issue with code changes to indicate the changes	39
203666	246	thattommyhall	2011-04-04T10:14:58.000Z	[]	excon 0.6.0 breaks elb	4	require fog elb fog aws elb.new ruby-1.9.2-p136 005 elb.describe load balancers excon errors socketerror wrong number of arguments 3 for 1 from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems fog-0.7.1 lib fog core connection.rb 16 in block in request from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems excon-0.6.0 lib excon response.rb 47 in parse from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems excon-0.6.0 lib excon connection.rb 140 in request from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems fog-0.7.1 lib fog core connection.rb 20 in request from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems fog-0.7.1 lib fog-aws elb.rb 95 in request from users tomh .rvm gems ruby-1.9.2-p136@fogbroke gems fog-0.7.1 lib fog-aws requests elb describe load balancers.rb 45 in describe load balancers from irb 5 from users tomh .rvm rubies ruby-1.9.2-p136 bin irb 16 in main	129
507775	826	kimchy	2011-04-04T11:35:23.000Z	[breaking;;feature;;v0.16.0]	upgrade lucene 3.1 analyzers	4	all analyzers tokenizers and filters now support a version setting defaults to 3.1 . it can be set to 3.0 to use lucene 3.0 functionality russianlettertokenizer no longer required standard tokenizer supports it russianstemfilter can be replaced with snowball filter with name set to russian . chineseanalyzer no longer needed standardanalyzer supports it brazilianstemfilter replaced with snowball filter uax url email tokenizer added which is like standard tokenizer but also handles email and urls add reverse token filter snowball now also support armenian basque catalan add path hierarchy tokenizer and doc it	92
507775	828	tsuna	2011-04-04T16:56:51.000Z	[]	cross-domain cors ajax woes	4	hi i m trying to post a search request using a cross-domain ajax call in chrome it doesn t work it always gives me a javascript-level error back saying empty response from server 0 . in chrome s javascript console i see xmlhttprequest cannot load http://127.0.0.1 9200 droopy summary search request header field content-type is not allowed by access-control-allow-headers here s the output from tcpdump on port 9200 pre options droopy summary search http-1.1 host 127.0.0.1 9200 connection keep-alive referer http://127.0.0.1 8000 index.html srv 127.0.0.1 9200 access-control-request-method post origin http://127.0.0.1 8000 user-agent mozilla 5.0 macintosh intel mac os x 10 6 6 applewebkit 534.24 khtml like gecko chrome 11.0.696.3 safari 534.24 access-control-request-headers content-type accept accept-encoding gzip deflate sdch accept-language en-us en q 0.8 accept-charset iso-8859-1 utf-8 q 0.7 q 0.3 pre pre http-1.1 200 ok access-control-allow-origin access-control-max-age 1728000 access-control-allow-methods put delete access-control-allow-headers x-requested-with content-type text plain charset utf-8 content-length 0 pre i can see two problems 1 in my ajax-request i specify content-type application json and because of that chromes includes it in the pre-flight request header access-control-request-headers see http://www.w3.org tr cors search for that header name it s explained . elasticsearch should include content-type in the header access-control-allow-headers in its pre-flight response in addition to x-requested-with . 2 my request is a post request but elasticsearch seems to allow only put and delete as shown by its access-control-allow-methods header in the response thankfully i can easily work around this bug by not setting the content-type header in my request it seems that as of today the 2nd point above doesn t prevent chrome from sending the request but i don t think that s normal so i d recommend fixing it too in order to prevent future breakages once chrome becomes stricter about enforcing cors headers the only other browser i tested was firefox 3.6.15 and it didn t care about any of that	315
507775	829	kimchy	2011-04-04T18:28:20.000Z	[bug;;enhancement;;v0.16.0]	histogram facet improve value field case performance fix wrong total computation with multi valued fields by introducing total count	19	fix count to reflect the number of docs that matched and introduce total count which is the count of the values in total field they might be different in multi valued fields .	33
507775	830	kimchy	2011-04-04T20:48:24.000Z	[enhancement;;v0.16.0]	histogram facet add minmax stats when providing value field script	10	add minmax stats when providing value field script to histogram facet on top of total	15
507775	831	kimchy	2011-04-04T21:16:38.000Z	[bug;;enhancement;;v0.16.0]	date-histogram facet improve value field case performance fix wrong total computation with multi valued fields by introducing total count add minmax stats	22	improve value field case performance fix wrong total computation with multi valued fields by introducing total count add minmax stats	20
507775	832	kimchy	2011-04-04T21:42:17.000Z	[bug;;v0.16.0]	range facet fix wrong total computation with multi valued fields by introducing total count add minmax stats	17	range facet fix wrong total computation with multi valued fields by introducing total count add minmax stats	17
507775	833	kimchy	2011-04-04T21:52:35.000Z	[bug;;enhancement;;v0.16.0]	geo distance facet fix wrong total computation with multi valued fields by introducing total count add minmax stats	18	geo distance facet fix wrong total computation with multi valued fields by introducing total count add minmax stats	18
507775	834	kimchy	2011-04-05T10:52:41.000Z	[feature;;v0.16.0]	histogram facet add ability to define bounds from to to both improve performance and provide additional bound filtering	18	histogram facet add ability to define bounds from to to both improve performance and provide additional bound filtering thanks to the fact that we know the bounds we can create more optimized data-structures to aggregate the histogram entries	38
507775	835	aguereca	2011-04-05T21:59:26.000Z	[bug;;v0.16.0]	bug sort on a column of type short throws an exception	11	bug sort on a column of type short throws an exception exception is ioexception type not allowed class java.lang.short column in definied in the mapping file as status type short query is doing sort using sort status asc	38
507775	837	vhyza	2011-04-06T15:20:10.000Z	[bug;;v0.16.0]	percolator doesn t work correctly after index recreation	8	steps to reproduce 1 start es with clean datadirectory 2 run script https://gist.github.com a9338b766cc3cef2124b 3 restart es 4 run-script again on my computer mac snow leopard 1 started es build from master - last commit 35be46df71e5da1e840b678d8650fb012ae7305b with no datadirectory 2 response seems ok https://gist.github.com 50ca6553b2adcd09ff51 3 restart es 4 response is without matches from percolator https://gist.github.com fbaf397c8f820c6fe0d0 i tried it without step 3 restarting es too and result was exactly the same first script run was ok second was without matches	81
507775	838	kimchy	2011-04-06T19:12:04.000Z	[breaking;;enhancement;;v0.16.0]	get mapping api when asking for a mapping of a single index and single type don t wrap the mapping with the index name	24	this can create confusion for people trying to create mappings based on the response	14
203666	250	drbrain	2011-04-06T19:15:17.000Z	[]	fog specifies its excon dependency incorrectly	6	fog 0.6.0 depends on excon 0.5.5 excon 0.6.1 is not api compatible with fog 0.6.0 the dependency on excon for fog 0.6.0 should have been 0.5.5 the dependency on excon for fog 0.7.2 should be 0.6.1	36
203666	251	drbrain	2011-04-06T19:15:53.000Z	[]	fog sets rubygems version when it shouldn t	8		0
507775	839	jeroig	2011-04-07T12:50:57.000Z	[bug;;v0.16.0]	allow to search across indices and types even if some types do not-exists on some indices	16	hi i m a developer of escargot gem to use rails with elasticsearch i also apport some patch to rubberband elasticsearch for ruby . i have a problem using elasticsearch version 0.15.0 or later when i search in all indexes specifying any types throw a error in this case the case is as follow echo create indexs curl -xput http://localhost 9200 first tweet 1 -d user kimchy postdate 2009-11-15t14 12 12 message trying out elasticsearch curl -xput http://localhost 9200 first grillo 4 -d user kimchy postdate 2011-01-15t14 12 12 message elasticsearch curl -xput http://localhost 9200 first cote 3 -d user kimchy postdate 2011-01-15t14 12 12 message elasticsearch curl -xput http://localhost 9200 second cote 2 -d user kimchy postdate 2011-01-15t14 12 12 message elasticsearch curl -xput http://localhost 9200 third mencho 5 -d user kimchy postdate 2011-01-15t14 12 12 message elasticsearch curl -xput http://localhost 9200 third cote 6 -d user kimchy postdate 2011-01-15t14 12 12 message elasticsearch echo refresh all curl -xpost http://localhost 9200 refresh echo all indexes types grillo cote should be 4 or 2 echo in elasticsearch v-0.14.x return 4 with no errors in v-0.15.x return 2 with error in log curl -xget http://localhost 9200 all cote grillo count q kimchy echo delete all indexes curl -xdelete http://localhost 9200 first curl -xdelete http://localhost 9200 second curl -xdelete http://localhost 9200 third	220
507775	841	kimchy	2011-04-07T17:01:01.000Z	[enhancement;;v0.16.0]	network settings allow to explicitly set ipv4 and ipv4 when using networkinterface notation	13	for example en0 ipv4 and en0 ipv6 .	8
1295197	961	hdeshev	2011-04-08T07:55:47.000Z	[couchdb;;p:normal;;t:defect]	saving to couchdb doesn t fetch the document id property	10	saving a record as a couchdb document does a http-post request to the database and should read back the resulting json message that contains the id for the newly-generated document this used to be the case for lift 2.2 but broke for the 2.3 release the cause seems to be the databasehelpers.handleupdateresult method -- it expects a jobject containing jfields of jbool jstring values now the operator that is used returns the jbool jstring values directly which greatly simplifies the pattern-matching code here s the current broken code pre code def handleupdateresult original jobject json jvalue box jobject for obj - full json .asa jobject update result is not a jobject + json ok - full json ok .asa jfield .map .value .asa jbool .filter .value ok not present in reply or not true +json id - full json id .asa jfield .map .value .asa jstring .map .s id not present or not a string + json rev - full json rev .asa jfield .map .value .asa jstring .map .s rev not present or not a string + json yield updateidandrev original id rev code pre and here s the working version pre code def handleupdateresult original jobject json jvalue box jobject for obj - full json .asa jobject update result is not a jobject + json ok - full json ok .asa jbool .filter .value ok not present in reply or not true +json id - full json id .asa jstring .map .s id not present or not a string + json rev - full json rev .asa jstring .map .s rev not present or not a string + json yield updateidandrev original id rev code pre details and the whole story on how i stumbled upon this are available in url http://groups.google.com group liftweb browse thread thread 15d17b9348d4d88e# this mailing-list thread . url https://github.com hdeshev lift-couchdb-id here is a sample project demonstrating the problem and url https://github.com hdeshev lift-couchdb-id tree override-workaround here is a branch that works around it by overriding the json parsing mechanism in the same way as described above i hope this helps	348
507775	843	kimchy	2011-04-08T15:49:17.000Z	[breaking;;v0.16.0]	jmx don t use node id and name as part of the jmx registration use static org.elasticsearch	17	just so it will be simpler to monitor it was thinking of making each node a jmx aggregator of other nodes but its not going to happen anytime soon	29
1295197	962	hedefalk	2011-04-08T22:58:53.000Z	[p:normal;;proto;;t:enhancement]	make it possible to have two subclasses of protouser with separate login-state	12	see http://groups.google.com group liftweb browse thread thread 590a7939b2fe74bc 46ae46f81216c2d6#46ae46f81216c2d6	9
507775	845	kimchy	2011-04-10T18:57:41.000Z	[bug;;enhancement;;v0.16.0]	better handling of shard failures	5	better handling of failed shards either through a result of failed allocation reallocation or because of consistent failed operations	19
507775	846	kimchy	2011-04-10T20:11:42.000Z	[enhancement;;v0.16.0]	optimize api don t execute concurrent optimize operations shard level on the same node	14	optimize api don t execute concurrent optimize operations shard level on the same node in order to reduce the io overload of a single optimize request	26
1420493	26	dchelimsky	2011-04-10T22:43:37.000Z	[]	build is passing but graphic says it s failing	9	http://travis-ci.org # rspec rspec-core shows the last build is passing but http://travis-ci.org rspec rspec-core.png is the failing graphic	18
507775	848	kimchy	2011-04-11T18:09:16.000Z	[enhancement;;v0.16.0]	better handling when a shard hits oom	7	better handling when a shard hits oom will now cause that shard to fail and be reallocated and proper handling to lucene indexwriter in this case	26
1295197	965	indrajitr	2011-04-11T18:59:56.000Z	[p:normal]	ibm-db2 not supported	3	im trying to get lift to work with db2 for two days now but i still havent figured it out i use com.ibm.db2.jcc.db2driver and can connect to a database now user table is created but whenever i try to register a new user causing the app to write into the database i get an exception com.ibm.db2.jcc.c.sqlexception ibm db2 jcc 10271 10296 unrecognized jdbc-type 16 i use the following drivertype object db2drivertype extends drivertype db2 nt def binarycolumntype long varchar for bit data def booleancolumntype smallint def clobcolumntype long varchar def datetimecolumntype timestamp def datecolumntype date def timecolumntype time def integercolumntype int def integerindexcolumntype integer notnull generated by default as idenity def enumcolumntype int def longforeignkeycolumntype int def longindexcolumntype int notnull generated by default as identity def enumlistcolumntype int def longcolumntype int def doublecolumntype double override def brokenlimit boolean true override def pkdefinedbyindexcolumn true override def defaultschemaname box string full db2admin derek chen-becker wrote on the mailing-list this is the db2 jdbc driver not honoring a boolean value when using setobject you can see here that 16 is the value of java.sql.types.boolean http://download.oracle.com javase 6 docs api constant-values.html#java.sql.types.boolean and this ibm document states that db2 doesn t have direct support for boolean or byte types http://publib.boulder.ibm.com infocenter db2luw v9 index.jsp topic com.ibm.db2.udb.apdv.java.doc doc rjvjdata.htm this will require a small change to mapper code to get it working please open a ticket derek	231
1295197	966	drdozer	2011-04-11T23:52:25.000Z	[mapper;;p:normal;;t:defect]	closing all connections infinite-loop	4	consider class boot ... def boot ... if db.jndijdbcconnavailable db.defineconnectionmanager defaultconnectionidentifier dbvendor liftrules.unloadhooks.append dbvendor.closeallconnections ... when this code has run there is an unload hook registered if later the initialization of the database-connection fails then during shutdown we get an infinite printing of 20 31 37.775 shutdown info net.liftweb.mapper.protodbvendor - closing all connections this prevents the container from exiting	59
1295197	967	davewhittaker	2011-04-12T03:11:43.000Z	[p:normal;;record;;t:enhancement]	squeryl record support for crudify	5	an adapter needs to be added so that users can easily add crudify support to their squeryl record entities see http://groups.google.com group liftweb browse thread thread dff688b5a4b8380b 357a766a81990341 lnk gst q squeryl+crudify#357a766a81990341	32
507775	850	kimchy	2011-04-12T18:51:24.000Z	[bug;;v0.16.0]	river failure to reallocate river to another node on rivers node failure	12	when a node that a river is running on fails the river is not allocated to a different node	19
507775	853	kimchy	2011-04-13T13:10:26.000Z	[bug;;v0.16.0]	local gateway listed active shards on each node does apply index deletion	12	local gateway listed active shards on each node does apply index deletion	12
507775	854	kimchy	2011-04-13T23:12:52.000Z	[enhancement;;v0.16.0]	ec2 zen discovery automatically use the configured transport port to ping other nodes	13	ec2 zen discovery automatically use the configured transport port to ping other nodes	13
507775	855	kimchy	2011-04-13T23:27:33.000Z	[enhancement;;v0.16.0]	unicast discovery concurrently connect to nodes to improve cases where some listed nodes are not up	16	its better to concurrently connect to nodes so when some nodes are not up so the connection-timeout will not be aggregated based on the number of nodes that are not up	31
507775	856	clintongormley	2011-04-14T11:13:07.000Z	[feature;;v0.16.0]	querydsl geo distance range filter	5	geo distance range filter filtered query match all filter geo distance range from 200km to 400km pin.location lat 40 lon -70 supports the same point location parameter as the geo distance filter and also support the common parameters for range lt lte gt gte from to include upper and include lower .	52
507775	857	kimchy	2011-04-14T11:18:58.000Z	[enhancement;;v0.16.0]	querydsl allow to directly wrap a query with a constant score query	12	allow to write a query with a constant score query not just a filter	14
507775	858	kimchy	2011-04-14T11:52:22.000Z	[bug;;v0.16.0]	shard allocation closed indices are not properly taken into account when rebalancing	12	shard allocation closed indices are not properly taken into account when rebalancing those shards are counted to compute the average number of shards per node expected	26
507775	859	kimchy	2011-04-14T17:51:02.000Z	[bug;;v0.16.0]	allow to delete a closed index	6	allow to delete a closed index	6
1295197	971	drdozer	2011-04-15T02:10:58.000Z	[p:normal;;t:enhancement;;utils]	csssel composition with behaves unexpectedly	5	css selector transforms sometimes silently fail to do what i expected when joined with the operator but start behaving again if linked by andthen could the reasons for this be documented so that i know when to use one form and when to use the other perhaps there are common use patterns where this behaviour is both confusing and avoidable	60
1295197	975	drdozer	2011-04-16T02:36:20.000Z	[p:normal;;t:defect]	npe from shtml.ajaxtextelem when passed a field with null value	10	if shtml.ajaxtextelem is passed a settable that happens to have a null value then later on when the html is generated a npe is raised i ve pasted in below the email i originally sent about this the easy fix is trivial but i suspect there may be a more systematic issue with .get and nulls ----- hi i got a npe from lift i m building up a form and one of the inputs is constructed with .personcontactemail # shtml.ajaxtextelem p.contactemail now the contactemail field may be null if the person has not set their contact email if i go into the db and replace nulls with then the form builds without the npe so it looks like shtml.ajaxtextelem is buggy with null field values the implementation looks like this def ajaxtextelem settable settable type valuetype string attrs elemattr elem ajaxtext settable.get b string settable.set b noop attrs so it s the .get call that s injecting the null that later causes the crash i suppose to work around this .get needs to be wrapped in a null-check so that on null it returns the empty string . clearly from the design of mapped fields null is among the expected return values since the db can legitimately return null and in the absence of a .getoption or .getbox the null case must be handled explicitly in addition lift-mapper is putting null values into the db or letting them default to null when new fields are added to existing data so the nulls really can t be easily avoided should i open a ticket for now my kludge is to check the field before i build that bit of form and if it is null set it to . however this artificially makes objects dirty and pushes these empty strings down towards the db which isn t a good thing thanks matthew 12 57 50.874 202418621@qtp-884667566-41 error net.liftweb.http.liftrules anon 1 - exception being returned to browser when processing people matthew pocock message java.lang.nullpointerexception scala.xml.nodeseq.iterator nodeseq.scala 51 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.map traversablelike.scala 206 scala.xml.nodeseq.map nodeseq.scala 43 scala.xml.nodeseq.text nodeseq.scala 152 net.liftweb.util.selectormap.slurpattrs bindhelpers.scala 2278 net.liftweb.util.selectormap.net liftweb util selectormap treatelem bindhelpers.scala 2307 net.liftweb.util.selectormap anonfun net liftweb util selectormap run 1.apply bindhelpers.scala 2369 net.liftweb.util.selectormap anonfun net liftweb util selectormap run 1.apply bindhelpers.scala 2367 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.util.selectormap.net liftweb util selectormap treatelem bindhelpers.scala 2331 net.liftweb.util.selectormap anonfun net liftweb util selectormap run 1.apply bindhelpers.scala 2369 net.liftweb.util.selectormap anonfun net liftweb util selectormap run 1.apply bindhelpers.scala 2367 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.util.selectormap.apply bindhelpers.scala 2363 net.liftweb.util.cssbind class.apply bindhelpers.scala 2388 net.liftweb.util.cssbindimpl.apply bindhelpers.scala 2444 net.liftweb.util.cssbindimpl.apply bindhelpers.scala 2444 scala.function1 anonfun andthen 1.apply function1.scala 48 uk.co.turingatemyhamster.contented.snippet.people anonfun editcurrent 1.apply people.scala 40 uk.co.turingatemyhamster.contented.snippet.people anonfun editcurrent 1.apply people.scala 33 net.liftweb.common.full.map box.scala 478 uk.co.turingatemyhamster.contented.snippet.people.withperson people.scala 17 uk.co.turingatemyhamster.contented.snippet.people.editcurrent people.scala 33 sun.reflect.nativemethodaccessorimpl.invoke0 native method sun.reflect.nativemethodaccessorimpl.invoke nativemethodaccessorimpl.java 39 sun.reflect.delegatingmethodaccessorimpl.invoke delegatingmethodaccessorimpl.java 25 java.lang.reflect.method.invoke method.java 597 net.liftweb.util.classhelpers anonfun net liftweb util classhelpers invokemethod 2 anonfun apply 8.apply classhelpers.scala 318 net.liftweb.util.controlhelpers class.tryo controlhelpers.scala 46 net.liftweb.util.helpers .tryo helpers.scala 34 net.liftweb.util.controlhelpers class.tryo controlhelpers.scala 84 net.liftweb.util.helpers .tryo helpers.scala 34 net.liftweb.util.classhelpers anonfun net liftweb util classhelpers invokemethod 2.apply classhelpers.scala 318 net.liftweb.util.classhelpers anonfun net liftweb util classhelpers invokemethod 2.apply classhelpers.scala 318 scala.collection.iterator anon 19.next iterator.scala 369 scala.collection.iterator class.find iterator.scala 679 scala.collection.iterator anon 19.find iterator.scala 367 net.liftweb.util.classhelpers class.net liftweb util classhelpers invokemethod classhelpers.scala 319 net.liftweb.util.classhelpers class.invokemethod classhelpers.scala 238 net.liftweb.util.helpers .invokemethod helpers.scala 34 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88 anonfun apply 91.apply liftsession.scala 1571 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88 anonfun apply 91.apply liftsession.scala 1568 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1568 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1482 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1481 net.liftweb.common.full.map box.scala 478 net.liftweb.http.liftsession.net liftweb http liftsession processsnippet liftsession.scala 1481 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1678 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1666 net.liftweb.util.namedpf.apply namedpartialfunction.scala 36 net.liftweb.util.namedpf .apply namedpartialfunction.scala 82 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1767 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1766 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.withattrs s.scala 1997 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession.net liftweb http liftsession processordefer liftsession.scala 1751 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1763 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.indexedseqlike elements.foreach indexedseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1778 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.indexedseqlike elements.foreach indexedseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1778 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1766 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1766 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.withattrs s.scala 1997 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession.net liftweb http liftsession processordefer liftsession.scala 1751 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1763 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1778 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.builtin.snippet.withparam anonfun render 1 anonfun apply 2.apply withparam.scala 40 net.liftweb.builtin.snippet.withparam anonfun render 1 anonfun apply 2.apply withparam.scala 37 net.liftweb.common.full.map box.scala 478 net.liftweb.builtin.snippet.withparam anonfun render 1.apply withparam.scala 37 net.liftweb.builtin.snippet.withparam anonfun render 1.apply withparam.scala 36 net.liftweb.common.full.flatmap box.scala 480 net.liftweb.builtin.snippet.withparam .render withparam.scala 36 net.liftweb.builtin.snippet.withparam anonfun dispatch 1 anonfun apply 1.apply withparam.scala 31 net.liftweb.builtin.snippet.withparam anonfun dispatch 1 anonfun apply 1.apply withparam.scala 31 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1507 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1482 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1481 net.liftweb.common.full.map box.scala 478 net.liftweb.http.liftsession.net liftweb http liftsession processsnippet liftsession.scala 1481 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1678 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1666 net.liftweb.util.namedpf.apply namedpartialfunction.scala 36 net.liftweb.util.namedpf .apply namedpartialfunction.scala 82 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1767 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1766 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.withattrs s.scala 1997 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession.net liftweb http liftsession processordefer liftsession.scala 1751 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1763 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1778 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.linearseqlike anon 1.foreach linearseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.builtin.snippet.surround anonfun render 1 anonfun apply 2 anonfun apply 3.apply surround.scala 40 net.liftweb.builtin.snippet.surround anonfun render 1 anonfun apply 2 anonfun apply 3.apply surround.scala 39 net.liftweb.util.anyvartrait class.dowith anyvar.scala 233 net.liftweb.util.anyvar.dowith anyvar.scala 89 net.liftweb.builtin.snippet.surround anonfun render 1 anonfun apply 2.apply surround.scala 39 net.liftweb.builtin.snippet.surround anonfun render 1 anonfun apply 2.apply surround.scala 37 net.liftweb.common.full.map box.scala 478 net.liftweb.builtin.snippet.surround anonfun render 1.apply surround.scala 37 net.liftweb.builtin.snippet.surround anonfun render 1.apply surround.scala 36 net.liftweb.common.full.flatmap box.scala 480 net.liftweb.builtin.snippet.surround .render surround.scala 36 net.liftweb.builtin.snippet.surround anonfun dispatch 1 anonfun apply 1.apply surround.scala 31 net.liftweb.builtin.snippet.surround anonfun dispatch 1 anonfun apply 1.apply surround.scala 31 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1507 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86 anonfun apply 88.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.http.liftsession anonfun 27 anonfun apply 83 anonfun apply 86.apply liftsession.scala 1485 net.liftweb.common.emptybox.openor box.scala 561 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.liftsession anonfun 27 anonfun apply 83.apply liftsession.scala 1484 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1482 net.liftweb.http.liftsession anonfun 27.apply liftsession.scala 1481 net.liftweb.common.full.map box.scala 478 net.liftweb.http.liftsession.net liftweb http liftsession processsnippet liftsession.scala 1481 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1678 net.liftweb.http.liftsession anonfun defaultlifttagprocessing 1.apply liftsession.scala 1666 net.liftweb.util.namedpf.apply namedpartialfunction.scala 36 net.liftweb.util.namedpf .apply namedpartialfunction.scala 82 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1767 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96 anonfun apply 97.apply liftsession.scala 1766 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.withattrs s.scala 1997 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95 anonfun apply 96.apply liftsession.scala 1765 net.liftweb.http.s class.dosnippet s.scala 2207 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession anonfun processsurroundandinclude 1 anonfun apply 95.apply liftsession.scala 1764 net.liftweb.http.liftsession.net liftweb http liftsession processordefer liftsession.scala 1751 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1763 net.liftweb.http.liftsession anonfun processsurroundandinclude 1.apply liftsession.scala 1758 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.traversablelike anonfun flatmap 1.apply traversablelike.scala 227 scala.collection.iterator class.foreach iterator.scala 631 scala.collection.indexedseqlike elements.foreach indexedseqlike.scala 52 scala.collection.iterablelike class.foreach iterablelike.scala 79 scala.xml.nodeseq.foreach nodeseq.scala 43 scala.collection.traversablelike class.flatmap traversablelike.scala 227 scala.xml.nodeseq.flatmap nodeseq.scala 43 net.liftweb.http.liftsession.processsurroundandinclude liftsession.scala 1758 net.liftweb.http.liftsession anonfun processtemplate 1 anonfun apply 47 anonfun apply 48.apply liftsession.scala 986 net.liftweb.http.liftsession anonfun processtemplate 1 anonfun apply 47 anonfun apply 48.apply liftsession.scala 983 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.liftsession anonfun processtemplate 1 anonfun apply 47.apply liftsession.scala 983 net.liftweb.http.liftsession anonfun processtemplate 1 anonfun apply 47.apply liftsession.scala 982 net.liftweb.common.full.map box.scala 478 net.liftweb.http.liftsession anonfun processtemplate 1.apply liftsession.scala 981 net.liftweb.http.liftsession anonfun processtemplate 1.apply liftsession.scala 981 net.liftweb.util.anyvartrait class.dowith anyvar.scala 233 net.liftweb.util.anyvar.dowith anyvar.scala 89 net.liftweb.http.liftsession.processtemplate liftsession.scala 980 net.liftweb.http.liftsession anonfun 19 anonfun apply 49 anonfun apply 50 anonfun apply 53.apply liftsession.scala 1078 net.liftweb.http.liftsession anonfun 19 anonfun apply 49 anonfun apply 50 anonfun apply 53.apply liftsession.scala 1078 net.liftweb.common.emptybox.or box.scala 563 net.liftweb.http.liftsession anonfun 19 anonfun apply 49 anonfun apply 50.apply liftsession.scala 1077 net.liftweb.http.liftsession anonfun 19 anonfun apply 49 anonfun apply 50.apply liftsession.scala 1077 net.liftweb.util.stackablemaker class.dowith maker.scala 141 net.liftweb.http.factory factorymaker.dowith factory.scala 37 net.liftweb.util.stackablemaker class.dowith maker.scala 135 net.liftweb.http.factory factorymaker.dowith factory.scala 37 net.liftweb.http.liftsession anonfun 19 anonfun apply 49.apply liftsession.scala 1076 net.liftweb.http.liftsession anonfun 19 anonfun apply 49.apply liftsession.scala 1072 net.liftweb.http.liftsession.net liftweb http liftsession checkstatelessinsitemap liftsession.scala 1016 net.liftweb.http.liftsession anonfun 19.apply liftsession.scala 1072 net.liftweb.http.liftsession anonfun 19.apply liftsession.scala 1070 net.liftweb.common.emptybox.or box.scala 563 net.liftweb.http.liftsession.processrequest liftsession.scala 1070 net.liftweb.http.liftservlet.net liftweb http liftservlet dispatchstatefulrequest liftservlet.scala 396 net.liftweb.http.liftservlet anonfun dosession 1 1.apply liftservlet.scala 263 net.liftweb.http.liftservlet anonfun dosession 1 1.apply liftservlet.scala 263 net.liftweb.http.s class.net liftweb http s wrapquery s.scala 1357 net.liftweb.http.s anonfun net liftweb http s nest2innerinit 1 anonfun apply 34.apply s.scala 1505 net.liftweb.http.s class.net liftweb http s doaround s.scala 1286 net.liftweb.http.s anonfun net liftweb http s nest2innerinit 1.apply s.scala 1503 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.net liftweb http s nest2innerinit s.scala 1502 net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39 anonfun apply 40 anonfun apply 41.apply s.scala 1541 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun withreq 1.apply s.scala 1551 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.withreq s.scala 1550 net.liftweb.http.s .withreq s.scala 48 net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39 anonfun apply 40.apply s.scala 1540 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39.apply s.scala 1539 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38.apply s.scala 1538 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s innerinit 1.apply s.scala 1537 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.net liftweb http s innerinit s.scala 1536 net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46 anonfun apply 47 anonfun apply 48.apply s.scala 1574 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46 anonfun apply 47.apply s.scala 1572 net.liftweb.http.corerequestvarhandler class.apply vars.scala 538 net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46.apply s.scala 1571 net.liftweb.http.corerequestvarhandler class.apply vars.scala 538 net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45.apply s.scala 1570 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44.apply s.scala 1569 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s anonfun net liftweb http s init 1.apply s.scala 1568 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.s class.net liftweb http s init s.scala 1567 net.liftweb.http.s class.init s.scala 1171 net.liftweb.http.liftservlet.dosession 1 liftservlet.scala 262 net.liftweb.http.liftservlet.doservice liftservlet.scala 272 net.liftweb.http.liftservlet anonfun doit 1 1.apply liftservlet.scala 122 net.liftweb.http.liftservlet anonfun doit 1 1.apply liftservlet.scala 121 net.liftweb.util.timehelpers class.calctime timehelpers.scala 344 net.liftweb.util.helpers .calctime helpers.scala 34 net.liftweb.util.timehelpers class.logtime timehelpers.scala 363 net.liftweb.util.helpers .logtime helpers.scala 34 net.liftweb.http.liftservlet.doit 1 liftservlet.scala 121 net.liftweb.http.liftservlet.service liftservlet.scala 132 net.liftweb.http.provider.httpprovider anonfun service 2 anonfun apply mcv sp 1.apply httpprovider.scala 68 net.liftweb.http.provider.httpprovider anonfun service 2 anonfun apply mcv sp 1.apply httpprovider.scala 68 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.urlrewriter .dowith req.scala 1228 net.liftweb.http.provider.httpprovider anonfun service 2.apply httpprovider.scala 67 net.liftweb.http.provider.httpprovider anonfun service 2.apply httpprovider.scala 67 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.provider.httpprovider class.service httpprovider.scala 63 net.liftweb.http.liftfilter.service liftservlet.scala 722 net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1 anonfun apply mcv sp 1.apply servletfilterprovider.scala 62 net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1 anonfun apply mcv sp 1.apply servletfilterprovider.scala 62 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14 anonfun apply 15.apply vars.scala 544 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14.apply vars.scala 543 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13.apply vars.scala 542 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12.apply vars.scala 541 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler class.apply vars.scala 540 net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1.apply servletfilterprovider.scala 61 net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1.apply servletfilterprovider.scala 61 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14 anonfun apply 15.apply vars.scala 544 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14.apply vars.scala 543 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13.apply vars.scala 542 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler anonfun apply 12.apply vars.scala 541 net.liftweb.util.threadglobal.dowith threadglobal.scala 71 net.liftweb.http.corerequestvarhandler class.apply vars.scala 540 net.liftweb.http.provider.servlet.servletfilterprovider class.dofilter servletfilterprovider.scala 60 net.liftweb.http.liftfilter.dofilter liftservlet.scala 722 org.mortbay.jetty.servlet.servlethandler cachedchain.dofilter servlethandler.java 1157 org.mortbay.jetty.servlet.servlethandler.handle servlethandler.java 388 org.mortbay.jetty.security.securityhandler.handle securityhandler.java 216 org.mortbay.jetty.servlet.sessionhandler.handle sessionhandler.java 182 org.mortbay.jetty.handler.contexthandler.handle contexthandler.java 765 org.mortbay.jetty.webapp.webappcontext.handle webappcontext.java 440 org.mortbay.jetty.handler.contexthandlercollection.handle contexthandlercollection.java 230 org.mortbay.jetty.handler.handlercollection.handle handlercollection.java 114 org.mortbay.jetty.handler.handlerwrapper.handle handlerwrapper.java 152 org.mortbay.jetty.server.handle server.java 326 org.mortbay.jetty.httpconnection.handlerequest httpconnection.java 542 org.mortbay.jetty.httpconnection requesthandler.headercomplete httpconnection.java 926 org.mortbay.jetty.httpparser.parsenext httpparser.java 549 org.mortbay.jetty.httpparser.parseavailable httpparser.java 212 org.mortbay.jetty.httpconnection.handle httpconnection.java 404 org.mortbay.io.nio.selectchannelendpoint.run selectchannelendpoint.java 410 org.mortbay.thread.queuedthreadpool poolthread.run queuedthreadpool.java 582	2709
507775	862	kimchy	2011-04-16T14:26:01.000Z	[bug;;v0.16.0]	versioning better handling of deletes - time based eviction	9	evict deletes only after a specific time has passed and not on flush this creates better sync between a primary and a replica shard the setting is index.gc deletes and defaults to 60s .	34
507775	863	kimchy	2011-04-17T18:06:02.000Z	[enhancement;;v0.16.0]	mapping allow to set index to no for id and type	11	allow to not index both id and type . all operations will still work except for search based on those fields as they are no longer indexed .	28
1295197	978	indrajitr	2011-04-17T20:42:06.000Z	[p:normal]	add helpers to snapshot and pass objects in request parameters	10	accordingly to discussion url https://groups.google.com d topic liftweb vpkj9m0sqli discussion passing objects with requestvar via get-request dpp personally i d do this with requestvars rather than with sessionvars because that gives you scope over the variables they re good for the scope of a single request rather than for the entire session . so if you ve got a couple of requestvars you can do the following pre code object rv1 extends requestvar... object rv2 extends requestvar... def snapshot unit val v1 rv1.get val v2 rv2.get rv1.set v1 rv2.set v2 def buildcallbackurl baseurl string string s.fmapfunc snapshot key helpers.appendfunctourl baseurl key + code pre the snapshot method creates a function that will restore the requestvars to the state that they had when it was called the buildcallbackurl method takes a base-url built using whatever mechanism you choose and appends the restore function to it when that url is hit on the server the requestvars will be restored and away you go nafg neat code maybe it would be useful to have a generalization in the library 1 def snapshot rvs requestvar unit 2 def urlwithstate baseurl string state unit	189
1295197	979	redbeardtheninja	2011-04-19T04:31:41.000Z	[p:normal;;t:enhancement]	creating different menus with menu.builder	5	example of issue url https://groups.google.com d topic liftweb tsfyg30j-9u discussion lift mailing-list being able to easily discriminate menus when using the menu.builder snippet in order to create different menus which contain different groups of links	35
507775	864	clintongormley	2011-04-19T09:18:48.000Z	[bug;;v0.16.0]	weird error message on syntax-error	5	hiya when trying this request which i know is incorrect it returns a good error message to my client but logs a weird error message in the logs # tue apr 19 11 16 36 2011 protocol http server 192.168.5.103 9200 curl -xpost http://127.0.0.1 9200 aliases pretty 1 -d actions add foo bar # tue apr 19 11 16 36 2011 response # # status 500 # error elasticsearchillegalargumentexception alias action # add requires an index to be set # weird error in logs 2011-04-19 11 16 36 498 warn http.netty dweller-in-darkness caught exception while handling client http traffic closing connection java.lang.illegalstateexception cannot send more responses than requests at org.elasticsearch.common.netty.handler.codec.http.httpcontentencoder.writerequested httpcontentencoder.java 102 at org.elasticsearch.common.netty.channel.simplechannelhandler.handledownstream simplechannelhandler.java 266 at org.elasticsearch.common.netty.channel.defaultchannelpipeline.senddownstream defaultchannelpipeline.java 568 at org.elasticsearch.common.netty.channel.defaultchannelpipeline.senddownstream defaultchannelpipeline.java 563 at org.elasticsearch.common.netty.channel.channels.write channels.java 611 at org.elasticsearch.common.netty.channel.channels.write channels.java 578 at org.elasticsearch.common.netty.channel.abstractchannel.write abstractchannel.java 259 at org.elasticsearch.http.netty.nettyhttpchannel.sendresponse nettyhttpchannel.java 118 at org.elasticsearch.rest.action.admin.indices.alias.restindicesaliasesaction 1.onfailure restindicesaliasesaction.java 131 at org.elasticsearch.action.support.baseaction threadedactionlistener 2.run baseaction.java 95 at java.util.concurrent.threadpoolexecutor worker.runtask threadpoolexecutor.java 886 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 908 at java.lang.thread.run thread.java 662	165
507775	865	kimchy	2011-04-19T21:29:34.000Z	[feature;;v0.16.0]	querydsl add ids query and filter to fetch docs by ids do not require id field to be indexed	19	querydsl add ids query and filter to fetch docs by ids do not require id field to be indexed . this allows to not have the id field indexed but still be able to fetch docs by id it is also faster compared to terms filter query the query and filter format is ids type my type values 1 4 10	61
507775	866	kimchy	2011-04-19T22:30:58.000Z	[enhancement;;v0.16.0]	better support with type is marked as not indexed allowing to filter by type	14	better support with type is marked as not indexed allowing to filter by type	14
507775	868	kimchy	2011-04-19T23:48:23.000Z	[breaking;;feature;;v0.16.0]	mapping by default don t index id	7	in order to save memory usage per shard don t index id by default no functionality is lost unless executing explicit search queries against id field for example using term query filter . these can be replaced with the ids query filter which work without the need for id to be indexed and work even faster . to maintain backward compatibility assuming the id specific queries can t be translated no time to do it the index.mapping id.indexed setting should be set to true . note the above flag should not be the one to use if wishing to index the id field on a clean index instead the id mapping can have index set to not analyzed .	119
507775	869	kimchy	2011-04-20T01:46:27.000Z	[bug;;v0.16.0]	failure to recover a shard might cause loosing translog data especially with no replicas	14	failure to recover a shard might cause loosing translog data especially with no replicas	14
507775	871	kimchy	2011-04-20T23:04:41.000Z	[enhancement;;v0.16.0]	simplify filter cache eviction settings	5	add index.cache.filter.max size and index.cache.filter.expire on top of using the specific filter cache type based ones makes it simpler to configure regardless of the type used weak resident or soft though with how the cache works now soft there isn t a real reason to change the default soft type	50
507775	873	karmi	2011-04-21T08:11:07.000Z	[bug;;v0.16.0]	no highlight results when number of fragments set to 0	10	the highlight documentation http://www.elasticsearch.org guide reference api search highlighting.html says if the number of fragments value is set to 0 then no fragments are produced instead the whole content of the field is returned and of course it is highlighted however this does not work as stated when running this gist https://gist.github.com 931339 against current master no highlights are returned	60
507775	874	kimchy	2011-04-21T11:40:09.000Z	[enhancement;;v0.16.0]	update settings allow to dynamically set filter cache settings	9	allow to dynamically set index.cache.filter.max size and index.cache.filter.expire using the update settings api	13
507775	875	kimchy	2011-04-21T14:53:25.000Z	[bug;;v0.16.0]	search request intermittent failures with has child query filter	9	search request intermittent failures with has child query filter	9
1295197	983	davewhat	2011-04-22T10:20:43.000Z	[p:normal;;t:defect;;wiring]	ajaxtexts created within a wiringui do not work	8	if a wiringui.apply includes the instantiation of an shtml.ajaxtext object the resulting ajaxtext s call-back function is not registered in the function table the result is that ajax call-backs of the text element will not cause the function to execute when discussed on the mailing-list see link below dpp specifically said that this is because the postpagejavascript list is executed after the function table is loaded into the session rather than before . more information ----------------------- liftweb group discussion https://groups.google.com group liftweb browse thread thread a136b761470aa277 repro https://github.com davewhat wiringui-and-ajaxtext-trouble	90
507775	878	kimchy	2011-04-23T10:28:51.000Z	[bug;;v0.16.0]	unexpected failure to create a shard can lead to data-loss if it has no replicas	15	unexpected failure to create a shard can lead to data-loss if it has no replicas well now its expected	19
1295197	986	fhars	2011-04-24T06:34:07.000Z	[p:normal;;record]	fragile field introspection in metarecord	5	there seems to be some unfortunate interaction between the magic the compiler performs statically to get some types working on the jvm and the magic metarecord performs at runtime via reflection that results in metarecord reporting some fields twice if you do anything moderatly fancy with the types of your fields as discussed in http://groups.google.com group liftweb browse thread thread a221d485202db0fb	61
507775	879	clintongormley	2011-04-24T12:48:19.000Z	[]	intermittent indexmissingexception when auto-creating	4	hiya running 0.16.0 on 3 nodes and indexing a doc to a new index and type i sometimes get indexmissingexceptions # sun apr 24 14 44 22 2011 protocol http server 127.0.0.1 9202 curl -xput http://127.0.0.1 9200 es test 3 type 3 1 pretty 1 -d text foo # sun apr 24 14 44 22 2011 response # # status 404 # error indexmissingexception es test 3 missing #	69
1295197	987	indrajitr	2011-04-25T12:58:32.000Z	[p:normal]	exception in view should return 500 instead of 404	9	exceptions in a view are currently silent and respond-with a 404 http-status code if an exception occurs in a view a 500 http-status code should be returned and a stacktrace should be generated quote from david pollak in lift mailing-list thread 404 instead of 500 regarding this issue if there s an exception processing the view lift moves on and tries to find another way to generate the template i think you re right that lift should pass the exception up the exception-handling chain can you open a ticket http://ticket.liftweb.net you must be a watcher of the liftweb space on assembla to open tickets and assign it to me	109
507775	880	kimchy	2011-04-25T14:29:33.000Z	[enhancement;;v0.16.1;;v0.17.0]	small optimization to has child filter	6	small optimization to has child filter	6
507775	883	clintongormley	2011-04-26T14:33:01.000Z	[bug;;v0.16.1;;v0.17.0]	include in all not overridable in objects	7	according to http://www.elasticsearch.org guide reference mapping object-type.html include in all can be set on the object-type level when set it propagates down to all the inner mapping defined within the object that do no explicitly set it but this doesn t seem to work the toplevel include in all is overriding the value that is set lower down https://gist.github.com gists 942353 edit	62
507775	884	kimchy	2011-04-26T17:39:38.000Z	[enhancement;;v0.16.1;;v0.17.0]	querydsl allow to set boost on has child query	9		0
1295197	989	notnoop	2011-04-27T05:03:11.000Z	[p:normal;;t:defect]	forms should execute onsubmit callback last	6	shtml.onsubmitimpl called by onsubmit and submitbutton should create a new s.formgroup for the callback in analogous way to shtml.submit and shtml.button . relavent thread http://groups.google.com group liftweb browse thread thread 13dcfb3d5868810c .	32
1644196	7	stefankarpinski	2011-04-27T05:43:54.000Z	[]	load-path	1	currently we have a half-baked implicit load-path for .j files loaded via the builtin load function it should be possible to add a list of directories to look in for .j files the rule should probably be that names without in them are looked up via the load-path while names beginning with are considered to be absolute and names with anywhere else are relative to the current directory	68
1295197	990	davewhittaker	2011-04-27T06:22:04.000Z	[p:normal;;t:defect]	incorrect salt used in shtml.memoize	5	from this discussion https://groups.google.com d topic liftweb k14ypmlwnyy discussion i see what the issue is shtml.memoize is using the second stackframe as it s salt assuming that is the caller since shtml is a singleton object though there seems to be an extra frame involved the stack-trace looks like this java.lang.exception at net.liftweb.http.shtml class.memoize shtml.scala 267 at net.liftweb.http.shtml .memoize shtml.scala 38 at h2.common.ui.layout .menu layout.scala 54 i ll update it to use the following frame and submit on review-board	79
1295197	991	dpp	2011-04-27T08:56:03.000Z	[p:normal;;t:defect]	onsubmit and some other stuff doesn t respect formgroup	9	make sure onsubmit and other stuff respects formgroup	8
1295197	992	harryh	2011-04-27T11:36:39.000Z	[p:normal;;t:enhancement;;webkit]	add support for httponly cookies	5	see http://download.oracle.com javaee 6 api javax servlet http cookie.html#sethttponly boolean	10
1295197	993	leedm777	2011-04-27T14:31:54.000Z	[p:normal;;sitemap;;t:defect]	sitemap redirects not consistently redirecting	5	it looks like loc is being too eager about caching its params the following code should cause all requests to redirect to the login screen until the user logs in instead it redirects only the first page accessed any other url does not redirect that first page is stuck redirecting even after the user has logged in and it only prints redirecting to login on the very first login pre code def isloggedin user.loggedin liftrules.setsitemap new sitemap list case full req path if isloggedin path list user mgt login logger.debug redirecting to login loc.earlyresponse full redirectresponse user mgt login entries code pre if i use setsitemapfunc instead of setsitemap and set my run.mode to debug then i get the behavior i expect please see url http://groups.google.com group liftweb browse thread thread 095e1615a1e04fb9 9fc458ed2e85a31a this thread on the mailing-list	138
507775	888	kimchy	2011-04-28T13:16:17.000Z	[bug;;v0.16.1;;v0.17.0]	search api filter element should not be applied to global facets	11	search api filter element should not be applied to global facets	11
507775	889	kimchy	2011-04-28T14:19:50.000Z	[feature;;v0.16.1;;v0.17.0]	search optimize perf execution of global facets	7	optimize the execution of global facets and add specific global optimization for specific facets query filter .	17
1295197	995	pbrant	2011-04-28T21:48:39.000Z	[p:normal;;t:enhancement;;wizard]	can t have multiple ajax-enabled liftscreen snippets on one page	10	when multiple ajax-enabled liftscreen snippets are added to a singlepage they share the vars created in liftscreen this effectively means that only the first liftscreen snippet works and then only kind of . thread here http://groups.google.com group liftweb browse thread thread 5b3ba8ac388b4411 patch which is working fine for me here https://github.com pbrant framework commit 1d7e56718d397e643be689ee55692e10effb23e7	55
1644196	10	stefankarpinski	2011-05-03T18:05:52.000Z	[]	throw error if a bare string literal is invalid utf-8	10	see this thread http://groups.google.com group julia-math browse thread thread 31942b387ea416c3 . this changes the behavior for bare string-literals previously described in #4 to be the following - all bytes 0x80 asciistring - has bytes 0x80 and is valid utf-8 utf8string - invalid utf-8 throws an error the b ... string form see #11 will let you use string syntax with x and u to make byte arrays if you want to make a utf-8 string that contains invalid utf-8 you can do something this utf8string b xff xff	88
1644196	11	stefankarpinski	2011-05-03T18:09:27.000Z	[]	implement b ... bytearray literals	5	generate literal byte arrays wherein x and u are just shorthand for sequences of bytes	15
1644196	13	stefankarpinski	2011-05-04T16:10:12.000Z	[breaking]	implement immutable types	3	the conclusion of our last discussion http://groups.google.com group julia-math browse thread thread 7aab753b3a979b0b 305572a47351411e on immutability versus mutability was that it is largely a psychological distinction - when an object is identified by its value then it should be immutable integers floats complexes strings - when an object is a container whose identity can remain the same while its contents change then it should be mutable arrays linked-list nodes tree-nodes to declare that a new concrete type is immutable prefix its declaration with immutable immutable type complex t real number re t im t end alternately only the immutable keyword could be used immutable complex t real number re t im t end	113
1295197	1003	hedefalk	2011-05-08T09:21:55.000Z	[mapper;;p:normal;;t:enhancement]	make it possible to have menus of two subclasses of protouser	11	we need to add something to the names of the locs of subclasses of protouser to avoid clashes see https://groups.google.com d msg liftweb wqp5obl-dlw big-bko76s0j	25
1295197	1004	notnoop	2011-05-09T00:51:56.000Z	[p:high;;t:defect]	minified files aren t bundled in lift jars	8	currently lift framework jars are missing auto-generated resources like minified files for example lift-webkit.jar is missing jquery and lift minified files the issue is that sbt is misconfigured lift uses bnd sbt-plugin and liftproject extends bndpluginproperties which uses the main provided resource-files 1 rather the main output resource-file overriding bndincluderesource to include project.mainresourcesoutputpath.absolutepath in the superbuild project should fix the problem i have already opened a ticket in bnd4sbt requesting to include output resources by default 2 . the relavent group thread is http://groups.google.com group liftweb browse thread thread 373b6730d9d27138 . 1 https://github.com weiglewilczek bnd4sbt blob master src main scala properties.scala#l142 2 https://github.com weiglewilczek bnd4sbt issues 27	107
1644196	16	stefankarpinski	2011-05-09T06:17:32.000Z	[bug]	open file creates file	4	shouldn t this not create the file by default	9
1644196	18	stefankarpinski	2011-05-10T14:43:23.000Z	[bug]	2 3 parses as 2 3 instead of 2 . 3	11	enough said	2
8514	522	dhh	2011-05-11T19:48:35.000Z	[activerecord]	support for joins in activerecord relation#update all	7	class todo activerecord base default-scope where trashed false has-many comments as commentable end class todolist activerecord base default-scope where trashed false has-many todos has many comments through todos end todolist.comments.update all trashed true produces activerecord statementinvalid mysql2 error unknown column todos.trashed in where-clause update comments set trashed 1 where comments . trashed 0 and todos . trashed 0 and todos . todolist id 968316918 and comments . commentable type todo order by created at	74
1644196	22	viralbshah	2011-05-13T02:44:07.000Z	[bug]	change specificity rules for methods involving union types	8	method signatures should look into union types to find a more specific match the recent checkins in sparse.j result in a less specific version being called warning new definition + sparsearray2d t union array t n number is ambiguous with + tensor s n tensor t n . make sure + sparsearray2d s array t n is also defined warning new definition + sparsearray2d t union array t n number is ambiguous with + tensor t n number . make sure + sparsearray2d t number is also defined	88
8514	544	byrnejb	2011-05-13T14:52:39.000Z	[]	ar should handle timestamp values of infinity	7	ruby-1.8.7 and 1.9.2 understand the concept of infinity . irb ruby-1.8.7-p334 001 infinity 1.0 0 infinity ruby-1.8.7-p334 002 ninfinity -1.0 0 -infinity ruby-1.8.7-p334 003 further activerecord migration perhaps inadvertently supports the concept of infinity as recognized by the postgresql pg adapter def self.up create-table ca customs shipments do t t.datetime expected at default infinity null false results in -- column expected at -- alter-table ca customs shipments drop column expected at alter-table ca customs shipments add column expected at timestamp without timezone alter-table ca customs shipments alter-column expected at set storage plain alter-table ca customs shipments alter-column expected at set notnull alter-table ca customs shipments alter-column expected at setdefault infinity timestamp without timezone however when obtaining default values from its postgresql adapter postgresql.rb ar evidently treats infinity as nil this appears to be a defect caused by the ruby implementation of the date class the coercion of infinity to a date raises the following exceptions ruby-1.8.7-p334 016 x 1.0 0 infinity ruby-1.8.7-p334 017 x.to date nomethoderror undefined method to date for infinity float from irb 17 ruby-1.8.7-p334 018 y -1.0 0 -infinity ruby-1.8.7-p334 019 y.to date nomethoderror undefined method to date for -infinity float from irb 19 since these are distinctively related to infinity values it seems reasonable that one could trap them and override the exception by assigning 1.0 0 and -1.0 0 to the receiver instead the effect of this is consistent with current behaviour inside rails ruby-1.8.7-p334 003 x 19920101000000 .to date wed 01 jan 1992 ruby-1.8.7-p334 004 x.class date ruby-1.8.7-p334 005 x 1 false ruby-1.8.7-p334 006 x 1.0 0 true ruby-1.8.7-p334 007 x -1.0 0 false infinity and -infinity are acceptable values for timestamp columns in current versions of postgresql evidence suggests that the pg gem handles this it seems that the orm of rails also should support this in some fashion	306
1295197	1006	dpp	2011-05-13T23:00:54.000Z	[p:normal;;t:defect]	restcontinuation does not work on jetty7	6	restcontinuation.async does not work correctly in jetty7 see https://groups.google.com d topic liftweb j3ddlernonk discussion	14
8514	713	lighthouse-import	2011-05-16T03:52:24.000Z	[]	rake-test uncommitted raises undefined method map on string	8	imported from lighthouse original ticket at http://rails.lighthouseapp.com projects 8994 tickets 5397 created by sunny - 2011-02-19 09 28 20 utc running the task test uncommited raises an undefined method map for string using git rake --trace test uncommitted ... rake aborted undefined method map for # string 0x8f3c728 .gems railties-3.0.0.beta4 lib rails testunit testing.rake 77 in filelist ... my environment ruby -v ruby 1.9.2dev 2010-07-30 revision 28788 i686-linux rails -v rails 3.0.0.beta4	72
8514	796	lighthouse-import	2011-05-16T04:25:57.000Z	[]	has-many through associations are created with .create even if the parent is created with .create	15	imported from lighthouse original ticket at http://rails.lighthouseapp.com projects 8994 tickets 6217 created by greg hazel - 2010-12-23 11 10 27 utc when saving a model with a has-many through association using .create a validationexception can be raised when none is expected ruby class address activerecord base belongs to user def validate errors.add user this is a test end end class user activerecord base has-many addresses validate true has-many admins through addresses source user end # bug this raises a activerecord recordinvalid and i did not expect it to since i used .create user.create admins user.find 1 # ok this raises a activerecord recordinvalid and i expect it to since i used .create user.create addresses address.find 1 # ok this does not raise anything and i did not expect it to since i used .create user.create addresses address.find 1 i m using rails 2.3.10 but i believe the same applies to rails 3	152
8514	950	lighthouse-import	2011-05-16T04:48:23.000Z	[]	activerecord query changing when a dot period is in condition value	11	imported from lighthouse original ticket at http://rails.lighthouseapp.com projects 8994 tickets 6611 created by corey ward - 2011-03-24 03 00 22 utc i have created a barebones rails app demonstrating this bug https://github.com coreyward bug-demo i also have a question open on stackoverflow about this http://stackoverflow.com questions 5199235 activerecord-query-changing-when-a-dot-period-is-in-condition-value i don t have the skills knowledge to know a where this is coming from or b how to fix it any help would be very much appreciated --- this bug occurs when you have a child model one that belongs to another model with an order scope on it and you try to set a where condition so for the following models class person activerecord base has-many items end class item activerecord base belongs to person default-scope order ordinal end with the following calls person.includes items .where name john # or person.includes items .find by name john the items loaded are ordered by the ordinal on each item . if you introduce a period into the name though e.g john.smith the order scope is ignored to see this in action... git-clone git github.com coreyward bug-demo.git cd bug-demo rake db create db migrate db seed rails s and then fire up http://localhost 3000 http://localhost 3000 and see for yourself	207
8514	987	lighthouse-import	2011-05-16T05:31:30.000Z	[]	fix misspelling of lambda in test	6	imported from lighthouse original ticket at http://rails.lighthouseapp.com projects 8994 tickets 6659 created by ben orenstein - 2011-03-31 17 38 16 utc a test method misspelled local lambda as local lamdba . attached patch fixes this	35
8514	1058	lighthouse-import	2011-05-16T05:39:35.000Z	[]	activemodel xml-serialization patch	3	imported from lighthouse original ticket at http://rails.lighthouseapp.com projects 8994 tickets 6744 created by jimmiesh - 2011-04-26 01 22 27 utc when passing a type option to to xml the passed type is propagated to all string attributes in the activemodel for instance ruby class person include activemodel serializers xml extend activemodel naming attr-accessor attributes def initialize attributes @attributes attributes end end mp person.new foo string bar 1 puts mp.to xml type person produces xml xml version 1.0 encoding utf-8 person type person foo type person string foo bar type integer 1 bar person xml we ran into this because activerecord adds a type option when serializing has-many associations where the association class does not match the association name for instance ruby has-many cars classname automobile in this case we wanted the type attribute on each car in the xml but we don t want it on the car s string attributes . please consider the attached patch for inclusion in the next release of rails thanks	166
1723225	2	jeresig	2011-05-16T19:53:36.000Z	[]	add inheritance for problems questions	5	right now you can only bulk overwrite an entire problem description or question it would be nice if it was possible to just override individual elements perhaps a class to mark those elements as being able to be substituted maybe something like class sub .	45
1295197	1012	alexblack	2011-05-18T08:51:06.000Z	[p:normal;;t:defect]	stateinstatelessexception when accessing sessionvar in dispatch with 404 handler	9	discussion http://groups.google.com group liftweb browse thread thread fab7a2afe6c440c9 testcase https://github.com alexblack lift-stateinstatelessexception 1 i created a new lift project using the 2.8.1 and 2.3 info from here http://www.assembla.com spaces liftweb wiki using maven 2 i added this code to boot object session object flag extends sessionvar boolean true class boot def boot snip setcustomsettings snip def setcustomsettings liftrules.dispatch.prepend case if session.flag.is true empty catch 404s liftrules.urinotfound.prepend case notfoundastemplate parsepath 404 nil html false false accessing http://localhost 8080 gives a 500 error attempt to initialize a stateless-session within the context of a stateful session stateinstatelessexception if you comment out the liftrules.urinotfound code then you get a simple lift not found response when you should get the webapp . http-error 500 problem accessing . reason attempt to initialize a stateless-session within the context of a stateful session caused by net.liftweb.http.stateinstatelessexception attempt to initialize a stateless-session within the context of a stateful session at net.liftweb.http.s class.statelessinit s.scala 1178 at net.liftweb.http.req.notfoundviatemplate req.scala 1013 at net.liftweb.http.req.createnotfound req.scala 1028 at net.liftweb.http.liftrules class.notfoundorignore liftrules.scala 449 at net.liftweb.http.liftrules anon 1.notfoundorignore liftrules.scala 56 at net.liftweb.http.liftservlet anonfun liftedtree1 1 1.apply liftservlet.scala 331 at net.liftweb.http.liftservlet anonfun liftedtree1 1 1.apply liftservlet.scala 325 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s class.functionlifespan s.scala 1611 at net.liftweb.http.liftservlet.liftedtree1 1 liftservlet.scala 324 at net.liftweb.http.liftservlet.net liftweb http liftservlet dispatchstatefulrequest liftservlet.scala 311 at net.liftweb.http.liftservlet anonfun dosession 1 1.apply liftservlet.scala 263 at net.liftweb.http.liftservlet anonfun dosession 1 1.apply liftservlet.scala 263 at net.liftweb.http.s class.net liftweb http s wrapquery s.scala 1357 at net.liftweb.http.s anonfun net liftweb http s nest2innerinit 1 anonfun apply 34.apply s.scala 1505 at net.liftweb.http.s class.net liftweb http s doaround s.scala 1286 at net.liftweb.http.s anonfun net liftweb http s doaround 1.apply s.scala 1287 at net.liftweb.db.db anon 2 anonfun apply 12 anonfun recurseme 1 1.apply db.scala 227 at net.liftweb.db.db anon 2 anonfun apply 12 anonfun recurseme 1 1.apply db.scala 227 at net.liftweb.db.db anonfun use 1.apply db.scala 619 at net.liftweb.util.dynovar class.run threadglobal.scala 95 at net.liftweb.db.db class.use db.scala 616 at net.liftweb.db.db anon 1.use db.scala 38 at net.liftweb.db.db anon 2 anonfun apply 12.apply db.scala 229 at net.liftweb.util.dynovar class.run threadglobal.scala 95 at net.liftweb.db.db anon 2.apply db.scala 203 at net.liftweb.http.s class.net liftweb http s doaround s.scala 1287 at net.liftweb.http.s anonfun net liftweb http s nest2innerinit 1.apply s.scala 1503 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s class.net liftweb http s nest2innerinit s.scala 1502 at net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39 anonfun apply 40 anonfun apply 41.apply s.scala 1541 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun withreq 1.apply s.scala 1551 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s class.withreq s.scala 1550 at net.liftweb.http.s .withreq s.scala 48 at net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39 anonfun apply 40.apply s.scala 1540 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38 anonfun apply 39.apply s.scala 1539 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s innerinit 1 anonfun apply 38.apply s.scala 1538 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s innerinit 1.apply s.scala 1537 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s class.net liftweb http s innerinit s.scala 1536 at net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46 anonfun apply 47 anonfun apply 48.apply s.scala 1574 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46 anonfun apply 47.apply s.scala 1572 at net.liftweb.http.corerequestvarhandler class.apply vars.scala 538 at net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45 anonfun apply 46.apply s.scala 1571 at net.liftweb.http.corerequestvarhandler class.apply vars.scala 538 at net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44 anonfun apply 45.apply s.scala 1570 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s init 1 anonfun apply 44.apply s.scala 1569 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s anonfun net liftweb http s init 1.apply s.scala 1568 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.s class.net liftweb http s init s.scala 1567 at net.liftweb.http.s class.init s.scala 1171 at net.liftweb.http.liftservlet.dosession 1 liftservlet.scala 262 at net.liftweb.http.liftservlet.doservice liftservlet.scala 272 at net.liftweb.http.liftservlet anonfun doit 1 1.apply liftservlet.scala 122 at net.liftweb.http.liftservlet anonfun doit 1 1.apply liftservlet.scala 121 at net.liftweb.util.timehelpers class.calctime timehelpers.scala 344 at net.liftweb.util.helpers .calctime helpers.scala 34 at net.liftweb.util.timehelpers class.logtime timehelpers.scala 363 at net.liftweb.util.helpers .logtime helpers.scala 34 at net.liftweb.http.liftservlet.doit 1 liftservlet.scala 121 at net.liftweb.http.liftservlet.service liftservlet.scala 132 at net.liftweb.http.provider.httpprovider anonfun service 2 anonfun apply mcv sp 1.apply httpprovider.scala 68 at net.liftweb.http.provider.httpprovider anonfun service 2 anonfun apply mcv sp 1.apply httpprovider.scala 68 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.urlrewriter .dowith req.scala 1228 at net.liftweb.http.provider.httpprovider anonfun service 2.apply httpprovider.scala 67 at net.liftweb.http.provider.httpprovider anonfun service 2.apply httpprovider.scala 67 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.provider.httpprovider class.service httpprovider.scala 63 at net.liftweb.http.liftfilter.service liftservlet.scala 722 at net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1 anonfun apply mcv sp 1.apply servletfilterprovider.scala 62 at net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1 anonfun apply mcv sp 1.apply servletfilterprovider.scala 62 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14 anonfun apply 15.apply vars.scala 544 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14.apply vars.scala 543 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13.apply vars.scala 542 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12.apply vars.scala 541 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler class.apply vars.scala 540 at net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1.apply servletfilterprovider.scala 61 at net.liftweb.http.provider.servlet.servletfilterprovider anonfun dofilter 1.apply servletfilterprovider.scala 61 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14 anonfun apply 15.apply vars.scala 544 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13 anonfun apply 14.apply vars.scala 543 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12 anonfun apply 13.apply vars.scala 542 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler anonfun apply 12.apply vars.scala 541 at net.liftweb.util.threadglobal.dowith threadglobal.scala 71 at net.liftweb.http.corerequestvarhandler class.apply vars.scala 540 at net.liftweb.http.provider.servlet.servletfilterprovider class.dofilter servletfilterprovider.scala 60 at net.liftweb.http.liftfilter.dofilter liftservlet.scala 722 at org.mortbay.jetty.servlet.servlethandler cachedchain.dofilter servlethandler.java 1157 at org.mortbay.jetty.servlet.servlethandler.handle servlethandler.java 388 at org.mortbay.jetty.security.securityhandler.handle securityhandler.java 216 at org.mortbay.jetty.servlet.sessionhandler.handle sessionhandler.java 182 at org.mortbay.jetty.handler.contexthandler.handle contexthandler.java 765 at org.mortbay.jetty.webapp.webappcontext.handle webappcontext.java 440 at org.mortbay.jetty.handler.handlerwrapper.handle handlerwrapper.java 152 at org.mortbay.jetty.server.handle server.java 322 at org.mortbay.jetty.httpconnection.handlerequest httpconnection.java 542 at org.mortbay.jetty.httpconnection requesthandler.headercomplete httpconnection.java 926 at org.mortbay.jetty.httpparser.parsenext httpparser.java 549 at org.mortbay.jetty.httpparser.parseavailable httpparser.java 212 at org.mortbay.jetty.httpconnection.handle httpconnection.java 404 at org.mortbay.io.nio.selectchannelendpoint.run selectchannelendpoint.java 410 at org.mortbay.thread.queuedthreadpool poolthread.run queuedthreadpool.java 582	1017
8514	1168	senny	2011-05-20T14:47:10.000Z	[]	specify a custom name for activemodel name	7	in applications with a lot of namespaces and legacy-code it comes in very handy to overwrite the name which rails uses to generate routes etc it would be great if activemodel name would accept another string argument to specify the name which should be used this specified name then takes precedence over klass.name ruby class customerlocation activerecord base def self.model name activemodel name.new self nil location end end	68
1295197	1016	nafg	2011-05-20T15:17:55.000Z	[mapper;;p:normal;;t:defect]	manytomany.own should call primeobj on jointable fks	7	see https://groups.google.com d topic liftweb 6jds8ksr1wg discussion	7
1295197	1017	nafg	2011-05-20T15:24:38.000Z	[mapper;;p:normal;;t:defect]	manytomany requires the parent to be saved first	8	see https://groups.google.com d topic liftweb 6jds8ksr1wg discussion	7
1295197	1018	nafg	2011-05-20T15:32:30.000Z	[mapper;;p:normal;;t:defect]	manytomany and onetomany don t know about their fields until touched	11	see e.g https://groups.google.com d topic liftweb 1wizpei8c4o discussion -- if you load a onetomany from the database and call delete the mappedonetomany s children won t be deleted even if you mixed in cascade because objects are lazily initialized initialize mappedonetomany and mappedmanytomany when running reflection to discover mappedfields	49
1644196	23	jeffbezanson	2011-05-21T18:58:58.000Z	[build]	add a build-target to minimize diskspace	6	after building julia its directory uses around 300mb the vast majority of this space is intermediate files from the build-process that are not needed to run julia we should add a target like make compact that runs make clean in the subdirectories of external and removes our object-files all the llvm libraries can be removed from external root lib since they are statically linked	64
1295197	1019	andreak	2011-05-22T06:31:52.000Z	[p:normal;;t:enhancement;;webkit]	add seeother to statefulsnippet	4	as per discussion http://groups.google.com group liftweb browse thread thread 994d7ca28650f0b4 it would be nice if statefulsnippet had seeother analogous to redirectto def seeother where string s.seeother where registerthissnippet	28
1723225	34	marcia	2011-05-24T05:03:15.000Z	[]	math.js 242 -- lastcond is not defined	7	for example -- writing expressions 1.html	6
507775	964	iorih	2011-05-24T11:40:48.000Z	[enhancement;;v0.16.2;;v0.17.0]	querydsl query-string - expose queryparser#setautogeneratephrasequeries	5	from lucene 3.1 the default-value of autogeneratephrasequeries is change from true to false it changes the result of search we need a way to change it the auto-generate phrase queries parameter can be set to true in both query-string and field queries	42
8514	1289	xanview	2011-05-25T05:58:14.000Z	[]	sqlite3+devenv+rails-3.1rc1 leaks memory and craps out in seconds	8	steps to reproduce step 1 from 192.168.0.7 - running rails 3.1rc1 on a clean ubuntu-11.04 with ruby installed with rvm install 1.9.2 rails new blankapp cd blankapp rails g scaffold myapp myfield string rake db migrate rails s step 2 from 192.168.0.1 on the same network curl -d myfield test value -h content-type application json -h accept application json http://192.168.0.7 3000 myapps created at 2011-05-25t05 23 49z id 1 myfield test value updated at 2011-05-25t05 23 49z ... while true do curl http://192.168.0.7 3000 myapps 1 done ... step 3 from 192.168.0.7 - memory use climbs to around 350mb... rails craps out after as little as a few seconds of requests curl http://192.168.0.7 3000 myapps 1 doctype html html lang en head meta charset utf-8 title actioncontroller exception caught title style body background-color #fff color #333 body p ol ul td font-family helvetica verdana arial sans-serif font-size 13px line-height 18px pre background-color #eee padding 10px font-size 11px a color #000 a visited color #666 a hover color #fff background-color #000 style head body h1 loaderror in myappscontroller#show h1 pre no such file to load -- home xanview2 blankapp app controllers myapps controller.rb pre p code rails.root home xanview2 blankapp code p div id traces a href # onclick document.getelementbyid framework-trace .style.display none document.getelementbyid full-trace .style.display none document.getelementbyid application-trace .style.display block return false application trace a a href # onclick document.getelementbyid application-trace .style.display none document.getelementbyid full-trace .style.display none document.getelementbyid framework-trace .style.display block return false framework trace a a href # onclick document.getelementbyid application-trace .style.display none document.getelementbyid framework-trace .style.display none document.getelementbyid full-trace .style.display block return false full trace a div id application-trace style display block pre code code pre div div id framework-trace style display none pre code activesupport 3.1.0.rc1 lib activesupport dependencies.rb 452 in load activesupport 3.1.0.rc1 lib activesupport dependencies.rb 452 in block in load file activesupport 3.1.0.rc1 lib activesupport dependencies.rb 639 in new constants in activesupport 3.1.0.rc1 lib activesupport dependencies.rb 451 in load file activesupport 3.1.0.rc1 lib activesupport dependencies.rb 338 in require or load activesupport 3.1.0.rc1 lib activesupport dependencies.rb 489 in load missing constant activesupport 3.1.0.rc1 lib activesupport dependencies.rb 181 in block in const missing activesupport 3.1.0.rc1 lib activesupport dependencies.rb 179 in each activesupport 3.1.0.rc1 lib activesupport dependencies.rb 179 in const missing activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 124 in block in constantize activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 123 in each activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 123 in constantize activesupport 3.1.0.rc1 lib activesupport dependencies.rb 527 in block in initialize activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in yield activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in default activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 61 in controller reference actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 46 in controller actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 25 in call rack-mount 0.8.1 lib rack mount route set.rb 152 in block in call rack-mount 0.8.1 lib rack mount code generation.rb 93 in block in recognize rack-mount 0.8.1 lib rack mount code generation.rb 89 in optimized each rack-mount 0.8.1 lib rack mount code generation.rb 92 in recognize rack-mount 0.8.1 lib rack mount route set.rb 141 in call actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 531 in call actionpack 3.1.0.rc1 lib actiondispatch middleware best standards support.rb 17 in call rack 1.3.0 lib rack etag.rb 23 in call rack 1.3.0 lib rack conditionalget.rb 25 in call actionpack 3.1.0.rc1 lib actiondispatch middleware head.rb 14 in call actionpack 3.1.0.rc1 lib actiondispatch middleware params parser.rb 21 in call actionpack 3.1.0.rc1 lib actiondispatch middleware flash.rb 243 in call rack 1.3.0 lib rack session abstract id.rb 195 in context rack 1.3.0 lib rack session abstract id.rb 190 in call actionpack 3.1.0.rc1 lib actiondispatch middleware cookies.rb 321 in call activerecord 3.1.0.rc1 lib active-record-query cache.rb 54 in call activerecord 3.1.0.rc1 lib activerecord connection adapters abstract connection pool.rb 448 in call actionpack 3.1.0.rc1 lib actiondispatch middleware callbacks.rb 29 in block in call activesupport 3.1.0.rc1 lib activesupport callbacks.rb 392 in run call callbacks activesupport 3.1.0.rc1 lib activesupport callbacks.rb 81 in run callbacks actionpack 3.1.0.rc1 lib actiondispatch middleware callbacks.rb 28 in call actionpack 3.1.0.rc1 lib actiondispatch middleware reloader.rb 68 in call rack 1.3.0 lib rack sendfile.rb 102 in call actionpack 3.1.0.rc1 lib actiondispatch middleware remote ip.rb 48 in call actionpack 3.1.0.rc1 lib actiondispatch middleware show exceptions.rb 47 in call railties 3.1.0.rc1 lib rails rack logger.rb 13 in call rack 1.3.0 lib rack methodoverride.rb 24 in call rack 1.3.0 lib rack runtime.rb 17 in call activesupport 3.1.0.rc1 lib activesupport cache strategy local cache.rb 72 in call rack 1.3.0 lib rack lock.rb 34 in call actionpack 3.1.0.rc1 lib actiondispatch middleware static.rb 53 in call railties 3.1.0.rc1 lib rails rack content length.rb 16 in call railties 3.1.0.rc1 lib rails engine.rb 438 in call railties 3.1.0.rc1 lib rails rack log tailer.rb 14 in call rack 1.3.0 lib rack handler webrick.rb 59 in service usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick httpserver.rb 111 in service usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick httpserver.rb 70 in run usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick server.rb 183 in block in start thread code pre div div id full-trace style display none pre code activesupport 3.1.0.rc1 lib activesupport dependencies.rb 452 in load activesupport 3.1.0.rc1 lib activesupport dependencies.rb 452 in block in load file activesupport 3.1.0.rc1 lib activesupport dependencies.rb 639 in new constants in activesupport 3.1.0.rc1 lib activesupport dependencies.rb 451 in load file activesupport 3.1.0.rc1 lib activesupport dependencies.rb 338 in require or load activesupport 3.1.0.rc1 lib activesupport dependencies.rb 489 in load missing constant activesupport 3.1.0.rc1 lib activesupport dependencies.rb 181 in block in const missing activesupport 3.1.0.rc1 lib activesupport dependencies.rb 179 in each activesupport 3.1.0.rc1 lib activesupport dependencies.rb 179 in const missing activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 124 in block in constantize activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 123 in each activesupport 3.1.0.rc1 lib activesupport inflector methods.rb 123 in constantize activesupport 3.1.0.rc1 lib activesupport dependencies.rb 527 in block in initialize activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in yield activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in default activesupport 3.1.0.rc1 lib activesupport dependencies.rb 549 in actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 61 in controller reference actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 46 in controller actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 25 in call rack-mount 0.8.1 lib rack mount route set.rb 152 in block in call rack-mount 0.8.1 lib rack mount code generation.rb 93 in block in recognize rack-mount 0.8.1 lib rack mount code generation.rb 89 in optimized each rack-mount 0.8.1 lib rack mount code generation.rb 92 in recognize rack-mount 0.8.1 lib rack mount route set.rb 141 in call actionpack 3.1.0.rc1 lib actiondispatch routing route set.rb 531 in call actionpack 3.1.0.rc1 lib actiondispatch middleware best standards support.rb 17 in call rack 1.3.0 lib rack etag.rb 23 in call rack 1.3.0 lib rack conditionalget.rb 25 in call actionpack 3.1.0.rc1 lib actiondispatch middleware head.rb 14 in call actionpack 3.1.0.rc1 lib actiondispatch middleware params parser.rb 21 in call actionpack 3.1.0.rc1 lib actiondispatch middleware flash.rb 243 in call rack 1.3.0 lib rack session abstract id.rb 195 in context rack 1.3.0 lib rack session abstract id.rb 190 in call actionpack 3.1.0.rc1 lib actiondispatch middleware cookies.rb 321 in call activerecord 3.1.0.rc1 lib active-record-query cache.rb 54 in call activerecord 3.1.0.rc1 lib activerecord connection adapters abstract connection pool.rb 448 in call actionpack 3.1.0.rc1 lib actiondispatch middleware callbacks.rb 29 in block in call activesupport 3.1.0.rc1 lib activesupport callbacks.rb 392 in run call callbacks activesupport 3.1.0.rc1 lib activesupport callbacks.rb 81 in run callbacks actionpack 3.1.0.rc1 lib actiondispatch middleware callbacks.rb 28 in call actionpack 3.1.0.rc1 lib actiondispatch middleware reloader.rb 68 in call rack 1.3.0 lib rack sendfile.rb 102 in call actionpack 3.1.0.rc1 lib actiondispatch middleware remote ip.rb 48 in call actionpack 3.1.0.rc1 lib actiondispatch middleware show exceptions.rb 47 in call railties 3.1.0.rc1 lib rails rack logger.rb 13 in call rack 1.3.0 lib rack methodoverride.rb 24 in call rack 1.3.0 lib rack runtime.rb 17 in call activesupport 3.1.0.rc1 lib activesupport cache strategy local cache.rb 72 in call rack 1.3.0 lib rack lock.rb 34 in call actionpack 3.1.0.rc1 lib actiondispatch middleware static.rb 53 in call railties 3.1.0.rc1 lib rails rack content length.rb 16 in call railties 3.1.0.rc1 lib rails engine.rb 438 in call railties 3.1.0.rc1 lib rails rack log tailer.rb 14 in call rack 1.3.0 lib rack handler webrick.rb 59 in service usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick httpserver.rb 111 in service usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick httpserver.rb 70 in run usr local rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 webrick server.rb 183 in block in start thread code pre div div h2 style margin-top 30px request h2 p b parameters b pre quot id quot gt quot 1 quot pre p p a href # onclick document.getelementbyid session dump .style.display block return false show session dump a p div id session dump style display none pre pre div p a href # onclick document.getelementbyid env dump .style.display block return false show env dump a p div id env dump style display none pre gateway interface quot cgi 1.1 quot http accept quot quot remote addr quot 192.168.0.7 quot remote-host quot 192.168.0.7 quot server-name quot 192.168.0.7 quot server protocol quot http-1.1 quot pre div h2 style margin-top 30px response h2 p b headers b pre none pre p body html any ideas	1527
1295197	1021	nafg	2011-05-25T07:27:40.000Z	[mapper;;p:normal;;t:enhancement]	fold longmappedmapper features into mappedforeignkey	5	see https://groups.google.com d topic liftweb jfppq3ewlu0 discussion	7
8514	1339	krzkrzkrz	2011-05-26T14:39:04.000Z	[]	resque.enqueue failing on second run	5	its better if i provide the link to the problem description instead link contains error message and config-files i suspect this may be an issue with activerecord-3.1.0.rc1 since the error described in stackoverflow link is bringing it up had no problems running this exactly the same way in rails 3.0.3 http://stackoverflow.com questions 6137570 resque-enqueue-failing-on-second-run in summary in console i do resque.enqueue encodesong song.find 20 .id song.find 20 .unencoded url everything works so far resque-web reports no failed jobs and i get the two puts from module encodesong however running resque.enqueue encodesong song.find 20 .id song.find 20 .unencoded url a second time will return the following error in resque-web described in stackoverflow link . to make the error go away i would have to close the process thats running queue rake environment resque work and rerun it in the console window but the problem comes back after trying to resque.enqueue after the first time	153
8514	1360	gbh	2011-05-27T18:41:16.000Z	[activerecord;;regression]	double save with record.association.create in rails 3.1.0.rc1	7	here s a fun one i found this morning took about 4 hours to pinpoint this sucker this problem exists in both rc1 and the master branch class foo activerecord base has-many bars end class bar activerecord base belongs to foo before-save hi after save bye def hi p hi # self.id end def bye p bye # self.id end end here s little test to run class bartest activesupport testcase def setup @foo foo.create end def test direct create bar.create end def test save bar @foo.bars.new bar.save end def test create via association @foo.bars.create end def test create via association gone bad @foo.bars.create end end few sanity checks but the meat of the problem is at the last two when you run the test create via association this is the debug output hi bye 980190963 that s expected next test should have exactly the same output but hi bye 980190963 hi 980190963 bye 980190963 for some reason create will trigger save twice but only via association any thoughts how this is happening	173
1295197	1024	indrajitr	2011-05-28T00:17:47.000Z	[p:normal]	tweaks to javascript responses with restheloper	6		0
1295197	1025	channingwalton	2011-05-28T10:24:05.000Z	[p:normal;;t:enhancement;;webkit]	multiple style attributes for menus	5	i am using jquery ui which provides many styles you can apply to elements for my menu i would like to set the style for the elements to be something like this class fg-button ui-state-default fg-button-icon-solo ui-corner-all ui-state-active how do i do that with the menu defined like this span class lift menu.builder span -- on the group david replied i don t think it s possible it s looking like there s no way to get the attribute namespaces with the designer friendly snippet invocation please open a ticket and assign it to me for 2.4-m2 and reference this thread	101
8514	1374	dnagir	2011-05-28T11:56:19.000Z	[activesupport]	incompatible character encodings utf-8 and ascii-8bit	6	when installing gem install rails --pre i am getting the error when generating rdoc error while generating documentation for activesupport-3.1.0.rc1 ... message incompatible character encodings utf-8 and ascii-8bit ... rdoc args --op home dima .rvm gems ruby-1.9.2-p180@rc1 doc activesupport-3.1.0.rc1 rdoc lib --title activesupport-3.1.0.rc1 documentation --quiet full log is at https://gist.github.com 996813	51
1644196	26	stefankarpinski	2011-05-29T20:04:34.000Z	[]	trap ctrl-c in the repl	5	ctrl-c currently kills the repl which is very annoying it should abort the current computation as quickly as possible	19
1295197	1026	nafg	2011-05-30T06:40:25.000Z	[mapper;;p:normal;;t:enhancement]	make mappedstring.apply null not require a type-annotation	7	currently mappedstring still has the deprecated apply box string which means that apply null is ambiguous you have to write apply null string . by moving apply box string into a supertrait and apply string in mappedstring directly apply null will work	42
1295197	1027	nafg	2011-05-30T07:04:59.000Z	[mapper;;p:critical;;t:defect]	manytomany should not use fieldfinder yet because it loads contents eagerly	11	revert the change to manytomany.scala with #1018 current behavior can cause an infinite-loop besides unnecessary memory usage .	18
8514	1423	gucki	2011-05-31T12:19:48.000Z	[]	exceptions are ignored when creating records through associations	8	to reproduce create a new rails project 3.1.rc1 and the following two models rails g model ... class account activerecord base has-many dossiers accepts nested-attributes for dossiers end class dossier activerecord base belongs to account validates name invalid true end run the migrations then invoke the rails-console and issue the following commands a account.new d a.dossiers.build a.save this should fail as there s no validator called invalidvalidator but it saves the record without any warnings d dossier.new this fails as expected with argumenterror unknown validator invalidvalidator	86
1295197	1028	davewhittaker	2011-06-01T04:00:29.000Z	[p:normal;;record;;t:defect]	squeryl record does not support squeryl s optimistic trait	9	see this thread https://groups.google.com d topic liftweb npjlo63oqe discussion	9
1295197	1029	bhazer	2011-06-01T10:51:50.000Z	[t:enhancement;;utils]	mailer addresses should support optional personal name	7	can you add an optional personal name to the constructors of all all mailer address types it should then be passed as the 2nd parameter to the javax.mail.internet.internetaddress constructor during the implicit-conversion thanks https://groups.google.com d topic liftweb 1dv1dd7uwae discussion	39
1390248	105	thatch45	2011-06-01T22:36:32.000Z	[documentation]	document zeromq authentication	3	need to create an abstract on how this works and work with pieter on making the formal spec	18
1644196	31	viralbshah	2011-06-03T10:32:57.000Z	[build;;up for grabs]	provide a way to load system blas	7	mac already provides a libblas and liblapack at the very least we want the ability to use the libblas on the mac basically a flexible framework is required to load blas and lapack	33
8514	1467	radar	2011-06-03T11:17:36.000Z	[]	double assignment of attributes on a collection association occurs	9	greetings i ll try to keep this short and sweet because once you see it it s obvious the build record method in activerecord lib activerecord associations collection association.rb is currently defined like this def build record attributes options record reflection.build association attributes options record.assign attributes create scope.except record.changed without protection true record.assign attributes attributes options record end this method is causing the attributes to be loaded twice once when build association is called and again when assign attributes is called in my engine http://github.com radar forem this causes topics that has-many posts that are also nested-attributes to have two posts when they should only have one by commenting out removing the assign attributes line it does not do a double assignment of attributes you can run the tests on forem by running bundle-install and then bundle exec rspec spec integration topics spec.rb 35 . thanks	146
8514	1471	gbh	2011-06-03T15:48:33.000Z	[activerecord;;regression]	rails3.1.0.rc1 attributes method explodes when assigning nil parent object but only if counter-cache is enabled breaks acts-as-tree	17	here s a simple model you normally have when dealing with tree structures class foo activerecord base belongs to parent classname foo counter cache children count has-many children class name foo foreign key parent id end and here s the test class footest activesupport testcase def test this works foo foo.create foo.attributes parent id nil end def test this blows up foo foo.create foo.attributes parent nil end end seems that assigning a nil object triggers counter-cache refresh on that nil no such problem when assigning a foreign key i didn t see a filed issue for this which is rather odd as this is pretty common functionality broken in 3.1.0.rc1 and master branch	113
1644196	32	viralbshah	2011-06-04T04:44:42.000Z	[speculative]	framework for symbolic optimizations	4	we need a framework to express certain mathematical optimizations in julia itself these may be expressed as rules that are run after types have been inferred examples are 1 a b a b can be computed without computing the transpose 2 a - b + c . d can be computed without temporaries 3 a m n p q + b a m n p q b avoid computing the subsref this may require implementation of views	77
8514	1489	rhulse	2011-06-05T06:43:18.000Z	[]	helpers dont respect config.assets.prefix	4	in rc1 if you do this testapp application.config.assets.prefix something the helpers still output assets whatever instead of something whatever the content is correctly available at something whatever i have an app that already uses assets for paperclip and a bunch of other stuff	43
1295197	1030	pcetsogtoo	2011-06-05T11:42:06.000Z	[p:normal;;t:enhancement;;utils]	css selector transforms allow #foo attribte-	6	with #foo attribute+ selector we are able to append values to an attribute just like that with #foo attribute- remove value from an attribute example 1 html span class foo andother lift code .foo class- # andother result span class foo 2 html span id myelem class foo lift code #myelem class- # foo result span id myelem 3 html span id myelem class foo lift code #myelem class- # nonexistedclass result span id myelem class foo thanks so much	80
8514	1524	fabrizioq	2011-06-07T14:59:44.000Z	[]	has-one with polymorphic association not setting type in rails 3.1.0	10	given ruby class picture activerecord base belongs to imageable polymorphic true end class employee activerecord base has-one picture as imageable end then ruby picture picture.new picture.name my picture picture.save employee employee.new employee.picture picture employee.save employee.picture.imageable type up to rails.3.0.8.rc2 ruby employee however in rails3.1.0 edge today june 7 ruby nil is this the intended behavior perhaps i m missing something... please double-check	62
1295197	1032	leedm777	2011-06-08T08:55:04.000Z	[p:normal;;wizard]	liftscreen.field isn t honoring formparam and there s no simple generic way to add params to mappedfield	17	from url http://groups.google.com group liftweb browse thread thread 6c1a7936a15d259 ml discussion okay... it looks like liftscreen.field isn t honoring formparam and there s no simple generic way to add params to mappedfield please open a ticket http://ticket.liftweb.net you must be a watcher of the liftweb space on assembla to open a ticket referencing this thread and assign the ticket to me for 2.4-m2 i ll fix field and add a mechanism to mappedfield and record field for adding attributes to the form elements	83
8514	1592	pwim	2011-06-09T02:55:05.000Z	[]	magic comment should be included when dumping db schema	9	i have a table that includes a utf-8 default-value for a column activerecord schema.define version 20110609012941 do create-table invoices force true do t t.string recipient title default end end because the dumped schema does not include an encoding magic comment this creates an error it should have a magic comment indicating the encoding following from the db encoding	58
1295197	1034	indrajitr	2011-06-09T03:56:11.000Z	[p:normal;;t:defect;;wizard]	please fix liftscreen.field and mappedfield for formparam	7	liftscreen.field is not honoring formparam however liftscreen.password and others are . please fix this for 2.4-m2 also please add a mechanism to mappedfield and record field for adding attributes to the form elements more information on the bug can be found at this thread http://groups.google.com group liftweb browse thread thread 06c1a7936a15d259#	51
8514	1597	helpfulcodes	2011-06-09T09:35:42.000Z	[]	cannot modify safebuffer in place	5	i become the error mesage cannot modify safebuffer in place with the function number-with-delimiter and or number with precision number-with-delimiter number with precision artikel.preis anzahl # artikel.id precision 2 delimiter . separator i have the problem with rails-3.1 rc3 and the master	42
1295197	1036	terjesb	2011-06-10T08:18:43.000Z	[p:normal]	jetty jndi issue with liftactor s scheduler	7	ref http://groups.google.com group liftweb browse thread thread 0e8ea02486ae37b4 tomcat fix in ticket 1001 causes jetty jndi issues for liftactor s scheduler jetty 6.1.24-6 on ubuntu-11.04 java 1.6.0 22 mysql driver configured via jndi and defaultconnectionidentifier.jndiname on jun 7 8 52 pm david pollak feeder.of.the.be...@gmail.com wrote can you put together a reproducible example i d like to see what the core issue is sure please check https://github.com terjesb lift-actor-classpath let it run with jetty-run this works for 2.3 but fails after a few seconds with 2.4-m1 if i comment d setcontextclassloader null in core actor src main scala net liftweb actor lapinger.scala it also works against a local 2.4-snapshot okay... looks like the jndi code is looking to figure out its context via the thread s contextclasspath and when it s null bad things tm happen	135
1295197	1037	shadowfiend	2011-06-10T09:10:22.000Z	[p:normal]	statelessness is broken in 2.4-m1	5	more info at https://groups.google.com d msg liftweb 5e0mjhxafig b1dtlrqh5lcj the most immediate symptom for us was that rendering a template in a stateless flow throws a stateinstateless exception	28
1295197	1038	jeppenejsum	2011-06-10T20:19:31.000Z	[mapper;;p:normal;;t:defect]	schemifier fails if performwrite false and table does not exist	10		0
507775	1022	kimchy	2011-06-12T09:00:57.000Z	[feature;;v0.17.0]	indices exists api	3	add an indices exists api the rest endpoint answered head request and return 200 if all indices exists or 404 if its not found for example curl -xhead localhost 9200 test	31
8514	1663	igel	2011-06-12T11:55:03.000Z	[actionpack;;regression]	rails 3.0.9.rc3 regression url-for fails with html-safe unicode params	9	the following code raises an exception in rails v3.0.8 v3.0.9.rc3 3-0-stable and v3.1.0.rc4 but not in v3.0.7 i m using ruby 1.9.2-p180 don t know about other rubies link to g nter search person path name g nter .html safe # raises exception link to g nter search person path name guenter .html safe # works fine link to g nter search person path name g nter # works fine the exception is undefined method each byte for nil nilclass activesupport 3.0.9.rc3 lib activesupport whiny nil.rb 48 in method-missing home igel .rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 uri common.rb 222 in block in escape activesupport 3.0.9.rc3 lib activesupport core ext string output safety.rb 119 in gsub activesupport 3.0.9.rc3 lib activesupport core ext string output safety.rb 119 in gsub home igel .rvm rubies ruby-1.9.2-p180 lib ruby-1.9.1 uri common.rb 219 in escape rack-mount 0.6.14 lib rack mount utils.rb 72 in escape uri	149
8514	1673	krzkrzkrz	2011-06-13T06:08:56.000Z	[]	scoped mass-assignment and accepts nested-attributes for in rails-3.1 rc4 not working	11	using rails-3.1 rc4 my user model has the following has-many emails dependent destroy accepts nested-attributes for emails my email model has the following belongs to user attr-accessible email email-confirmation as admin in rails-console user.first.update attributes artist name foo emails attributes 0 email foo@blah.com email-confirmation foo@foo.com as admin i get warning can t mass-assign protected attributes email email-confirmation in my email model if i remove as admin . everything works... should i be assigning some kind of scope to accepts nested-attributes for anyone know how this can be fixed	88
8514	1682	jgelo	2011-06-13T20:32:26.000Z	[]	rails-3.1 rc4 default-scope and count	5	i ve run into an issue in rails-3.1 rc4 where the count query is failing because of a default-scope the scope has an include and a condition on the included association but count is dropping the include this had previously worked in rails 3.1 here s an example - ruby class fund activerecord base has-many campaigns default scope where campaigns.inactive false .order funds.name .includes campaigns end class campaign activerecord base belongs to fund end loading development-environment rails 3.1.0.rc4 ruby-1.9.2-p180 001 fund.count 0.1ms select count from funds where campaigns.inactive f sqlite3 sqlexception no such column campaigns.inactive select count from funds where campaigns.inactive f activerecord statementinvalid sqlite3 sqlexception no such column campaigns.inactive select count from funds where campaigns.inactive f loading development-environment rails 3.0.8 ruby-1.9.2-p180 006 fund.count 1 sql 0.2ms select count distinct funds . id from funds left outer-join campaigns on campaigns . fund id funds . id where campaigns.inactive f	149
8514	1697	titanous	2011-06-14T16:20:17.000Z	[]	activerecord querymethods#reverse sql order mangles functions	6	for example test.order coalesce updated at created at desc .last will generate the malformed sql select tests . from tests order by coalesce updated at desc created at asc limit 1 . full example case https://gist.github.com 1025033 this is caused by the naive split on commas at https://github.com rails rails blob master activerecord lib activerecord-relation query methods.rb#l308	57
1295197	1048	davewhittaker	2011-06-18T03:15:17.000Z	[p:normal;;record;;t:defect]	datetimefield cannot be used in a custom squeryl function	9	see http://groups.google.com group liftweb browse thread thread b8442adcfb8ee0c	8
1295197	1049	dpp	2011-06-18T10:42:48.000Z	[p:normal;;t:defect;;webkit]	connection starvation on chrome	4	there is a connection starvation issue with chrome with 6 connections and lots of ajax see https://groups.google.com forum # topic liftweb opzem7gwoj0	22
507775	1051	darkhelmet	2011-06-21T03:24:00.000Z	[feature;;v0.17.0]	allow to disable automatic date detection	6	it will decide some things are dates then blow up when they aren t resulting in things not getting indexed broken off of #604 the mapping setting should be placed on the root object mapping and called date detection . set it to false to disable it for example my type date detection false	54
8514	1842	pwim	2011-06-24T02:47:02.000Z	[]	after initialize no longer has access to associations	8	the following code works under rails 3.0 but is broken under 3.1 class invoice activerecord base belongs to sender after initialize assign defaults def assign defaults if new record sender self.fax sender.fax end end end invoice sender.first.invoices.new # sender is nil in assign defaults invoice.sender # returns sender properly	49
1295197	1054	harryh	2011-06-25T04:06:30.000Z	[p:normal;;t:defect;;webkit]	redirectresponse permredirectresponse should not have different signatures	7	the inconsistency makes switching backand forth annoying	7
1295197	1055	sunweicheng	2011-06-27T19:54:33.000Z	[p:normal;;webkit]	add lift-core zh tw.properties traditional chinese	6	here is the translation https://gist.github.com 1048312 thanks	7
8514	1872	igel	2011-06-27T21:58:26.000Z	[regression]	3-1-stable default url options get called to early for tests	10	hi i believe this is a regression from 3-0-stable but maybe things are just different now i have the following code testit application.routes.draw do scope locale constraints locale a-z 2 3 do get c1 c1#index get c2 c2#index end end class applicationcontroller actioncontroller base protect-from-forgery before-filter do logger.info setting i18n.locale to # params locale .inspect i18n.locale params locale end private def default url options options logger.info default url options # options.inspect options locale i18n.locale .merge options end end class c2controller applicationcontroller def index redirect to controller c1 action index end end require test helper class c2controllertest actioncontroller testcase test should get index do get index locale de assert redirected to de c1 end end if i run that test it fails because it redirects to en c1 but if i run it in development on the webserver it works as expected looks like default url options get called to early test log default url options # -- before the before-filter processing by c2controller#index as html parameters locale de setting i18n.locale to de redirected to http://test.host en c1 completed 302 found in 1ms development log started get de c2 for 127.0.0.1 at 2011-06-27 23 43 37 +0200 processing by c2controller#index as html parameters locale de setting i18n.locale to de default url options # -- after the before-filter redirected to http://localhost 3000 de c1 completed 302 found in 1m why is that with 3-0-stable the test works as expected	237
1295197	1057	indrajitr	2011-06-28T09:15:00.000Z	[p:normal;;t:enhancement;;utils]	valminlen and valmanlen fail validation on null strings	8	valminlen and valmaxlen fail validation for objects with mapper string fields that are null i ran into this problem when reading a user-object that has valid null data in some mappedstring fields for example i have a user-object with a mappedstring field called zipcode not a mappedpostalcode that was null in the db when i tried to update another field on this user say firstname for example the null zipcode failed validation here is the original thread on the lift discussion group that i added http://groups.google.com group liftweb browse thread thread 6c9dc59adca8c688 4e562d6584bf6eed in that thread david mentions he will modify these methods with a flag to leave the default behavior the same as to not break existing code thanks all	121
1723225	149	jruberg	2011-06-29T18:03:46.000Z	[]	weird graphie scoping with data-each	5	i m not exactly sure what the problem is here there is something funky with the loop variable that the data-each creates for example this code works fine html div data-each xs as x class graphie data-update graph label xs 0 0 xs 0 below div but then this code doesn t work like expected html div data-each xs as x class graphie data-update graph label x 0 x below div	71
1295197	1061	indrajitr	2011-06-30T02:28:39.000Z	[p:normal;;t:enhancement;;webkit]	allow snippet resolution for subpackages	5	currently without modification in liftrules.snippetnamestosearch snippet resolution is restricted to those classes in the xxx.snippet package it would be useful for organizing large numbers of snippets to be able to create sub packages within the snippet package and resolve snippet classes by including the name of their sub package i.e span class lift subpack.foo.bar hello span would resolve to the snippet class xxx.snippet.subpack.foo and method bar current behaviour resolves this to xxx.snippet.foo and method bar silently discarding the subpack sub packages of sub packages could also be supported	88
8514	1922	jfirebaugh	2011-07-01T02:05:35.000Z	[]	rails application#env defaults removed without deprecation	6	in 3.1.0.rc4 rails application#env defaults has been removed with no deprecation it looks like the replacement is #env config so #env defaults should be aliased to #env config with a deprecation-warning	31
1390248	115	archme	2011-07-01T15:26:18.000Z	[]	fault tolerant connections	3	i am testing salt over the wan the setup consists of 1 master and 3 minions all on differnt locations in this setup i experience the following problem some minions loose connection to the master after some time of inactivity with loose i mean the minions do not recieve any messages from the master anymore eg salt test.ping although from the networking layer everything looks fine netstat on master tcp 0 1210 170.60.10.140 4505 86.120.228.50 58931 established 6658 python2 netstat on minion tcp 0 0 192.168.1.151 57531 170.60.10.140 4505 established 20472 python2 onenote in this state after sending a message from master the netstat send-q counter is increased for the lost minions	112
8514	1936	yfeldblum	2011-07-02T01:29:42.000Z	[]	activesupport dependencies#load missing constant is slow	6	profiling reveals that activesupport dependencies#load missing constant is unnecessarily slow in development-mode in particular on a mid-sized project it can consume upwards of 50ms req by creating a new regexp object complete with interpolation and regexp.escape thousands of times per request the problematic line is https://github.com rails rails blob v3.0.9 activesupport lib activesupport dependencies.rb#l484 the recommended solution is pull the regexp out into a module-level constant or better yet get a method object from the regexp s #method out into a module-level constant and pass that directly into the block argument of #reject .	94
8514	1937	yfeldblum	2011-07-02T01:39:49.000Z	[]	module#delegate activesupport is slow	4	profiling reveals that module#delegate from activesupport is unnecessarily slow in development-mode in particular on a mid-sized project it can consume nearly 50ms req by creating a new regexp object complete with interpolation and regexp.escape thousands of times per request the problematic line is https://github.com rails rails blob v3.0.9 activesupport lib activesupport core ext module delegation.rb#l130 the reason this is problematic is that it calls #instance variables false once foreach delegated method in the rails project foreach request in development-mode this can get a little bit slow recommended solution check using method defined # prefix # method rather than instance-methods false .map to s .include # prefix # method .	109
8514	1958	ddebernardy	2011-07-04T11:48:48.000Z	[]	warnings while installing rails 3.1-rc4	5	ruby-1.9.2 log file db ruby sudo gem install rails --pre ... 20 gems installed installing ri documentation for activesupport-3.1.0.rc4... installing ri documentation for builder-3.0.0... unable to convert xf1 from ascii-8bit to utf-8 for readme skipping unable to convert xf1 from ascii-8bit to utf-8 for readme.rdoc skipping ... installing ri documentation for rails-3.1.0.rc4... file lib not found installing rdoc documentation for activesupport-3.1.0.rc4... installing rdoc documentation for builder-3.0.0... unable to convert xf1 from ascii-8bit to utf-8 for readme skipping unable to convert xf1 from ascii-8bit to utf-8 for readme.rdoc skipping ... installing rdoc documentation for rails-3.1.0.rc4... file lib not found i realize the first is builder related but the file lib not found seems to be rails related	116
8514	1960	jviney	2011-07-04T13:03:41.000Z	[activerecord;;regression]	3.1.0.rc4 generated create and create belongs to association constructors no longer assign new foreign key to parent	17	in rails 3.0 using the create # association.name method to construct a belongs to association resulted in the new foreign key being assigned on the parent record this no longer happens in rails-3.1 class client activerecord base belongs to account end c client.create c.create account c.account id # nil i ve forked and added a possible fix https://github.com jviney rails commit dd961fba168a94b0b8c6f2387b43823e1635c3f5	62
8514	1992	tstramer	2011-07-07T02:13:34.000Z	[]	undefined method perform caching for hash rails 3.1.0.rc4 sprockets	9	b background b trying to compile a haml template in a javascript file using the new asset-pipeline b setup b - webbrick server - running locally on mac os x snow leapord b code b b app assets javascripts templates.js.coffee.erb b av applicationcontroller.view context class.new tmpl av.render file # rails.root app views shared templates.html.haml b app views shared templates.html.haml b script id xxxxxxxx type text html span.spinner id name image tag spinner.gif size size b error b the error is getting triggered on the image tag line in templates.html.haml actionview template error undefined method perform caching for hash in xxxxxxxx app assets javascripts templates.js.coffee.erb 24 script id xxxxxxxx type text html 25 span.spinner id name 26 image tag spinner.gif size size app views shared templates.html.haml 26 in app views shared templates html haml 1937702501 2191138060 app assets javascripts templates.js.coffee.erb 2 in evaluate source app views layouts application.html.haml 17 in app views layouts application html haml 1515001271 2192942720 digging deeper the actual error occurs in library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb on line 109 the code is @config @config.perform caching rails.application.config.action controller.perform caching note that i added a debugger line right before the line above also that line seems to be getting triggered several times successfully when ruby-debug gives me rdb 4 p @config # orderedhash but fails on rdb 4 p @config b backtrace b -- #0 sprockets helpers railshelper assetpaths.performing caching at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 109 #1 sprockets helpers railshelper assetpaths.rewrite asset path source#string ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 90 #2 actionview helpers assetpaths.compute public path source#string dir#string ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview helpers asset paths.rb 23 #3 sprockets helpers railshelper assetpaths.compute public path source#string ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 76 #4 actionview helpers assettaghelper.path to image source#string at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview helpers asset tag helper.rb 277 #5 actionview helpers assettaghelper.image tag source#string options#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview helpers asset tag helper.rb 347 #6 actionview compiledtemplates app views shared templates html haml 1937702501 2191138060 local assigns#hash ... at line users tstramer dropbox csng coursedrawer site app views shared templates.html.haml 26 #7 kernel.send view## class 0x105361ab8 locals#hash buffer#nilclass at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 144 #8 activesupport notifications.render name#string payload#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 144 #9 actionview template.render view## class 0x105361ab8 locals#hash buffer#nilclass ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 142 #10 activesupport notifications instrumenter.render template name#string payload#hash ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 40 #11 activesupport notifications.instrument name#string payload#hash at line library rubygems 1.8 gems activesupport-3.1.0.rc4 lib activesupport notifications.rb 55 #12 actionview abstractrenderer.to s name#symbol options#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer abstract renderer.rb 33 #13 actionview templaterenderer.render template path#nilclass locals#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 39 #14 actionview templaterenderer.render template template#actionview template layout name#nilclass ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 38 #15 actionview abstractrenderer.default value#string at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 12 #16 actionview templaterenderer context## class 0x105361ab8 options#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 9 #17 actionview renderer.render template context## class 0x105361ab8 options#hash ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer renderer.rb 36 #18 actionview renderer.render context## class 0x105361ab8 options#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer renderer.rb 17 #19 actionview helpers renderinghelper.render without haml options#hash locals#hash ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview helpers rendering helper.rb 24 #20 actionview base.render at line library rubygems 1.8 gems haml-3.1.2 lib haml helpers actionview mods.rb 13 #21 kernel.evaluate source scope## class 0x105400578 locals#hash block#nilclass ... at line users tstramer dropbox csng coursedrawer site app assets javascripts templates.js.coffee.erb 2 #22 tilt template.- scope## class 0x105400578 locals#hash at line library rubygems 1.8 gems tilt-1.3.2 lib tilt template.rb 209 #23 tilt template.cached evaluate scope## class 0x105400578 locals#hash at line library rubygems 1.8 gems tilt-1.3.2 lib tilt template.rb 144 #24 tilt template.evaluate scope## class 0x105400578 locals#hash at line library rubygems 1.8 gems tilt-1.3.2 lib tilt template.rb 127 #25 tilt template.render scope## class 0x105400578 locals#hash at line library rubygems 1.8 gems tilt-1.3.2 lib tilt template.rb 76 #26 array.evaluate at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets context.rb 107 #27 sprockets context.evaluate filename#pathname options#hash at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets context.rb 104 #28 sprockets bundledasset.initialize environment#sprockets environmen... logical path#string ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets bundled asset.rb 22 #29 sprockets environmentindex.new logical path#string pathname#pathname options#hash ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment index.rb 118 #30 sprockets environmentindex.find asset path#pathname options#hash at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment index.rb 64 #31 sprockets environment.initialize copy logical path#pathname options#hash at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment.rb 89 #32 array.compute dependencies at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets bundled asset.rb 96 #33 sprockets bundledasset.compute dependencies index#sprockets environment requires#array ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets bundled asset.rb 92 #34 sprockets bundledasset.initialize environment#sprockets environmen... logical path#pathname ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets bundled asset.rb 31 #35 sprockets environmentindex.new logical path#pathname pathname#pathname options#hash ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment index.rb 118 #36 sprockets environmentindex.find asset in path logical path#pathname options#hash ... at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment index.rb 100 #37 sprockets environmentindex.find asset path#pathname options#hash at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment index.rb 71 #38 sprockets environment.initialize copy logical path#pathname options#hash at line library rubygems 1.8 gems sprockets-2.0.0.beta.10 lib sprockets environment.rb 89 #39 sprockets helpers railshelper assetpaths.asset for source#string ext#string ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 83 #40 array.javascript include tag at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 24 #41 sprockets helpers railshelper.javascript include tag at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib sprockets helpers rails helper.rb 23 #42 actionview compiledtemplates app views layouts application html haml 1515001271 2192942720 local assigns#hash ... at line users tstramer dropbox csng coursedrawer site app views layouts application.html.haml 17 #43 kernel.send view## class 0x1056acdf8 locals#hash buffer#nilclass at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 144 #44 activesupport notifications.render name#string payload#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 144 #45 actionview template.render view## class 0x1056acdf8 locals#hash buffer#nilclass ... at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview template.rb 142 #46 actionview templaterenderer.render with layout path#string locals#hash at line library rubygems 1.8 gems actionpack-3.1.0.rc4 lib actionview renderer template renderer.rb 52	1142
1295197	1068	leedm777	2011-07-08T17:41:20.000Z	[mapper;;p:normal;;t:defect]	delete with cascade fails when mapperrules.createforeignkeys is true	8	when using mapper cascade deletes fail when foreign-keys are enabled i.e mapperrules.createforeignkeys true when you try to delete the one side of the many-to-one relationship you get a referential-integrity constraint violation the problem is in onetomany.delete . it attempts to delete the current object prior to deleting the onetomanyfields reversing the logic deleting the onetomanyfields first should fix the problem the fk-delete-cascade branch in git github.com leedm777 lift-sample-app.git has a spec foreignkeyspecs that demonstrates the problem i m using lift 2.3	81
8514	2031	bartocc	2011-07-11T09:30:25.000Z	[]	default url options is called before callbacks in actioncontroller testcase	10	my implementation of default url options looks like this def default url options options foo @bar.size end where @bar is set in a before-filter before-filter set bar private def set bar @bar bar end in dev and prod everything works fine but in test i get the following error you have a nil object when you didn t expect it you might have expected an instance of array the error occurred while evaluating nil.size which means default url options method is called before callbacks in the test env from what i have investigated this seems to be cause by the testcase#process method actionpack lib actioncontroller test case.rb . in rails 3.0.7 on line 410 build request-uri action parameters calls default url options while on line 412 @controller.process with new base test @request @response triggers the callbacks because of this it seems to be impossible to test an app with default url options using a value from callbacks this issue might be related to #546 but since its related to callbacks rather than params i ve created a new one	179
1295197	1070	fmpwizard	2011-07-12T16:24:14.000Z	[p:normal;;t:enhancement;;webkit]	add jvalue versions of jsoncall to shtml	7	the current jsoncall uses the old json parser it would be useful to have jsoncall versions that use lift-json see http://groups.google.com group liftweb browse thread thread e0b65cd3dc972519 for more details	30
8514	2054	ghost	2011-07-13T13:29:49.000Z	[]	preloading of through associations can fail to set assoc.loaded	9	when loading models in the following manner ruby # from models entry.rb has-many users through ownerships # from models ownership.rb belongs to entry belongs to user # loading code entries entry.where whatever .includes users the expectation is that entries.first.users.loaded will return true however this fails when all of the associated ownership objects have user id set to null the preload does actually occur - it simply doesn t return any results which is correct this works as expected when the where arel call is omitted and the preloading occurs as two separate sql queries without the left outer-join clauses . i believe that the issue arises because of the following line at activerecord associations join dependency.rb 191 ruby # should first call record.association join part.reflection.name .loaded return if row join part.aliased primary-key .nil the obvious fix would be to check for a collection association and call loaded even if no records are found to make preloading behavior consistent across the board and in line with expectations - calling include users and then having entry.users.loaded return false is obviously unexpected can anyone see any problems with fixing the issue in the way i outlined above	194
1295197	1072	hedefalk	2011-07-13T20:30:53.000Z	[p:normal]	itemslisteditor needs to escape som javascript	6	https://groups.google.com forum # topic liftweb hz7ub3oqzm0	6
8514	2074	hmcfletch	2011-07-14T19:56:42.000Z	[]	create with a block and after initialize have inconsistant behavior	10	the problem i am running into when i create and object that uses after initialize to set up default values for attributes that are dependent on other attributes and set some of the values for the new object in a block let s say i have the following class with an after initialize to set up the msrp based on the given wholesale value ruby class product activerecord base after initialize set defaults def set defaults self.msrp 2 wholesale unless wholesale.nil end end if i create a product like so ruby product.create name awesome product wholesale 10 i ll get the following product object ruby product id 1234 name awesome product wholesale 10 msrp 20 but if i create the object like so ruby product.create do p p.name awesome product p.wholesale 10 end i l get the following ruby product id 1234 name awesome product wholesale 10 msrp nil i know why this happens it happens because create in activerecord base with a block given calls new first which triggers after initialize then yields to the block with the new object since the wholesale value is set in the block after initialize doesn t have access to it to set msrp sorry for not providing a patch i haven t dug around enough to figure out what would be the best way to adress this figured it was important enough to at least raise the issue first	237
8514	2094	dgeb	2011-07-15T21:59:53.000Z	[]	do not override remote option in form-for	7	in 3.0.9 and below form-for could accept a remote option passed in either options or options html . however any remote option passed in as options html remote will now be ignored because of this line https://github.com rails rails blob master actionpack lib actionview helpers form helper.rb#l368 ruby options html remote options.delete remote this seems especially arbitrary since the point of that line is to set-options html remote options remote . furthermore other methods such as link to allow the remote option to be passed in the same hash as other html options after all it is just shorthand for the data-remote html attribute i believe the following logic should be used instead ruby options html remote options.delete remote if options.has key remote i d be glad to prepare a pull-request if others agree	134
8514	2106	foresth	2011-07-16T10:01:41.000Z	[]	ruby 1.9.2p180 symbol.to i problem in assign nested-attributes for collection association with	12	hi in ruby-1.9.2 symbols are no longer internally represented as integers and the symbol.to i was removed it is a problem at least in the assign nested-attributes for collection association association name attributes collection method of activer record nested-attributes . you can pass attributes collection as a hash and that hash would be converted into an array ruby if attributes collection.is a hash keys attributes collection.keys attributes collection if keys.include id keys.include id array.wrap attributes collection else attributes collection.sort by i i.to i .map attributes attributes end end so if you pass a hash like this ruby children attributes child 0 child 1 the method fails on i.to i with nomethoderror undefined method to i for child 0 symbol in ruby 1.8.x the symbol would be converted to a number 43233 child 1 to 43241 etc so a correctly sorted array would be the result and would meet the code expectation i run across this problem while porting my 3.0.9 application to ruby-1.9.2 i was also looking to the 3.1.rc4 source and there is no change nor was i able to find any core extension for symbol that would solve this so i guess there should be a bugfix made for this ps thank you all for your hard work on rails	212
8514	2107	rubys	2011-07-16T13:00:43.000Z	[]	xmlhttprequest fails in integrationtests with 3-1-stable	6	recent regression in 3-1-stable with ruby-1.8.7 works in 3.0.9 with either 1.8.7 or 1.9.2 and works in 3-1-stable with 1.9.2 . steps to reproduce 1 create test integration user-stories test.rb with the following content ruby require test helper class productintegrationtest actiondispatch integrationtest test xhr do xmlhttprequest post products id 1 end end 2 execute the following command rake --trace test integration expected output 1.9.2 http://intertwingly.net stories 2011 07 16 xhrint-192.html actual output 1.8.7 http://intertwingly.net stories 2011 07 16 xhrint-187.html	79
8514	2126	cgriego	2011-07-17T20:15:43.000Z	[]	when precompiling assets --trace is swallowed unless rails groups is set	11	bundle exec rake assets precompile --trace that will swallow errors unless the rails groups environment variable is set somewhere between the shell and the task the --trace option is lost so that it isn t passed to kernel.exec making it difficult for people to debug issues with precompiling assets	49
1644196	134	stefankarpinski	2011-07-19T03:09:18.000Z	[]	promote integer types for lapack routines	6	@homerreid wrote eig fails for integer matrices julia eig 1 2 2 1 no method eig array int32 2 in method-missing boot.j 250 in run repl home homer hacking julia j client.j 23 in start home homer hacking julia j client.j 153 the solution is to add promotions for real types in the lapack macros	55
8514	2162	justindell	2011-07-20T02:03:17.000Z	[regression]	sqlite3 decimals being inserted as blobs	6	decimals seem to be inserted incorrectly as blobs in sqlite3 and as a result i am unable to do or comparisons on decimals i have reproduced it by doing the following rails new decimal bug cd decimal bug rails g scaffold my number amount decimal i then created a my number through the ui with an amount of 100.0 after firing up the dbconsole i executed the following select typeof amount from my numbers where amount 200 1 100.0 2011-07-20 01 58 13.119675 2011-07-20 01 58 13.119675 blob i added a line to the activerecord test cases base test.rb test numeric fields testthat reproduces the issue def test numeric fields m numericdata.new bank balance 1586.43 big bank balance bigdecimal 1000234000567.95 world population 6000000000 my house population 3 assert m.save ... assert equal 0 numericdata.where bank balance 2000.0 .count end	139
8514	2169	jasnow	2011-07-21T00:29:28.000Z	[]	remove deprecated --inline-source error message	5	if you type the following commands rails new p1 cd p1 rake doc app you get the follow option --inline-source is deprecated source code is now always inlined generating darkfish format into users whitemac source p1 doc app... files 3 classes 1 1 undocumented modules 1 1 undocumented constants 0 0 undocumented attributes 0 0 undocumented methods 0 0 undocumented total 2 2 undocumented 0.00 documented elapsed 0.1s if you add the fix you do not get this line option --inline-source is deprecated source code is now always inlined ###################################################################### railties-3.1.0.rc4 lib rails tasks documentation.rake 50c50 rdoc.options --line-numbers --inline-source --- rdoc.options --line-numbers 63c63 rdoc.options --line-numbers --inline-source --- rdoc.options --line-numbers 136c136 options --line-numbers --inline-source --- options --line-numbers eof	117
507775	1147	kimchy	2011-07-21T22:00:29.000Z	[bug;;v0.16.5;;v0.17.2;;v0.18.0]	file#mkdirs gets stuck might be concurrency issue	7	in 0.16 only create it under a global mutex lock in 0.17 lets try and be smarted and detect that its stuck....	22
507775	1148	kimchy	2011-07-22T03:55:50.000Z	[enhancement;;v0.17.2;;v0.18.0]	fail shard recovery allocation on a node when the index does not-exists	12	fail shard recovery allocation on a node when the index does not-exists this can happen if the data got deleted by mistake for example and we should go and try and allocate it to a different node .	38
1723225	332	spicyj	2011-07-22T21:42:03.000Z	[]	shouldn t be able to press enter to submit again from textbox if answer was correct	16		0
507775	1160	kimchy	2011-07-26T07:55:32.000Z	[enhancement;;v0.17.2;;v0.18.0]	local gateway allow to set gateway.local.initial shards to quorum-1	9	add another value to gateway.local.initial shards of value quorum-1 .	10
1295197	1076	nafg	2011-07-26T17:54:32.000Z	[mapper;;p:normal;;t:enhancement]	allow adding children to a manytomany before it s saved	10	requires two changes 1 save the parent mapper before saving its fields 2 jointable records foreign key to the parent should be set to its primary-key automatically see https://groups.google.com d topic liftweb mrsby8v90qm discussion	34
507775	1167	kimchy	2011-07-26T19:42:58.000Z	[bug;;v0.17.2;;v0.18.0]	get api a get for a document that does not-exists can cause open file handles leak	16	get api a get for a document that does not-exists can cause open file handles leak	16
507775	1168	kimchy	2011-07-27T08:29:10.000Z	[bug;;v0.17.2;;v0.18.0]	mapping default mapping type with root level date formats can cause recursive addition of them to the mapping	18	mapping default mapping type with root level date formats can cause recursive addition of them to the mapping	18
460078	492	groner	2011-07-28T22:51:17.000Z	[]	location.hashsearch breaks firefox	3	firefox decodes the hash part of a url and breaks if xx encoding of high-bit bytes aren t utf-8 examples firefox works http://server app# filter pihlstr c3 96m firefox breaks http://server app# filter pihlstr d6m updating location.hash href or calling location.assign replace is the same there s no exception navigation just doesn t happen i ve found this in firefox3.6 and 5.0 there are a few bugs discussing it but it doesn t seem like a fix is imminent	79
8514	2346	bradediger	2011-07-29T18:56:38.000Z	[]	performance regression in route compilation	5	9be7911e introduced a significant performance regression in application startup when a rails application has-many routes on the order of hundreds . each route defines its hash accessor and urlhelper methods but first calls remove possible method selector on the helper module presumably to silence possible warnings about method redefinition here is the code i m talking about https://github.com rails rails blob master actionpack lib actiondispatch routing route set.rb#l165 however remove possible method is slow in the typical case where the method doesn t exist because it calls remove-method and rescues the resulting nameerror this can add seconds to application startup when there are a few dozen to a few hundred routes since the semantics don t appear to be changed by 9be7911e i d kindly request that that commit be reverted here is my test methodology ----- ## setup 1 pull down rails master tested @ 455e9e74 2 rvm 1.9.2-p290 3 rails-edge bin rails new testapp --dev cd testapp ## profile startup of the baseline empty application 1 vim config routes.rb ruby testapp application.routes.draw do end 2 time script rails runner 1 script rails runner 1 4.44s user 0.95s system 100 cpu 5.384 total ## add many routes to routes.rb and profile again 1 vim config routes.rb ruby testapp application.routes.draw do 400.times do i resources route# i end end 2 time script rails runner 1 script rails runner 1 16.21s user 1.18s system 94 cpu 18.446 total at this point profiling the startup ruby-prof -p graph html -f startup profile.html -m 1 script rails runner 1 will show that module#remove method is taking a significant amount of time about 9 in this example but it was about 20 of startup time in the original application where i discovered this issue . reverting that single commit reduces the startup time significantly ## revert 9be7911e and run again 1 cd .. rails-edge 2 git-revert 9be7911e there are trivial conflicts in the header... merge them 3 cd .. testapp 4 time script rails runner 1 script rails runner 1 11.46s user 1.06s system 100 cpu 12.513 total	344
8514	2355	waynn	2011-07-30T00:44:34.000Z	[]	inconsistent behavior in formtaghelper for options array	7	currently the following three methods call stringify keys on the options array that s passed in image submit tag submit tag textarea tag most of the other methods in formtaghelper http://api.rubyonrails.org classes actionview helpers formtaghelper.html call stringify keys or merge if needed this leads to inconsistent behavior on the options array afterwards i think the correct solution would be to change each of the four methods to use stringify keys instead of stringify keys	74
8514	2368	arunagw	2011-07-31T11:25:20.000Z	[]	rake about is not showing middleware with 3-1-stable and master	10	rake about is not showing middleware information in command-line pre about your application s environment ruby version 1.9.2 x86 64-darwin10.8.0 rubygems version 1.6.2 rack version 1.3 rails version 3.1.0.rc5 activerecord version 3.1.0.rc5 action pack version 3.1.0.rc5 activeresource version 3.1.0.rc5 action mailer version 3.1.0.rc5 activesupport version 3.1.0.rc5 application root users arun checkouts basicapp environment development pre	55
1295197	1082	indrajitr	2011-08-02T18:40:32.000Z	[p:normal;;t:defect;;webkit]	redirectresponse duplicates contextpath	3	the contextpath is duplicated when performing a redirectresponse for any application deployed to a non-root contextpath please refer to the url https://groups.google.com d msg liftweb hnph8ft6ugs i-fom4hn9esj google group discussion for details	32
507775	1204	kimchy	2011-08-03T23:50:42.000Z	[enhancement;;v0.17.3;;v0.18.0]	querydsl custom filters score allow to associate boost on filter instead of script	13	allow to also just associate a boost on a filter in a custom filters score which will improve perf compared to a script	23
8514	2431	matpowel	2011-08-05T04:07:15.000Z	[]	rails-3.1 problems with marshalling activerecord objects	6	hi all we re seeing 2 major regressions features when serializing activerecord objects in rails-3.1 we ve tested against rc5 3.1-stable head and master head the below examples work as expected in rails 2.x a code example paints 1000 words so here goes problem 1 -------------- p post.new puts p.new record # true q marshal.load marshal.dump p puts q.new record # false the outcome of this is that when loading a serialized ar object ar tries to go off and grab a record from the db we re guessing because it thinks it s not a new record but id is nil so the results are undefined . problem 2 -------------- p post.new p.comments c p.comments c p.comments.size # 2 p.comments 0 .id # nil marshal.dump p # does not include child associations to me this is a huge change from 2.x where many people use dump load to deep-copy q marshal.load marshal.dump p q.comments.size # 1 based on a random sql query that grabs the first one with a user id of 0 or whatever depending on your model q.comments 0 .id # some random record id see the bug above any help hugely appreciated matt	197
1295197	1083	kevinpeno	2011-08-05T05:33:47.000Z	[build;;p:normal;;t:defect]	windows illegalcharsetnameexception using liftsh	4	when trying to invoke liftsh liftsh.cmd technically using the 2.4-m3 i get this error cmd . liftsh error occurred during initialization of vm java.nio.charset.illegalcharsetnameexception utf-8 -xss8m -xmx1g -noverify -xx +cmsclassunloadingenabled -xx +useconcma rksweepgc -xx maxpermsize 512m at java.nio.charset.charset.checkname unknown source at java.nio.charset.charset.lookup2 unknown source at java.nio.charset.charset.lookup unknown source at java.nio.charset.charset.defaultcharset unknown source at sun.nio.cs.streamencoder.foroutputstreamwriter unknown source at java.io.outputstreamwriter init unknown source at java.io.printstream init unknown source at java.lang.system.initializesystemclass unknown source this appears to not be a new issue see http://groups.google.com group liftweb browse thread thread cbfc41f7175d4836 i m no java guy but after messing around it appears to be an issue with how your options are set prior to making the call to java if i remove the @echo off i see that the call to java is set as java -dfile.encoding utf-8 -xss8m -xmx1g -noverify -xx +cmsclassunloadingenabled -xx +useconcmarksweepgc -xx maxpermsize 512m default opts -jar c users kevin desktop lift-framework-2.4-m3-release-0-ga048847 lift-framework-a048847 project sbt-launch-0.7.7.jar obviously java seems to parse this just fine because we end up with the exception but when passed like this it must screw up how it checks the value of -dfile.encoding because it sees the encoding being set as utf-8 -xss8m -xmx1g -noverify -xx +cmsclassunloadingenabled -xx +useconcmarksweepgc -xx maxpermsize 512m attached is a patch that should resolve these issues remove the quotes from the assignments . there was another side issue that the assignment below is also broken so that is included after this fix i was able to run the cmd build and ended up in the liftsh console	254
1295197	1085	pbrant	2011-08-06T11:15:29.000Z	[p:normal;;t:defect]	css style binding ... none removes element instead of children	10	thread http://groups.google.com group liftweb browse thread thread ee2ec1146a79a550	8
1295197	1086	dpp	2011-08-06T21:41:42.000Z	[p:normal;;t:defect;;webkit]	stateinstateless should lead to nice red warning box not full fledged exception	12	if there s a state in stateless exception thrown during snippet execution the nice little red box is not displayed in development-mode but instead a nasty exception is thrown the exception should be caught by the red box mechanism a demo app can be found at https://github.com dpp statefulless	49
1295197	1087	nafg	2011-08-08T06:58:13.000Z	[p:normal;;sitemap;;t:enhancement]	loc t should be loc t anyref	7		0
1295197	1088	nafg	2011-08-08T07:02:56.000Z	[mapper;;p:normal;;t:defect]	mappedfield#equals should return false in comparison to a different field	10	trying out http://www.assembla.com wiki show breakoutdocs email2ticketsgateway by forwarding the thread ---------- forwarded message ---------- from david pollak feeder.of.the.bears@gmail.com date sun aug 7 2011 at 9 00 am subject re lift re sortedmapperpaginatorsnippet initialsort to liftweb@googlegroups.com on sun aug 7 2011 at 5 07 am naftoli gugenheim naftoligug@gmail.com wrote i could really just change it to eq instead of . you re point is true as well that i could do on each s getclass whoops... i forgot about eq... years of scala has apparently blinded me to stuff that s normal in java... sigh - but don t you agree that it would be correct for mymetamapper.fielda mymetamapper.fieldb to return false yeah... you re right and thank you for being patient and walking me through the implications could you open a ticket you re welcome to own the ticket or assign it to me in scala a lot of things depend on a good equals implementation for instance what if i want a map mappedfield x or a set mappedfield also i think people in the fp world consider it bad practice to use eq on sat aug 6 2011 at 4 21 am david pollak feeder.of.the.bears@gmail.com wrote ah... i understand now... i do not know how to compare two jvm references to see if they point to the same underlying object it s possible in .net but not in java in this particular instance you might try comparing the class foreach field because each field has a discrete class at least i think they should and the classes should be different between two different fields... does this help on sat aug 6 2011 at 12 12 am naftoli gugenheim naftoligug@gmail.com wrote the real question is given two mappedfields what s the correct way to test if they are they are the same field the context is that when you click a sort header of a paginator it has to check whether it s the currently selected header and if so toggle between ascending and descending or else default to ascending but being that the signature of equals is that it takes an anyref i think the principle of least surprise suggests that two different fields are not equal even if they have the same value or being on a metamapper instance having a meaningless value . on fri aug 5 2011 at 5 31 am david pollak feeder.of.the.bears@gmail.com wrote on fri aug 5 2011 at 12 30 am naftoli gugenheim naftoligug@gmail.com wrote dpp is that desired behavior that mymetamapper.fielda mymetamapper.fieldb i don t think it s valid to compare fields on the metamapper... they should contain no valid values is that the question or did i miss something on thu aug 4 2011 at 5 49 pm larry morroni larry@morroni.com wrote they both evaluate to true on first pageload and all successive page loads on jul 22 6 19 pm naftoli gugenheim naftoli...@gmail.com wrote perhaps it s a bug can you tell me what the following evaluate to claimview.lastname claimview.firstname claimview.lastname claimview.lastname if the answers are not false and true respectively then line 78 of net liftweb mapper view paginator.scala should be changed to use eq or the equality implementation should change . on fri jul 22 2011 at 2 34 pm larry morroni la...@morroni.com wrote seems that if i add sort 0 false then i get the list sorted by the first mapped item it seems like i shouldn t need this since i already tell it what my initialsort is on jul 22 12 09 pm larry morroni la...@morroni.com wrote i am running lift 2.4-m1 and i can t get the initialsort on sortedmapperpaginatorsnippet to work no matter what i set it sorts by the column firstname i can reproduce this on multiple mappers of mine does anyone see anything wrong with the syntax or could this possibly be a bug val paginator new sortedmapperpaginatorsnippet claimview claimview.lastname updatedat - claimview.updatedat firstname - claimview.firstname lastname - claimview.lastname claimnumber - claimview.claimnumber streetaddress - claimview.streetaddress dateofloss - claimview.dateofloss status - claimview.status ... thanks larry -- you received this message because you are subscribed to the google groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- you received this message because you are subscribed to the google groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- you received this message because you are subscribed to the google groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- lift the simply functional web framework http://liftweb.net simply lift http://simply.liftweb.net follow me http://twitter.com dpp blog http://goodstuff.im -- you received this message because you are subscribed to the google groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- you received this message because you are subscribed to the google-groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- lift the simply functional web framework http://liftweb.net simply lift http://simply.liftweb.net follow me http://twitter.com dpp blog http://goodstuff.im -- you received this message because you are subscribed to the google-groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- you received this message because you are subscribed to the google-groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en -- lift the simply functional web framework http://liftweb.net simply lift http simply.liftweb.net follow me http://twitter.com dpp blog http://goodstuff.im -- you received this message because you are subscribed to the google-groups lift group to post to this group send email to liftweb@googlegroups.com to unsubscribe from this group send email to liftweb+unsubscribe@googlegroups.com for more options visit this group at http://groups.google.com group liftweb hl en	1083
1723225	972	jruberg	2011-08-08T22:01:03.000Z	[]	show acceptable answer formats doesn t work locally	8	the link just refreshes the page	6
8514	2468	kamui	2011-08-08T22:30:21.000Z	[needs feedback;;railties]	3.1 preventing assets from being cached in rails.cache rack cache	10	i have a rails-3.1 app on heroku that uses cloudflare as a cdn cloudflare is a dns based cdn so you use their dns servers for your domain when a static asset is first requested cloudflare requests it from your web app caches the file in it s cdn and then subsequent requests get served from the cdn it s similar to how amazon-cloudfront works except that your asset host remains your app s host instead of some other domain-name the issue arrises when you use config.action controller.perform caching true in 3.1 rack cache seems to automatically use your config.cache store to store assets html fragments since cloudflare is handling my asset caching i want to stop rack cache from caching assets to rails.cache in my case i m using redis-store so my redistogo instance is being filled up quickly with static assets from rack cache this is kind of redundant since my cdn is going to be serving a majority of these requests the few asset requests that rails should get should be from cloudflare so it s fine if rails serves this directly from the precompiled assets instead of from the rails.cache i ve considered disabling the rack cache middleware but then i lose out on page action fragment controller caching i ve tried setting my config.static cache-control to private or no-cache but no-cache would also prevent user browers from caching the assets and both still store assets in the cache i m at a loss here for now i ve increased my redistogo instance but that s not a good long term strategy	266
8514	2509	sars	2011-08-12T18:14:29.000Z	[actionpack]	argumenterror dump format error user class	6	hello i m trying to upgrade rails from 3.0.9 to 3.1 evrething was successfull and i deploy it to production but when i m trying to visit the main page - error happens in production logfile i find argumenterror dump format error user class the same issue i find there http://wondible.com 2011 08 11 updating-to-rails-3-1-rc5 and there http://wondible.com 2011 08 11 updating-to-rails-3-1-rc5 how i can fix this issue	68
8514	2510	joevandyk	2011-08-12T20:57:11.000Z	[]	calling request.params in a constraint class causes subsequent routes to be broken	12	https://github.com joevandyk rails commit f5a9d6572de026e1960d79d96ba67c2dff449cbb is a failing testcase class routematcher def self.matches request request.params return false end end routes application.routes.draw do match id categories#show constraints routematcher # for a url of about params id will about # you d expect params path about # if you remove request.params up above it behaves as expected match path pages#find end	59
1295197	1089	amullins	2011-08-13T13:30:48.000Z	[p:normal;;t:enhancement;;utils]	remove protected access modifier from mailerimpl	6	please remove the protected access modifier from net.liftweb.util.mailerimpl trait as per discussion at url https://groups.google.com forum # topic liftweb dynhrm8o52k https://groups.google.com forum # topic liftweb dynhrm8o52k	26
8514	2553	iaddict	2011-08-17T08:43:21.000Z	[]	findermethods#exists does not work with sql-server	6	the generated-sql does not work with sql-server following the ar exception activerecord statementinvalid activerecord jdbcerror no column was specified for column 2 of t . select t from select row-number over order by huhu.id as rownum 1 from huhu where huhu id 83287 as t where t rownum between 1 and 1 the problem is the column 1 that has no alias it has to read something like 1 as one a pull-request exists that fixes this issue https://github.com rails rails pull 1141	83
8514	2556	aduffeck	2011-08-17T09:38:45.000Z	[activerecord;;regression]	duplicate joins on a has-many through with a scope that also has a join	14	in rails 3.1.rc5 i get activerecord statementinvalid exceptions like activerecord statementinvalid pgerror error tablename pets specified more than once select count from toys inner-join pets on pets . pet id toys . pet id inner-join pets on toys . pet id pets . pet id where pets . owner id 1 and pet.created at 2011-07-17 11 29 10.786533 this is a regression over 3.0.9 where the according query looks like that select count from toys inner-join pets pets toys on pets toys . pet id toys . pet id inner-join pets on toys .pet id pets .pet id where pets .owner id 1 and pet.created at 2011-07-17 11 20 32.653116 which also adds an superflous join but in a way that doesn t break here s the patch which triggers the above error in the tests https://gist.github.com 1151143	138
1295197	1091	indrajitr	2011-08-20T07:09:07.000Z	[p:normal;;t:enhancement;;utils]	exception cannot construct atom null	5	we ve run across a situation using 2.4-m2 where the following exception occurs with no stack-trace and the ui hangs pool-2-thread-5 error net.liftweb.util.schedule - java.lang.illegalargumentexception cannot construct atom null winnowing it down... def all in nodeseq nodeseq page.flatmap item bind item in starrating - if item.hotel.diamondrating null else item.hotel.diamondrating the startrating line used to be just starrating - item.hotel.diamondrating but when some data showed up unexpectedly dirty diamondrating can be null when it should instead be blank see discussion at http://groups.google.com group liftweb browse thread thread eb91f34edd5451c3 bba1623e717460ec#bba1623e717460ec	88
8514	2624	dmajda	2011-08-22T08:45:32.000Z	[regression]	actioncontroller testcase behavior#process can modify its parameter	7	the actioncontroller testcase behavior#process method calls paramify values on its parameters parameter that method can modify the passed value e.g converting all values in a hash that are fixnums to strings . this behavior propagates to post get and other methods that call process internally this behavior is unexpected and makes tests like this fail bug id 42 title my bug post add bug bug bug added bug bug.find last assert equal bug id added bug.id # fails because bug id is now 42 not 42 assert equal bug title added bug.title the process method should probably duplicate parameters before modifying it tested with rails-3.1 rc5 note this is a regression from rails 2.3.x not sure about 3.0.x	118
8514	2645	cfis	2011-08-23T04:29:34.000Z	[]	fixtures yaml exception handing is incorrect	6	around line 720 in activerecord lib activerecord fixtures.rb def parse yaml string fixture content yaml load erb render fixture content rescue error ... end that should be a rescue exception error since a psych syntax-error inherits from a e rbsyntaxerror and thus is not a standardexception and won t get caught	51
1295197	1094	alexblack	2011-08-23T07:38:07.000Z	[p:normal;;t:enhancement;;webkit]	stateless requests conditionally	3	see http://groups.google.com group liftweb browse thread thread fdb9d0df47de6f70# for background see http://www.assembla.com wiki show liftweb stateless requests many hits to our site are stateless no session but sessions are created and kept for up to 30 mins forall visitors human or robot . we could benefit from the ability to 1 avoid creating sessions until necessary e.g imagine a user surfs for a while then clicks add-to-cart upon clicking add-to-cart a session could be established 2 avoid creating sessions for some visitors based on criteria such as user-agent e.g never give googlebot crawlers a session i ll use some code here as an illustration of the concept only pre code object liftrules type statelesstestpf partialfunction req statelessmode val statelesstest rulesseq statelesstestpf object statelessmode establish sessions for visitors val stateful 1 never establish a session throw an exception if state is stored val stateless 2 establish a session if anything is written to the session e.g as soon as something is added to the cart val statefulonwrite 3 never establish a session but allow writes to the session data will be discarded at the end of the request val statelessallowwrite 4 liftrules.statelesstest.append case googlebotreq req statelessmode.statelessallowwrite case statelessmode.statefulonwrite code pre	199
1295197	1095	mcamou	2011-08-23T10:16:23.000Z	[p:normal;;t:defect]	mappednullablelong doesn t display edit correctly	6	a mappednullablelong field is not displayed correctly instead of showing just the number if full or a blank if empty it shows the tostring of the box i.e empty or full x where x is the contained value . also creating a trait with a toform method and adding it to a mappednullablelong field doesn t work see https://groups.google.com d topic liftweb k0v jkzjymi discussion example code pre code trait nicenullablelong t mapper t self mappednullablelong t override def tostring is.openor .tostring override def toform full shtml.text tostring x if x.length 0 set empty else set full integer.parseint x object maxminutes extends mappednullablelong this with nicenullablelong user code pre	109
8514	2654	dmajda	2011-08-23T11:51:31.000Z	[regression]	actioncontroller testrequest#recycle should set @protocol to nil	7	actioncontroller testrequest#recycle should set @protocol to nil . currently it does not do so and the protocol gets carried over when there are two or more requests in functional tests this is a problem when e.g the first request is http and the second request is https def test foo get foo # calling request.protocol in the controller s foo action returns http . @request.env https on get foo # calling request.protocol in the controller s foo action still returns http end tested with rails-3.1 rc6 this is aregression against 2.3.x	91
8514	2755	diragor	2011-08-30T20:46:19.000Z	[]	hasmanyassociation#inverse updates counter-cache fails to match custom counter-cache column symbol	10	say you have a parent ar object with a has-many association with dependent destroy and the child object has a belongs to association specifying a counter-cache column using a symbol as the api docs example shows . if you do a #clear on the has-many collection each child causes the counter to decrement when it is destroyed then an additional update query decrements it by the number of objects that were in the collection because hasmanyassociation#inverse updates counter-cache is matching a string version of the counter column against the symbol that was specified in the belongs to association example ruby class parentthing activerecord base has-many kids classname kidthing foreign key parent id dependent destroy end class kidthing activerecord base belongs to parent classname parentthing foreign key parent id counter-cache kids count end parent parentthing.create 3.times parent kidthing.create parent.kids.clear # now parent.kids count -3 specifying the counter-cache as a string in the belongs to association fixes the problem but if a symbol is accepted there and the example in the documentation uses a symbol then shouldn t hasmanyassociation#inverse updates counter-cache support that	181
8514	2795	ben-av	2011-09-01T13:25:39.000Z	[]	iterate cookiejar	2	hi folks in rails 3.0 i used to be able to iterate the cookiejar through cookies.each . in rails-3.1 there was a change where cookiejar is no longer inheriting from hash so it s no longer possible got any suggestions on how to iterate current request cookies # example class testcontroller applicationcontroller def index temp cookies cookies.each k v temp cookies k v end end thanks ben	67
8514	2800	derekprior	2011-09-01T18:19:57.000Z	[railties]	rails new keep files for other source control management systems	10	as ddh recently said one of the nicest things rails provides is empty folders a place to put your stuff the rails new command attempts to preserve these empty folders in git repositories by creating .gitkeep files but git is not the only source control system that does not track empty folders if you don t use git and opt to generate your app with the --skip-git option then you are on your own for adding your own keep files for these source control systems your other option is to generate the app then immediately delete all copies of .gitignore rename all .gitkeep files to something more appropriate for your scm and then remove the .git directory i see a couple of potential solutions that i d be willing to work on a patch for solution a add a --keep-file name option that would add keep files with the specified name even in the face of --skip-git solution b 1 rename .gitkeep files to .keep to be scm agnostic 2 change --skip-git so that it still created .keep files 3 added --skip-keep to skip the generation of .keep files 4 added --skip-scm to imply --skip-git and --skip-keep any thoughts on what the best way to proceed would be	208
8514	2807	rsutphin	2011-09-01T23:13:01.000Z	[]	activerecord 3.1 cannot load models with non-default pks unless there s already a database-connection	14	using activerecord 3.1 one cannot load a model class that calls set primary-key unless there is already a database-connection this works with activerecord 2.3 and 3.0 i ve created a minimal testcase gist to demonstrate the issue gist https://gist.github.com 1187521 the failure looks like this users rsutphin .rvm gems ruby-1.9.2-p290@tmp gems activerecord-3.1.0 lib activerecord attribute methods primary key.rb 69 in set primary-key undefined method primary keys for nil nilclass nomethoderror from private tmp ar-cp-pk models.rb 4 in class person from private tmp ar-cp-pk models.rb 3 in top required from example.rb 8 in require from example.rb 8 in load models from example.rb 28 in main	104
8514	2828	pixeltrix	2011-09-03T09:06:14.000Z	[regression]	unnecessary sql query when loading a belongs to association	9	when loading a belongs to relationship the association code executes the query even if the foreign key is nil - i think we can safely assume that there isn t a record with a null primary-key	36
8514	2834	pixeltrix	2011-09-03T15:27:53.000Z	[activerecord]	ignore preload from scope when using through associations	8	given the following models ruby class manufacturer activerecord base end class producttype activerecord base end class product activerecord base belongs to manufacturer belongs to product type has-many variants default scope preload manufacturer product type end class variant activerecord base belongs to product end class basketitem activerecord base belongs to variant has-one product through variant has one manufacturer through product has-one product type through product end then trying to load either item.product type or item.manufacturer will raise an activerecord configurationerror due to the preload - the easiest fix is likely to be removing the preload from the join model scope	99
8514	2840	fxn	2011-09-03T21:47:08.000Z	[]	the docs about fixtures seem to be gone	8	the documentation about fixtures should appear in http://api.rubyonrails.org classes activerecord fixtures.html but it is not there the link in the template of fixtures should be revised accordingly	27
8514	2858	jaylevitt	2011-09-04T21:27:36.000Z	[]	doc no instructions on how to report docrails bugs	9	back in april xavier noria wrote issues that one does not know how to fix or that need discussion should be reported to the rails ticketing system which is split nowadays between lh and github but that has a brighter future in the latter . please report there and assign them to me for example at the time rails guides included obsolete language about using the docrails issue tracker that s been removed but now there s no guidance on issue reporting at all so i m opening a ticket about the lack of instructions telling me to come here and open a ticket it s very meta	108
8514	2882	threez	2011-09-06T06:48:52.000Z	[]	basic auth header with n	5	in our project we use the encode credentials method to encode basic auth credentials that we than send using http while testing we found out that the following method ruby actioncontroller httpauthentication basic.encode credentials will produce an n inside of the encoded string because of the length and the used encoding method ruby def encode credentials username password basic # activesupport base64.encode64 # username # password end the method #encode64s should be used instead we tested and explored the bug with the password string t d t d t d	90
8514	2973	yfeldblum	2011-09-10T17:18:16.000Z	[]	disposition in #send file and #send data	7	actioncontroller datastreaming#send file and actioncontroller datastreaming#send data should not require https://github.com rails rails blob v3.1.0 actionpack lib actioncontroller metal data streaming.rb#l112-114 the disposition option the reason is that the content-disposition httpresponse header is optional there are many cases where we might want to deliver bytes in the response using the convenience of #send file or #send data but where the content-disposition header is not useful one example would be html pages that are pre-generated and stored in a database or distributed-filesystem and where we would like to send them down to the browser from the database with #send data or from the filesystem with #send file	106
8514	2980	kennyj	2011-09-11T17:52:41.000Z	[]	config.default asset host protocol is ignored	6	config.default asset host protocol relative actionpack lib sprockets railtie.rb but all assets javascripts stylesheets and images used request	18
1295197	1110	indrajitr	2011-09-13T13:37:12.000Z	[p:normal;;t:defect]	adding id attribute with cssbind for list	7	please see the related discussion on the google group url http://www.example.com http://groups.google.com group liftweb browse thread thread 376ae47e5075c71d 86b4690bcb01d15a#86b4690bcb01d15a ive just upgraded my project from 2.9.0-1 2.4-m3 ---- 2.9.1 2.4-m4 and ive noticed one regression snippet pre code def test val myidlist list xx1 xx2 xx3 x4 .thinglist # .thing # myidlist.map t .thing id # t.key code pre template pre code ul class thinglist lift mysnip.test li class thing ul code pre ...should result in pre code ul class thinglist li class thing id xx1 li class thing id xx2 li class thing id xx3 li class thing id xx4 ul code pre ...but with 2.4-m4 it results in pre code ul class thinglist li class thing id xx1 li class thing li class thing li class thing ul code pre it looks like only the first li gets the id attribute even stranger if i change the attribute that is being added from id -- idblah it works properly	161
8514	3020	falcon007	2011-09-14T11:37:46.000Z	[]	ar association.replace does not work properly in rails 3.1.0	9	replace call leaves old record and inserts new with null foreign key pre d tools instantrails railsapps hitech gt rails c loading development-environment rails 3.1.0 irb main 001 0 gt p product.new name gt motorola defy+ gt # lt product id nil name motorola defy+ code nil comments count 0 reports count 0 user rating 0.0 created at nil updated at nil gt irb main 002 0 gt p.specifications.build feature id gt 26 text value gt 111 gt # lt specification id nil product id nil feature id 26 text value 111 gt irb main 003 0 gt p.save 1m 36m 0.0ms 0m 1mbegin 0m 1m 35m 1.0ms 0m select 1 from products where products . code binary and products . name motorola defy+ limit 1 1m 36msql 0.0ms 0m 1minsert into products code comments count created at name reports count updated at user rating values null 0 2011-09-14 11 05 17 motorola defy+ 0 2011-09-14 11 05 17 0.0 0m 1m 35msql 1.0ms 0m insert-into specifications feature id product id text value values 26 546 111 1m 36m 20.5ms 0m 1mcommit 0m gt true irb main 004 0 gt specs gt irb main 005 0 gt specs lt lt specification.create feature id gt 26 text value gt feature 2 1m 35m 0.0ms 0m begin 1m 36msql 0.0ms 0m 1minsert into specifications feature id product id text value values 26 null feature 2 0m 1m 35m 16.6ms 0m commit gt # lt specification id 22794 product id nil feature id 26 text value feature 2 gt irb main 006 0 gt specs lt lt specification.create feature id gt 26 text value gt feature 3 1m 36m 0.0ms 0m 1mbegin 0m 1m 35msql 0.0ms 0m insert-into specifications feature id product id text value values 26 null feature 3 1m 36m 2.9ms 0m 1mcommit 0m gt # lt specification id 22794 product id nil feature id 26 text value feature 2 gt # lt specification id 22795 product id nil feature id 26 text value feature 3 gt irb main 007 0 gt p.specifications.replace specs 1m 35mspecification load 13.7ms 0m select specifications . from specifications where specifications . product id 546 gt # lt specification id 22794 product id nil feature id 26 text value feature 2 gt # lt specification id 22795 product id nil feature id 26 text value feature 3 gt irb main 008 0 gt p gt # lt product id 546 name motorola defy+ code nil comments count 0 reports count 0 user rating 0.0 created at 2011-09-14 11 05 17 updated at 2011-09-14 11 05 17 gt irb main 009 0 gt p.save 1m 36m 0.0ms 0m 1mbegin 0m 1m 35m 1.0ms 0m select 1 from products where products . code binary and products . id 546 and products . name motorola defy+ limit 1 1m 36m 0.0ms 0m 1mcommit 0m gt true irb main 010 0 gt p product.last 1m 36mproduct load 0.0ms 0m 1mselect products . from products order by products . id desc limit 1 0m gt # lt product id 546 name motorola defy+ code nil comments count 0 reports count 0 user rating 0.0 created at 2011-09-14 11 05 17 updated at 2011-09-14 11 05 17 gt irb main 011 0 gt p.specifications 1m 35mspecification load 13.7ms 0m select specifications . from specifications where specifications . product id 546 gt # lt specification id 22793 product id 546 feature id 26 text value 111 gt irb main 012 0 gt pre	580
1295197	1113	jeppenejsum	2011-09-15T06:02:24.000Z	[t:defect;;webkit]	xml interpolation in nodeseq does not have access to the s context	12	details here http://groups.google.com group liftweb browse frm thread 6aa58331e3137243 9075d185e0dd045f	10
507775	1335	kimchy	2011-09-15T08:47:00.000Z	[feature;;v0.17.7;;v0.18.0]	upgrade to lucene 3.4.0	4		0
507775	1341	kimchy	2011-09-16T21:49:03.000Z	[enhancement;;v0.17.7;;v0.18.0]	versioning delete on an already deleted document should still affect versioning	11	versioning delete on an already deleted document should still affect versioning	11
507775	1343	kimchy	2011-09-16T23:20:56.000Z	[enhancement;;v0.17.7;;v0.18.0]	bulk api properly retry execution on temporal state changes	9	the index api has a retry mechanism on possible initial temporal state failure when executing on the primary shard have a similar logic in the bulk api as well	29
1295197	1115	btd	2011-09-17T00:24:45.000Z	[p:normal;;t:defect;;utils]	db object getting jndi connection doesnt work	7	hello i try to use lift 2.4-m4 scala 2.9.1 in boot.scala i add such code defaultconnectionidentifier.jndiname jdbc db logger.warn jndi connection available manyally + new initialcontext .lookup java comp env jdbc db .asinstanceof datasource null logger.warn jndi connection available lift + db.jndijdbcconnavailable and in logs i see 10 56 55.531 main warn bootstrap.liftweb.boot - jndi connection available manyally true 10 56 55.546 main warn bootstrap.liftweb.boot - jndi connection available lift false 10 56 55.718 forkjoinpool-1-worker-2 info o.a.sshd.common.util.securityutils - bouncycastle not registered using the default jce provider 2011-09-12 10 56 55.953 info oejs.abstractconnector started selectchannelconnector@0.0.0.0 8080 starting therefore i cannot use jndi with db object can anyone suggest workaround or said where i can be wrong for me problems in two methods def jndijdbcconnavailable boolean try new initialcontext .lookup java comp env .asinstanceof context .lookup defaultconnectionidentifier.jndiname .asinstanceof datasource .getconnection null catch case e false and private def newconnection name connectionidentifier superconnection ... val conn new initialcontext .lookup java comp env .asinstanceof context .lookup name.jndiname .asinstanceof datasource .getconnection .... ret.setautocommit false ret forgot to add that i use xsbt 0.10.1 and jetty 8 from eclipse i test jndi with java web application and it works i test application on oracle-application-server 11g and get such logs jndi connection available lift true jndi connection available manyally true with glassfish 3.1 i get such results jndi connection available manyally - instead of this i got exception jndi connection available lift false for glassfish need to lookup in such way context ctx new initialcontext datasource ds datasource ctx.lookup jdbc sample	254
1295197	1116	jeppenejsum	2011-09-17T00:39:42.000Z	[mapper;;p:normal;;t:defect]	non-default mappeddecimal fields are always marked dirty	7		0
507775	1344	kimchy	2011-09-18T10:43:06.000Z	[bug;;v0.17.7;;v0.18.0]	realtime get under high concurrent indexing and immediate get a get might be missed while flushing	16		0
8514	3104	mickeb	2011-09-22T18:49:05.000Z	[]	activerecord 3.1 does not respect set primary-key	7	when trying to access a polymorphic association activerecord 3.1 does not respect the non default primary-key set by set primary-key but instead uses default primary-key id in the generated-sql this is not an issue on 3.0.10 single-file example app available https://github.com zmartgroup activerecord bug report quick paste and reproduce git-clone git github.com zmartgroup activerecord bug report.git cd activerecord bug report bundle-install bundle exec ruby program.rb	65
460078	571	tehek	2011-09-27T22:19:07.000Z	[]	angular.array.limitto populates result with nulls if supplied limit exceeds input array s length	13	well... basically go to the live-preview section in http://docs.angularjs.org # api angular.array.limitto enter any number larger than 10 and notice nulls appearing at the end of result enter any number less than -10 notice results prepended by nulls	38
1295197	1121	indrajitr	2011-09-28T22:00:55.000Z	[mapper;;p:normal;;t:defect]	mappedboolean sets dirty incorrectly	4	the issue is described here http://groups.google.com group liftweb browse thread thread 57bc7c44ec78cb2b	12
8514	3165	gucki	2011-09-29T09:23:31.000Z	[activerecord]	activerecord#select should accept variable number of arguments	7	currently one has to do model.select id name . it d be great if one could also simply do model.select id name .	23
1295197	1123	tuhlmann	2011-10-01T01:35:06.000Z	[p:normal;;proto;;t:enhancement]	make button of generated megaprotouser pages customizable	7	the button that is generated for the edit change-password reset password oder register pages is not customizable we should put the button creation code in special easy to override methods	30
1295197	1124	dph01	2011-10-01T01:59:31.000Z	[p:normal;;t:enhancement;;utils]	add a method to props to show which file was found	11	as discussed in the group url https://groups.google.com d topic liftweb wxsk37hj7lq discussion https://groups.google.com d topic liftweb wxsk37hj7lq discussion	18
8514	3198	mjtko	2011-10-03T11:53:21.000Z	[]	asset-pipeline unexpectedly removes digest assets - 3.1.1.rc2	7	performing this command causes an unexpected chain of events to occur ruby rake assets clean assets precompile due to the way precompile re-executes itself this causes the following to happen 1 asset directory is removed assets clean 2 precompile task entered re-invokes rake with new groups and env assets precompile 3 asset directory is removed - this has no effect as it s no longer there assets clean 4 digest-based assets are created assets precompile - now with correct groups and env 5 non-digest based re-invocation at end of assets precompile 6 asset directory is removed - removing all digest-based assets - assets clean 7 non-digest-based assets are created assets precompile this could be considered pretty horrific - but the re-invocation magic used for asset precompile at the moment is horrific	131
8514	3207	cntrytwist	2011-10-04T03:08:13.000Z	[]	regression between 3.1.1.rc1 and 3.1.1.rc2	5	between 3.1.1.rc1 and 3.1.1.rc2 something is broken in activerecord it seems that i have to specify the primary-key on an association so that it knows how to build the proper query here is an example two models in question are app has-many permissions and permission belongs to app this is the rails code permission permission.joins app .where permissions.user id and apps.name and permissions.name or permissions.role id and apps.name and permissions.name current user.id app initials permission current user.role id app initials permission .first turns into select permissions . from permissions inner-join apps on apps . permissions . app id where permissions.user id 1 and apps.name syncdekadmin and permissions.name user or permissions.role id 1 and apps.name syncdekadmin and permissions.name user limit 1 the issue is on the first inner-join apps on apps . it needs to be inner join apps on apps . id on the permission.rb model i add belongs to app primary-key id the query then comes out just fine i ve checked rails 3.1.0 3.1.1.rc1 and they don t seem to have this issue i m using postgresql for my db	182
1295197	1127	jeppenejsum	2011-10-05T07:17:38.000Z	[p:normal;;t:enhancement;;utils]	add emptyforblank to stringhelpers	4	details http://groups.google.com group liftweb browse frm thread 6c09618a5cbfa205 cf0cbeb441821913	9
460078	580	igorminar	2011-10-06T00:24:49.000Z	[]	rename doc dev guide.templates.css to dev guide.templates.css-styling	7	we need to rename this doc because it conflicts with the html5 url-rewriting rules	14
1295197	1129	jeppenejsum	2011-10-07T02:42:19.000Z	[p:normal;;t:enhancement;;webkit]	add danish translation to core properties	6		0
8514	3247	stanislaw	2011-10-08T01:08:34.000Z	[]	after upgrading from 3.1 to 3.1.1 has-many ... source changed its behaviour	12	ruby class cmodule activerecord base has-many items cmodules has-many cycles order position through items cmodules source type cycle source item has-many techniques order position through items cmodules source type technique source item end class itemscmodule activerecord base belongs to cmodule belongs to item polymorphic true end class technique activerecord base has-many items cmodules as item end before upgrading to 3.1.1 following worked fine ruby cmodule.first.techniques.create name blip right after upgrading it gives following output ruby ruby-1.9.2-p180 003 cmodule.first.techniques.create name blip cmodule load 0.0ms select cmodules . from cmodules limit 1 0.0ms begin sql 0.0ms insert-into techniques annotation created at icon contenttype icon file name icon filesize icon updated at instruction name status updated at values 1 2 3 4 5 6 7 8 9 10 returning id annotation nil created at sat 08 oct 2011 03 59 37 fet +03 00 icon contenttype nil icon file name nil icon filesize nil icon updated at nil instruction nil name blip status draft updated at sat 08 oct 2011 03 59 37 fet +03 00 0.0ms rollback nameerror uninitialized-constant itemscmodule item from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord base.rb 1341 in compute type from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord reflection.rb 173 in klass from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord reflection.rb 228 in association primary-key from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations through association.rb 47 in block in construct join attributes from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations through association.rb 46 in map from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations through association.rb 46 in construct join attributes from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations has-many-through association.rb 54 in through record from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations has-many-through association.rb 45 in insert record from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 425 in block 2 levels in create record from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 337 in add to target from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 423 in block in create record from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 147 in block in transaction from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord connection adapters abstract database statements.rb 192 in transaction from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord transactions.rb 208 in transaction from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 146 in transaction from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 422 in create record from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection association.rb 111 in create from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems activerecord-3.1.1 lib activerecord associations collection proxy.rb 54 in create from irb 3 from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems railties-3.1.1 lib rails commands console.rb 45 in start from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems railties-3.1.1 lib rails commands console.rb 8 in start from home stanislaw .rvm gems ruby-1.9.2-p180@310 gems railties-3.1.1 lib rails commands.rb 40 in top required from script rails 6 in require from script rails 6 in main sorry for not providing more qualitative material i don t know how to spot it right now	561
8514	3271	camwest	2011-10-09T18:22:51.000Z	[]	rails 3.1.x - nested has-many-through conditions being cached in unrelated queries	11	schema models seeds ruby # schema create-table categories force true do t t.integer approved count end create table categorizations force true do t t.integer category id t.integer categorizable id t.string categorizable type end create table certifications force true do t t.datetime created at t.datetime updated at end create-table courses force true do t t.integer certification id end #models class categorization activerecord base belongs to categorizable polymorphic true belongs to category end class category activerecord base has-many categorizations end class certification activerecord base has many courses has-many categories through courses conditions approved count 0 end class course activerecord base belongs to certification has-many categorizations as categorizable has many categories through categorizations end # seeds cert certification.create cert.categories.length #this causes the approved count condition to be cached course course.create category course.categories.create approved count 0 course.categories.to sql #this includes the approved count condition even though it shouldn t assert equal category course.categories.first there is a workaround to getting this working and that is specifying the exact path through the associations namely ruby class certification activerecord base has-many courses has many categorizations through courses has many categories through categorizations conditions approved count 0 end i m not exactly sure if this is intended behaviour either way there should be an error if you re using an invalid nest... how can i help to get this fixed	222
1295197	1131	davewhittaker	2011-10-11T06:59:43.000Z	[p:normal;;record;;t:defect]	lift-squeryl-record throws an exception when .associate is called	8	see https://groups.google.com d topic liftweb shqbvljq0ky discussion	7
507775	1391	kimchy	2011-10-12T20:53:34.000Z	[enhancement;;v0.18.0]	when searching against an index type use the type information to derive different search aspects	15	use the type provided to derive the field mapping for that type searching against a type should automatically use the search analyzer associated with it if configured	27
8514	3335	assembler	2011-10-15T09:10:48.000Z	[]	connectionpool cache not cleared automatically	5	i don t know whether this is rails pg or even heroku bug.. so i m not sure where to post this what i do know is that it started when i upgraded from rails-3.1 to rails 3.1.1 whenever i change my database schema through migrations deploy it to the heroku bamboo stack run migrations remotely my application crashes it complains about missing attribute for specific model i did some research through codebase and found out that i can fix the problem by opening heroku console and running following command activerecord base.connection pool.clear cache my table has around 50 columns it works fine on my local machine in development-mode problem only appears when app is deployed	116
8514	3353	nuoyan	2011-10-17T20:17:43.000Z	[activesupport]	activesupport json encoding options for should not return nil	9	in rails-3.0.10 activesupport-3.0.10 lib activesupport json encoding.rb the options for method returns options which can be nil if the value parameter passed in is not an array or hash this is problematic because later it passes the nil value back to the encode method value.as json options for value if we define an empty hash as as json s default optional parameter in the model code it will break because now it s nil but not empty hash please consider returning empty hash if options is nil in the options for method like below def options for value if value.is a array value.is a hash # hashes and arrays need to get encoder in the options so that they can detect circular references options .merge encoder self else options end end	131
507775	1403	kimchy	2011-10-18T02:49:52.000Z	[bug;;v0.17.9;;v0.18.0]	search a failed search request might get overrun when trying another shard	12	search a failed search request might get overrun when trying another shard	12
8514	3386	troyk	2011-10-21T07:57:33.000Z	[activerecord]	ar selecting specific fields does not set readonly to true	10	rails 3.1.1 ruby-1.9.2 ruby u user.select id username .first # # user id 1 username troy u.readonly # false	19
8514	3425	hukl	2011-10-24T18:59:08.000Z	[]	has-many through behaves as if uniq true was set even when its not	13	when i add the same object multiple times to a has-many through collection only one of those objects is actually committed instead of all three as if uniq true was set i tested this with mysql mysql2 and sqlite3 file and memory db so it seems to be rails related i ve created a proper test script to reproduce this https://gist.github.com 1309797 this worked through all of rails 3.0.x but not in any 3.1.x including the beta1 you have tests for this which pass but i suspect that fixtures or the fact that the tests run within transactions which are not committed prevent this bug from occurring	107
1295197	1137	andreak	2011-10-27T10:16:50.000Z	[p:normal;;t:enhancement;;webkit]	expose renderversion as read-only from s	6	ref this discussion http://groups.google.com group liftweb browse frm thread 709af9f248fbb24e hl en#	12
1295197	1138	hedefalk	2011-10-27T10:25:33.000Z	[p:normal;;t:defect;;webkit]	make jqueryartifacts use jquery.html instead of innerhtml	7	https://groups.google.com forum # topic liftweb lmteubixqtu short version it prevents strange things from happening using ie	16
1295197	1140	andreak	2011-11-01T21:10:09.000Z	[p:normal;;t:enhancement;;webkit]	add listenermanager.onlistenerslistemptied to be able to react when no more listeners are registered	13	this allows for situations where one has a comet-master-server which book-keeps a list of servers typically in a map and one wants to remove the comet-server from the map when no more listeners are present	35
507775	1436	jodok	2011-11-01T21:54:44.000Z	[bug;;v0.18.3;;v0.19.0.rc1]	data.path locations are unevenly filled 0.18.2	6	here s my path configuration path data ebs es1 data ebs es2 data ebs es3 data ebs es4 data ebs es5 data ebs es6 data ebs es7 data ebs es8 data unfortunately the disks are not being evenly filled es16a dev xvdl3 25g 173m 24g 1 ebs es3 es16a dev xvdl5 25g 173m 24g 1 ebs es5 es16a dev xvdl6 25g 173m 24g 1 ebs es6 es16a dev xvdl2 25g 173m 24g 1 ebs es2 es16a dev xvdl8 25g 173m 24g 1 ebs es8 es16a dev xvdl1 25g 508m 23g 3 ebs es1 es16a dev xvdl7 25g 173m 24g 1 ebs es7 es16a dev xvdl4 25g 173m 24g 1 ebs es4 but directories are beeing created on all drives but the .nrm .tis .frq... files are only on the first disk https://gist.github.com 715b9dfe48d0c5fec197	133
1295197	1142	indrajitr	2011-11-03T09:09:31.000Z	[mapper;;p:normal;;t:defect]	mappedenum does not keep the order of corresponding enumeration	9	there seems to be a regression since may 15 2011 when mappedenum s builddisplaylist was updated from pre code enum.map a a.id a.tostring .tolist code pre to pre code enum.values.map a a.id a.tostring .tolist code pre with commit description fix deprecation for 2.9 compliance . unfortunately values.map does not keep the original order of items in enum and thus rendering mappedenum via toform which uses builddisplaylist will result in a select dropdown control where items are not ordered like they are ordered in original enumeration simple fixes could be # pre code enum.values.toseq.map a a.id a.tostring .tolist code pre or # pre code enum.values.tolist.map a a.id a.tostring code pre original thread referencing the commit related discussion in scala-user list and example fixes given above https://groups.google.com d topic liftweb dmeof5zr1v8 discussion	130
460078	638	esprehn	2011-11-05T22:33:07.000Z	[component: forms;;type: feature]	support disabling options in select with ng options	8	need a way to construct select option disabled a option option b option optionc option select there s no way to express the disabled state of a specific option with ng options	32
460078	648	mhevery	2011-11-09T21:52:30.000Z	[]	anchor linking with # not working in html5mode	8	create an html page where the url is different then the base current url http://localhost 8000 build docs some path base href http://localhost 8000 build docs crate a link a href #someid go there a div id someid when clicked the browser goes to http://localhost 8000 build docs#someid instead to http://localhost 8000 build docs some path#someid	56
1295197	1150	andreak	2011-11-10T08:02:59.000Z	[p:normal;;t:defect;;webkit]	shtml.a jscmd nodeseq elemattr triggers unwanted behavior in ie	9	the following code pre code .link # shtml.a alert hi text click me code pre generates code without return false as the last statement in the onclick-handler pre code a class link href javascript onclick liftajax.lift ajaxhandler quot f237884313362yjqvoj true quot null null null click me a code pre in my application i have a window.onbeforeunload handler which the above code triggers in ie due to the missing return false . this example-code triggers the issue in ie pre code html head head body script window.onbeforeunload function alert fooka fooka script a href javascript onclick alert onbeforeunload will not trigger return false good a a href javascript onclick alert onbeforeunload will trigger bad a body html code pre after clicking the bad -link in ie the above code will show a second alert showing fooka fooka after showing onbeforeunload will trigger .	142
507775	1455	kimchy	2011-11-11T20:20:41.000Z	[bug;;v0.17.10;;v0.18.3;;v0.19.0.rc1]	search search requests execute by mistake on the networking http io thread causing other http operations to hang	18	search search requests execute by mistake on the networking http io thread causing other http operations to hang	18
460078	653	vojtajina	2011-11-14T19:07:27.000Z	[prs plz!;;type: feature]	limitto filter should accept strings as well	7	currently we support only arrays...	5
460078	654	vojtajina	2011-11-14T21:36:55.000Z	[prs plz!;;type: feature]	array.filter function should get the index as well as the value	11	the filtering function if used should get not only the value but the index as well...	16
8514	3644	laughingjohn	2011-11-16T12:29:00.000Z	[]	dump format error for symbol 0x6 - related to ruby issue #5564	12	i m new to rails so it could be me but i m trying to run a newly created empty rails project on windows 7 64 bit and getting the following 2011-11-16 11 05 21 info webrick 1.3.1 2011-11-16 11 05 21 info ruby-1.9.3 2011-10-30 i386-mingw32 2011-11-16 11 05 21 info webrick httpserver#start pid 4192 port 3000 filename c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview data encoding conversions.dump dump format error for symbol 0x6 c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview template.rb 27 in load c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview template.rb 27 in top required c ruby193 lib rubygems 1.9.1 gems coffee-rails-3.1.1 lib coffee rails template handler.rb 17 in block in top required c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 36 in instance-eval c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 36 in execute hook c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 43 in block in run load hooks c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 42 in each c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 42 in run load hooks c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview base.rb 216 in class base c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview base.rb 133 in module actionview c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actionview base.rb 8 in top required c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib abstract controller view paths.rb 90 in view paths c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib abstract controller view paths.rb 76 in prepend view-path c ruby193 lib rubygems 1.9.1 gems railties-3.1.2.rc2 lib rails engine.rb 532 in block 2 levels in class engine c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 36 in instance-eval c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 36 in execute hook c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 43 in block in run load hooks c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 42 in each c ruby193 lib rubygems 1.9.1 gems activesupport-3.1.2.rc2 lib activesupport lazyload hooks.rb 42 in run load hooks c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actioncontroller base.rb 234 in class base c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actioncontroller base.rb 171 in module actioncontroller c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actioncontroller base.rb 3 in top required c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actiondispatch middleware static.rb 31 in ext c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actiondispatch middleware static.rb 15 in match c ruby193 lib rubygems 1.9.1 gems actionpack-3.1.2.rc2 lib actiondispatch middleware static.rb 47 in call c ruby193 lib rubygems 1.9.1 gems railties-3.1.2.rc2 lib rails engine.rb 456 in call c ruby193 lib rubygems 1.9.1 gems rack-1.3.5 lib rack content length.rb 14 in call c ruby193 lib rubygems 1.9.1 gems railties-3.1.2.rc2 lib rails rack log tailer.rb 14 in call c ruby193 lib rubygems 1.9.1 gems rack-1.3.5 lib rack handler webrick.rb 59 in service c ruby193 lib ruby-1.9.1 webrick httpserver.rb 138 in service c ruby193 lib ruby-1.9.1 webrick httpserver.rb 94 in run c ruby193 lib ruby-1.9.1 webrick server.rb 191 in block in start thread it s failing in template.rb on the line conversions marshal.load file.read filename the code looks like this if defined ruby engine ruby engine ruby ruby version 1.9.3 ruby patchlevel 0 # this is a hack to work around a bug in ruby 1.9.3p0 # http://redmine.ruby-lang.org issues 5564 # # basically at runtime we may need to perform some encoding conversions on the templates # but if the converter hasn t been loaded by ruby beforehand i.e now then it won t be # able to find it due to a bug . # # however we don t know what conversions we may need to do a runtime so we load up a # marshal-dumped structure which contains a pre-generated list of all the possible conversions # and we load all of them # # in my testing this increased the process size by about 3.9 mb after the conversions array # is gc d and took around 170ms to run which seems acceptable for a workaround # # the script to dump the conversions is https://gist.github.com 1342729 filename file.join file.dirname file data encoding conversions.dump puts filename + filename begin conversions marshal.load file.read filename conversions.each do from to array to array.each do to encoding converter.new from to end end rescue e puts e.message puts e.backtrace end end the comment suggests it s related to a fix for rubyt issue #5564 apologies if i m posting to the wrong place lj	777
8514	3672	njakobsen	2011-11-17T23:36:49.000Z	[]	dependent delete all malfunctioning in 3.1	6	here s the set up class discussion activerecord base has-many posts dependent delete all end class post activerecord base belongs to discussion end in rails 3.0 calling discussion.find 1 .destroy will perform an sql-delete as follows delete from posts where discussion id 1 delete from discussions where discussion . id 1 in rails 3.1 calling the same thing will perform the following post load 247.1ms select posts . from posts where posts . discussion id 1 delete from posts where posts . discussion id 1 and posts . id in 778876 778928 779125 779175 779223 788836 etc... delete from discussions where discussions . id 1 id 1 you can create a new rails-3.1 app and this strange behaviour will happen this is broken because if you have many posts ruby eats your cpu alive	134
8514	3685	phene	2011-11-18T21:50:12.000Z	[]	pluralization in views is now broken with 3.0.11 release	9	using pluralization from a view is now broken because the count key isn t included in i18n reserved keys http://rubyonrails-security.googlegroups.com attach c65c24fbc4b6dd82 3-0-translate.patch view 1 part 3 because of this any integer passed with the count key will be converted to a string and proper pluralization does not occur	49
1295197	1152	andreak	2011-11-19T09:26:50.000Z	[p:normal;;t:enhancement;;webkit]	add liftrules.cometprocessingtimeout to have configurable timeouts for comet-requests	8	this is especially useful when developing using jrebel when requests often take way more than 5s the current hard-coded timeout .	21
1390248	280	mdfranz	2011-11-26T21:12:09.000Z	[]	centos incorrectly detected as redhat	5	root@centos6-68 # cat etc redhat-release centos linux release 6.0 final it is a capitalization issue... elif os.path.isfile etc redhat-release data open etc redhat-release r .read if data.count centos grains os centos elif data.count scientific grains os scientific else cpuarch x86 64 kernelrelease 2.6.32-042stab039.11 os redhat path usr local sbin usr local bin usr sbin usr bin sbin bin root bin ps ps -ef virtual openvzve	65
1390248	297	pcarrier	2011-11-29T02:11:46.000Z	[feature]	fill out event system	4	hooks would be simple modules that declare which actions they attach to using a meta-method like virtual evaluated on start or reload . they could get called on various minion and or master events eg minion starts master starts before minion connects to the master after minion connects successfully to the master after minion fails connecting to the master after master gets a new subscriber after minion receives an action minion receives an action that it will execute it could be helpful for tracing but not only for example on minion connection the master or minion could decide whether a highstate should be applied immediately or not	107
507775	1511	kimchy	2011-11-29T19:23:18.000Z	[bug;;v0.18.6;;v0.19.0.rc1]	querydsl bool filter does not take should clauses properly into account	11	if all should clauses do not match any doc it will cause the filter to not match any doc but instead ignore them	23
1644196	272	jeffbezanson	2011-12-01T03:04:21.000Z	[performance]	separate lu economy mode	4	currently we can t infer a simpletype for the result of lu since it might return either lu p or l u p . i m willing to give in on this in some cases but this one doesn t seem necessary especially since lu a true is not very easy to read yes a keyword-argument would be best but that still probably won t fix the type issue we need something like lu compact or lu econ . similar concerns might apply to other linear-algebra functions but it s much better if the various possible returns are prefixes of each other i.e a b a b c a b c d etc so we always know the types of values that are requested	124
8514	3886	ghost	2011-12-07T08:00:30.000Z	[]	add thead and tbody tags to table inside index.html.erb when scaffolding	11	this is mainly to make scaffolding work nicely with bootstrapping frameworks i guess this is a better html but i am not sure this is right file to make these changes otherwise please make the changes to relevant files	39
8514	3890	ebrett	2011-12-07T14:01:50.000Z	[]	extension for a complex has-many through	6	i am converting a site built for 2.3.11 to 3.1 and having difficulties with an extension has-many actions classname streamer model action through action channel entries order actions.id desc do def subscriptions proxy association.owner.subscriptions end end has-many subscriptions classname streamer model actionchannelsubscription works for 2.3 substitute proxy association.owner with proxy owner but not for 3.1.3 - the self inside the extension in 2.3 is a named-scope and it looks like in the documentation that for 3.1 it should now be a collectionproxy - but when i run a test it is an activerecord relation - which does not have a proxy association any suggestions for what could be going on here 1 hotseat validation should have a published date when published failure error @hotseat.publish nameerror undefined local variable or method proxy association for activerecord relation # . app lib streamer model action channel.rb 11 in subscriptions # . app lib streamer behaviour action subscriber.rb 25 in active subscription for model # . app lib streamer behaviour action subscriber.rb 7 in subscribe to # . app models hotseat.rb 9 in subscribe author # . lib publishable content state machine.rb 63 in publish-actions # . spec models hotseat spec.rb 79 # . spec models hotseat spec.rb 78	205
8514	3987	kjg	2011-12-14T19:20:36.000Z	[]	activerecord 3.1 setting primary-key to an column defined in the db as auto-increment but not primary-key	16	when using a legacy-database or when writing to a view if a column is set to auto-increment but the schema doesn t define it as a primary-key then activerecord fails to properly set the primary-key column in the schema cache early enough it looks like by calling #create the schema cache s colums are filled before ar base#columns gets called #columns being the method that sets the primary-key in the cache i ve included a failing test as well as a proposed fix in this gist https://gist.github.com 1410534 . in my opinion #columns is probably not the place to be putting the primary-key in the cache though since clearly the column definitions in the cache are filled before #columns is called a better fix would be to either 1 find a better time earlier in the query lifecycle to cache the primary-key as set by ar or 2 cache the column definitions later in the query cycle	157
1390248	362	redshirtlinux	2011-12-15T17:18:32.000Z	[]	shadow.set password as it pretains to ubuntu	7	hello salt-stack team this is a proposed modification to the help document associated with salt.modules.shadow ubuntu uses sha-512 hashing for passwords using simple crypt for hashing will not work when attempting to set passwords on ubuntu below i ve suggested the ubuntu users use mkpasswd and i have provided the proper syntax http://saltstack.org ref modules all salt.modules.shadow #module-salt.modules.shadow current manage the shadow file salt.modules.shadow.info name return information for the specified user cli example salt shadow.user root salt.modules.shadow.set password name password set the password for a named user the password must be a properly defined hash the password-hash can be generated with this command openssl passwd -1 plaintext password cli example salt root 1 uycixa628.9qxjpqcjm4a.. proposed manage the shadow file salt.modules.shadow.info name return information for the specified user cli example salt shadow.user root salt.modules.shadow.set password name password set the password for a named user the password must be a properly defined hash the password-hash can be generated with this command openssl passwd -1 plaintext password ubuntu uses sha-512 hashing to encrypt passwords to generate a sha-512 hashed password install and use mkpasswd please surround password in mkpasswd -m sha-512 plaintext password cli example salt root 1 uycixa628.9qxjpqcjm4a..	196
460078	693	dmanek	2011-12-19T02:06:41.000Z	[]	angular.copy does not check if source desination are equivalent	9	when source and destination are equivalent the destination object or array is emptied leading to the source being an empty array or object	23
8514	4046	kaluznyo	2011-12-20T08:27:49.000Z	[]	activerecord connectionnotestablished	2	with rails 3.2.rc1 i got activerecord-3.2.0.rc1 lib activerecord connection adapters abstract connection pool.rb 374 in retrieve connection activerecord connectionnotestablished activerecord connectionnotestablished when i try to make a rake or a rails s	32
8514	4067	rosenfeld	2011-12-20T17:57:42.000Z	[]	rake doc rails is broken	5	result of the command bundle exec rake doc rails --trace pre invoke doc rails first time invoke doc api index.html first time rake aborted don t know how to build task readme home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake-task manager.rb 49 in home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 60 in lookup prerequisite home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 56 in block in prerequisite tasks home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 56 in collect home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 56 in prerequisite tasks home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 174 in invoke prerequisites home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 157 in block in invoke with call chain home rodrigo .rvm rubies ruby-1.9.3-p0 lib ruby-1.9.1 monitor.rb 211 in mon synchronize home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 151 in invoke with call chain home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 176 in block in invoke prerequisites home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 174 in each home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 174 in invoke prerequisites home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 157 in block in invoke with call chain home rodrigo .rvm rubies ruby-1.9.3-p0 lib ruby-1.9.1 monitor.rb 211 in mon synchronize home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 151 in invoke with call chain home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake task.rb 144 in invoke home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 116 in invoke task home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 94 in block 2 levels in toplevel home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 94 in each home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 94 in block in toplevel home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 133 in standard exception-handling home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 88 in toplevel home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 66 in block in run home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 133 in standard exception-handling home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 lib rake application.rb 63 in run home rodrigo .rvm gems ruby-1.9.3-p0@global gems rake-0.9.2.2 bin rake 33 in top required home rodrigo .rvm gems ruby-1.9.3-p0@global bin rake 19 in load home rodrigo .rvm gems ruby-1.9.3-p0@global bin rake 19 in main tasks top doc rails doc api index.html pre	432
8514	4126	keynotelabs	2011-12-22T06:15:07.000Z	[]	typo in rails guides	4	under the section 13.2 passing in arguments in the rails guide active-record-query interface it has the following code class post activerecord base scope 1 week before lambda time where created at time end i believe it is missing the closing thanks	41
8514	4136	jdelstrother	2011-12-22T16:46:12.000Z	[]	route constraints match empty strings in 3.2	7	hi i have the following route get username users#show username + for twitter style profile urls routing http://localhost 3000 foo to controller users action show username foo under 3.2 this constraint now seems to match an empty string if i visit http://localhost 3000 it calls the users#show action with username as a parameter am i doing something wrong or does it need further investigation	64
8514	4138	axsuul	2011-12-22T23:31:16.000Z	[]	optional route globs eating up format	6	not even sure if route globbing is suppose to be optional but if i define a route as ruby get posts id filters posts#show rails.application.routes.recognize path posts 4 foo bar.js controller posts action show id 4 filters foo bar.js however if i change the route to ruby get posts id filters posts#show it gives me the expected params hash rails.application.routes.recognize path posts 4 foo bar.js controller posts action show id 4 filters foo bar format js is route globbing intended to not be optional	84
1295197	1173	karma4u101	2011-12-23T22:33:29.000Z	[p:normal;;t:enhancement;;utils]	extending the data-lift html5 mechanism	5	as discussed and proposed in http://groups.google.com group liftweb browse thread thread 734f48235c45faaa the data-lift html5 mechanism could be extended to also operate on the body class lift content id xxxx marker in the template to make it possible to use something like body data-lift content id xxxx or if better suited and to distinguish it from a snippet invocation to something like body data-lift-content-id xxxx	65
460078	702	groner	2012-01-02T08:09:50.000Z	[]	null in list breaks ng repeat cannot read property hashkey of null	12	this happens in 0.10.5 and 0.10.6-871252ab at least some of the time this causes digest to timeout http://jsfiddle.net gronky yqml5	20
1295197	1177	davewhittaker	2012-01-04T10:09:33.000Z	[p:normal;;t:enhancement;;webkit]	single loanwrapper invocation per request	5	loanwrappers are currently executed up to three times per request while their scaladoc seems to imply only one invocation see https://groups.google.com d topic liftweb w8bqojtcrq8 discussion	26
1390248	425	ericsnowcurrently	2012-01-04T21:32:48.000Z	[feature;;platform]	add environment-variables to cron patch	5	i need a way to set environment-variables in a crontab	10
1390248	455	whiteinge	2012-01-07T06:20:24.000Z	[documentation]	document common troubleshooting tips	4	running in the foreground using salt-call turning up logging checking for running processes	13
1295197	1180	indrajitr	2012-01-10T09:13:34.000Z	[p:normal;;t:defect]	db.asany and db.asstring are not checking for null	8	when i perform a query with net.liftweb.db.db.performquery sql for my int and double columns i am getting zeros when the database has null it seems to me that db.asany and db.asstring should check for null and leave that value as null instead of calling for example rs.getdouble pos and getting back 0.0 problem code is at https://github.com lift framework blob master persistence db src main scala net liftweb db db.scala#l414	70
1390248	497	syphernl	2012-01-12T20:13:54.000Z	[feature]	retrieve states from sql	4	it would be nice if the master could somehow retrieve the states from a database e.g mysql . another option would be generating files but that might lead to issues with large setups and it having to write to a file on a very regular basis	46
8514	4441	smparkes	2012-01-13T03:30:50.000Z	[asset pipeline]	disabling activerecord in 3.2.0.rc2 causes failure delivering assets	8	pretty much a generic rails new foo . the only changes are changing require rails all to require actioncontroller railtie require action mailer railtie require activeresource railtie require rails testunit railtie i.e leaving out activerecord then commenting out the two activerecord config s in development.rb i then stick an image http://dl.dropbox.com u 11615635 slider arrows.png in app assets images and curl it a few times the failure shows up differently whether i m running webrick unicorn or thin under webrick it s started get assets slider arrows.png for 127.0.0.1 at 2012-01-12 19 17 31 -0800 served asset slider arrows.png - 200 ok 0ms 2012-01-12 19 17 31 error nomethoderror super no superclass method close for # sprockets staticasset 0x007fe6ae29bf20 users smparkes .rvm gems ruby-1.9.2-p290 gems actionpack-3.2.0.rc2 lib actiondispatch middleware reloader.rb 92 in block 2 levels in module hook users smparkes .rvm gems ruby-1.9.2-p290 gems actionpack-3.2.0.rc2 lib actiondispatch middleware reloader.rb 92 in block 2 levels in module hook users smparkes .rvm gems ruby-1.9.2-p290 gems rack-1.4.0 lib rack body proxy.rb 14 in close users smparkes .rvm gems ruby-1.9.2-p290 gems rack-1.4.0 lib rack handler webrick.rb 75 in service users smparkes .rvm rubies ruby-1.9.2-p290 lib ruby-1.9.1 webrick httpserver.rb 111 in service users smparkes .rvm rubies ruby-1.9.2-p290 lib ruby-1.9.1 webrick httpserver.rb 70 in run users smparkes .rvm rubies ruby-1.9.2-p290 lib ruby-1.9.1 webrick server.rb 183 in block in start thread pretty much the same error under unicorn under thin the error is started get assets slider arrows.png for 127.0.0.1 at 2012-01-12 19 26 57 -0800 served asset slider arrows.png - 200 ok 0ms unexpected error while processing request deadlock recursive locking i have to fetch the image a few times timing doesn t seem crucial but i do it within a second or so	288
8514	4461	lilishane	2012-01-14T00:37:34.000Z	[]	6.8 customizing the layout error in getting started guide	9	the manual says to change application.html to body style background #eeeeee it should say body style background-color #eeeeee color wasn t changing for me until i corrected the html	29
1390248	514	syphernl	2012-01-15T10:06:28.000Z	[]	timeout should return after receiving data from all minions	9	it appears that if you set a high timeout 60-180 it actually waits that long even though the jobs on the minions might have finished long ago	27
1390248	515	syphernl	2012-01-15T10:15:45.000Z	[]	state.highstate causing traceback	3	when running state.highstate on the latest git-revision this fails because it is missing an argument 11 14 14 921 salt.minion warning the minion function caused an exception traceback most recent call last file usr lib python2.7 dist-packages salt minion.py line 210 in thread return ret return self.functions data fun data arg file usr lib python2.7 dist-packages salt modules state.py line 79 in highstate return st .call highstate file usr lib python2.7 dist-packages salt state.py line 988 in call highstate self.load dynamic matches file usr lib python2.7 dist-packages salt state.py line 884 in load dynamic self.state.functions saltutil.sync all matches.keys file usr lib python2.7 dist-packages salt modules saltutil.py line 135 in sync all ret.append sync modules env file usr lib python2.7 dist-packages salt modules saltutil.py line 66 in sync modules return sync modules env file usr lib python2.7 dist-packages salt modules saltutil.py line 45 in sync open os.path.join opts cachedir .module refresh w+ .write typeerror function takes exactly 1 argument 0 given	160
1390248	518	rubic	2012-01-16T03:10:21.000Z	[]	upgrade replaces etc salt minion configuration file	7	upgrading minions from 0.9.4 to 0.9.5 from pypi via pip completely replaced my etc salt minion configuration file without retaining any of my original settings	25
1390248	522	rubic	2012-01-16T14:37:47.000Z	[]	attributeerror module object has no attribute expectedfailure	7	running unit tests in a virtualenv generates the following stack-trace saltdev projects salt python setup.py test running test running build running build py running build ext running build scripts running test traceback most recent call last file home jbauer projects salt tests runtests.py line 39 in module main file home jbauer projects salt tests runtests.py line 20 in main tests testloader .loadtestsfromnames names file usr lib python2.6 unittest.py line 613 in loadtestsfromnames suites self.loadtestsfromname name module for name in names file usr lib python2.6 unittest.py line 576 in loadtestsfromname module import . .join parts copy file home jbauer projects salt tests simple.py line 3 in module class simpletest unittest.testcase file home jbauer projects salt tests simple.py line 6 in simpletest @unittest.expectedfailure attributeerror module object has no attribute expectedfailure	128
1390248	546	jhutchins	2012-01-19T16:35:49.000Z	[]	grains folder doesn t appear to work	7	it is possible that i have my setup wrong or that i don t understand what the proper function of this feature but from what i understand if you add grains to a grains folder in your toplevel salt directory the one with the top.sls file that it should automatically push those grains out to the minions and they should have access to them this is not happening for me i have a directory setup like this grains -- my grain.py top.sls my states -- init.sls -- conf -- substates -- init.sls -- conf when i run the command sudo salt state.highstate the my grain.py file will get pushed out to var cache salt files base grains and var cache salt extmods grains on the minion but the key items added with that grain cannot be accessed in templates or sls files using grains name.of.key and they do not appear in the list when salt-call -g is run on the minion i am running salt 0.9.5 on both the master and the minion	173
1390248	554	rubic	2012-01-21T10:09:17.000Z	[]	salt-minion upstart configuration	3	i m aware work is proceeding to get salt into debian however if someone wants to simply install salt via pip or directly from the repository the following configuration might be helpful on systems that support upstart e.g ubuntu . https://gist.github.com 1617054 it s the first hit on google-search salt minion upstart but if there s an appropriate place in the salt repo for this configuration file feel free to add it	72
1390248	557	syphernl	2012-01-21T17:49:10.000Z	[]	augeas module - was universal config modification state	8	a semi- universal configuration modified would be nice which is easier than having to resort to one file or templates which i believe are not yet implemented it should be able to change ini configs e.g my.cnf and configs without ini-like headings e.g powerdns postfix i guess that will cover most of the configs used for various pkgs	58
8514	4585	jacoz	2012-01-21T20:03:14.000Z	[]	route issue	2	hi i ve just update my env to rails 3.2.0 with rails 3.1.3 i had this route get artist song-lyrics songs#show and in my controller i got 2 params artist and song but now it doesn t work anymore if i remove -lyrics it does thanks	46
8514	4602	joneslee85	2012-01-22T12:42:19.000Z	[]	scaffold model migration generators not correctly generate decimal with precision scale shorthand	12	rails g scaffold post price decimal 7 2 generates ruby t.decimal7 price t.decimal2 price which is so wrong	18
1390248	563	chutz	2012-01-24T00:33:35.000Z	[]	pidfile support for minion and master daemons	7	hi i am working on a gentoo package and as such i am making init scripts for the minion and master daemons without an option for a pid file it s a little tricky to write a proper working init script probably the most straightforward approach is to add a --pidfile option to give the location to write the file	60
8514	4671	jrochkind	2012-01-25T16:45:39.000Z	[]	activerecord query plan logging not thread-safe	6	in a rails 3.2 app i am manually spawning threads in application code wrapping all activerecord calls in a #with connection block which the docs say is a recommended contract with activerecord http://api.rubyonrails.org classes activerecord connectionadapters connectionpool.html however the auto-explain-logging of slow queries seems not to be thread-safe it raises stack-trace below note that the stack-trace does verify that my ar use is inside a with connection block # nomethoderror private method warn called for nil nilclass home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord explain.rb 32 in logging query plan home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord relation.rb 158 in to a home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord-relation finder methods.rb 377 in findfirst home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord-relation finder methods.rb 122 in first home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord-relation finder methods.rb 335 in find one home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord-relation finder methods.rb 311 in find with ids home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord-relation finder methods.rb 107 in find home rochkind umlaut app models service wave.rb 71 in block 3 levels in handle home rochkind .rvm gems ruby-1.9.2-p290@umlaut3 gems activerecord-3.2.0 lib activerecord connection adapters abstract connection pool.rb 118 in with connection home rochkind umlaut app models service wave.rb 68 in block 2 levels in handle	225
1390248	574	terminalmage	2012-01-25T21:19:39.000Z	[]	create a cp.get dir function to recursively copy a directory	10	this should be a companion to cp.get file which works recursively on a directory	14
1390248	579	mattvryan	2012-01-26T18:22:51.000Z	[]	can t determine running state of iptables service	8	salt s technique for determining if a service is running doesn t work for the iptables service at least not on centos 5.4 as i understand it salt will try to determine the running state of a service by invoking ps -efh and then looking for the service in the resulting list by name but iptables doesn t show up as a running process even if the service is running so to speak as a result trying to use the iptables service in a state file doesn t work like other services do	93
8514	4710	atambo	2012-01-26T18:50:28.000Z	[]	3.2 use of safe constantize inside of testcase#determine default helper class breaks shared examples in rspec	16	commit e8987c30 by @josevalim seems to have broken shared examples for in rspec when using a shared example the name of the class in testcase#determine default helper class https://github.com rails rails blob e8987c30d0dc3ae5903a6d3a6e293641759b6fc4 actionpack lib actionview test case.rb#l56 is of the form # class 0x7b8b718b nested 1 which raises nameerror wrong constant name # class 0x7b8b718b nested 1 and safe constantize only handles name errors of the form uninitialized-constant .	70
460078	736	vojtajina	2012-01-26T21:08:23.000Z	[type: feature]	resource should support custom http-headers	5	when creating a resource definition it should be possible to define what headers should be sent along with the request when the action is invoked	25
1390248	584	teichopsia	2012-01-27T02:17:17.000Z	[]	rfe option to allow id hostname --short instead of --long	10	currently id s are based on fully qualified hostnames which aren t technically hostnames but dns names and collide with nis names using hostname.domainname thus allow an option to make minion ids derived from hostname --short instead	37
1390248	586	bastichelaar	2012-01-27T13:31:06.000Z	[]	cmd with runas and cwd gives problems	7	because it sets the environment using su - user -c command the cwd is ignored and the command is ran from the users homedirectory there is an option with env but its not proper implemented yet also i cant override the with env from the runcommand	46
507775	1648	kimchy	2012-01-29T19:08:47.000Z	[enhancement;;v0.19.0.rc1]	querydsl prefix query to support id	6	even though we don t index the id field explicitly we can support prefix style query filter on it in a similar manner that we support term s query filter on it - though there is also an explicit ids query . there isn t really a need to add an ids prefix style query filter since we can provide the same functionality automatically with prefix again in a similar manner that ids query filter is no longer really needed . the prefix query filter will automatically work only against the specific type s if searching against the type defined in the search request or the field is prefixed by it my type id as the prefix field name .	120
8514	4750	mschulkind	2012-01-30T03:39:04.000Z	[]	explaining querycache queries throws an exception	6	i m pretty sure i ve narrowed this down to a real fix but i figured i d file a bug report instead of a pull-request since i m not super familiar with rails internals here s the error i get reproduced on 3.2.0 and 3.2.1 # nomethoderror undefined method empty for nil nilclass home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 62 in block 2 levels in exec explain home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 57 in tap home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 57 in block in exec explain home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 56 in map home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 56 in exec explain home matt .rvm gems ruby-1.9.2-p290@gojotter gems activerecord-3.2.0 lib activerecord explain.rb 32 in logging query plan the problem seems to be here https://github.com rails rails blob master activerecord lib activerecord explain.rb#l58 this line only checks if bind is empty but not for nil so it barfs here it looks like these queries are generated in two places https://github.com rails rails blob master activerecord lib activerecord connection adapters abstract adapter.rb#l274 https://github.com rails rails blob master activerecord lib activerecord connection adapters abstract query cache.rb#l71 the latter doesn t always store a value for binds this is what causes problems	224
1390248	605	mrballcb	2012-01-30T16:01:34.000Z	[]	pkg.installed fails on odd rpm version numbers with yum	9	i have some packages that are installed on my centos boxen that pkg.installed says are not installed pam ccreds.i386 3-5 base epel-release.noarch 5-4 installed pcmciautils.x86 64 014-5 installed the above lines are copy-paste from the minion logfile in debug mode as generated by the command yum -q list i hacked up a quick salt.states.pkg.is present function which basically only does the first check that the installed function does it returns true forall packages i tested except for the three listed above the pkg.installed function uses python s distutils package and looseversion does not accept the d+- d+ package version as valid according to the looseversion documentation only the following are considered valid 1.5.1 1.5.2b2 161 3.10a 8.02 3.4j 1996.07.12 3.2.pl0 3.1.1.6 2g6 11g 0.960923 2.2beta29 1.13++ 5.5.kw 2.0b1pl0 in fact there is no such thing as an invalid version number under this scheme the rules for comparison are simple and predictable but may not always give the results you want for some definition of want . but it obviously did not expect to see the version listed above	178
8514	4764	jamiebuchanan	2012-01-30T18:04:26.000Z	[]	unexpected destroy scaffold behaviour	4	if we had the following in routes.rb resources posts resources categories resources authors and invoked rails destroy scaffold category the following occurs resources posts resources authors the whitespace newline issue causes a syntax-error in routes.rb should expected behaviour be to retain existing newlines and whitespace	45
1390248	611	fatbox	2012-01-30T20:38:41.000Z	[]	peer interface fails to return data occasionally	7	every so often the peer interface fails to return data i can reliably reproduce this by just calling publish.publish over and over again # salt-call publish.publish fqdn1 core.stateinfo fqdn2 local fqdn1 modules ... variables ... # salt-call publish.publish fqdn1 core.stateinfo fqdn2 local the interesting thing about this is that on the minion that is targeted by the publish message it actually shows that it responds to the job just like normal here are the two logging blocks from the two publish messages above 20 31 52 412 salt.minion debug executing command core.stateinfo with jid 20120130153152390260 20 31 52 418 core debug generating state for fqdn2 20 31 52 517 salt.minion info returning information for job 20120130153152390260 20 31 55 916 salt.minion debug executing command core.stateinfo with jid 20120130153155863156 20 31 55 922 core debug generating state for fqdn2 20 31 56 015 salt.minion info returning information for job 20120130153155863156 what else can i provide to help debug this	158
1390248	612	mrballcb	2012-01-30T22:03:14.000Z	[]	function file.sed not building command properly	6	the following yaml file segment etc yum.repos.d epel.repo file - sed - before enabled 1 - after enabled 0 - backup .bak ...results in this command-execution info executing command sed -n -r -e s enabled 0 gp etc yum.repos.d epel.repo in directory root debug enabled 0 enabled 0 the sed command should be built as per the following code def sed path before after limit backup .bak options -r -e flags g before sed esc before after sed esc after cmd r sed backup options limit s before after flags path .format backup -i 0 .format backup if backup else options options limit 0 .format limit if limit else before before after after flags flags path path return salt cmd.run cmd so it should have resulted in sed -i.bak -r -e s enabled 1 enabled 0 g etc yum.repos.d epel.repo it looks like it s not seeing anything i define in the backup variable it s putting the value i designated as after in the before slot and putting a literal in the after slot i can t figure out where the -n is coming from in the command is this a bug in the construction of the command or is this me using the command improperly centos57 root@ivwm21 # salt-call --version salt-call 0.9.6	214
8514	4837	jonleighton	2012-02-01T23:19:32.000Z	[]	attribute before type cast with serialized attributes is broken	9	it returns the internal struct that 3.2 is now using rather than the deserialized value this is a problem because form-helpers use this method see https://github.com rails rails issues 4004#issuecomment-3751199 this is a blocker for the next 3.2 release	39
1390248	637	thatch45	2012-02-03T16:39:14.000Z	[]	unicode issues in jinja file template	6	hi there as requested trying to push the attached file out using this sls etc bird.conf file - managed - source salt rdns bird.conf - require - pkg bird - template jinja gives me this traceback rdns01.at.allurian.local ---------- state - file name conf etc bird.conf function managed result false comment traceback most recent call last file usr lib python2.6 site-packages salt states file.py line 218 in jinja open tgt w+ .write template.render passthrough unicodeencodeerror ascii codec can t encode character u u2019 in position 169 ordinal not in range 128 changes	91
1390248	649	terminalmage	2012-02-07T03:32:06.000Z	[]	allow access to other file environments from within file state	10	this will allow one to separate the files they need to copy to the minions from the sls files themselves	20
1390248	651	ericsnowcurrently	2012-02-07T05:40:37.000Z	[]	yaml chokes on len key 1024	6	this is a problem for large ssh-keys when using the ssh auth state apparently pyyaml is strict about dict key size sort of http://pyyaml.org browser pyyaml trunk libyaml scanner.py#l91 http://pyyaml.org browser pyyaml trunk libyaml scanner.py#l280 http://yaml.org spec current.html#id2544556 http://yaml.org spec current.html#id2544696 not sure if just documenting this will be good enough in the meantime your supposed to be able to prepend the key with a indicating an explicit key . however this isn t working for me i ll update the ticket as soon as i find a workaround	89
8514	4979	daveyeu	2012-02-09T20:35:28.000Z	[]	delete all should respect a limit scope	7	hi there so we nearly just hosed a table in production by trying model.limit 100 .delete all thankfully we decided to read up on how delete all works here and tested it locally since it turns out that this simply deletes everything in the table now i get that a limit-clause doesn t make sense on a delete op but can we add a sensible translation in this case i would expect it to behave like .destroy all which appears to instantiate the records and call #destroy on each a #delete all wouldn t have to inflate ar objects here but instead could simply query for the ids to delete and then perform a delete from ... id in ... query thoughts i think we can prevent some future pain here thanks dave john	134
1390248	672	thatch45	2012-02-09T21:48:59.000Z	[]	make matching grains with complex data easier	7	tergets fro grains when the value is a dict or a list can be tricky this needs to be investigated and improved	22
1295197	1196	hoffrocket	2012-02-10T16:25:29.000Z	[p:normal;;record;;t:enhancement]	remove mapper and record safe # due to performance costs	10	noticed that instantiation of record instances is pretty expensive in terms of wall clock time due to the safe.next call during construction see discussion https://groups.google.com group liftweb browse thread thread f6a74d92d895f6ce e8d3ef6ceced6ee8#e8d3ef6ceced6ee8	32
1390248	687	sejeff	2012-02-13T20:49:00.000Z	[]	make grains detect and use etc os-release	7	more info http://0pointer.de blog projects os-release.html	6
1390248	712	pille	2012-02-17T13:32:46.000Z	[]	examples in ps module do not work	7	pre salt ps.cpu percent pre yields to pre salt-master ps.cpu percent is not available pre v0.9.7 not all modules are affected but there may be more	26
1390248	726	sejeff	2012-02-21T16:21:37.000Z	[]	support multiple virtual providers	4	use-case 1 seth awesome the django developer is also the sysadmin in a small company since he loves salt he wants to manage his django cluster with it django runs using a wsgi process-group under gunicorn which is fronted by nginx nginx uses normal sysvinit scripts on rhel to start stop and gunicorn is managed by monit seth wants to have the service state ensure that both nginx and the django service executed by monit are both set to run nginx pkg - installed service - running gunicorn service - running -type monit - user django the above state for gunicorn should run something along the lines of monit start gunicorn as user django since monit expects you to run commands to control it as the user it is currently running as use-case 2 randall the unix beard wants to use salt with solaris but doesn t really like solaris s package manager at randall s employer they manage software on solaris using rpm and yum randall wants to use identical states for installing packages on his solaris and rhel servers from a custom internal repository since the package names in the rhel and solaris yum repositories are identical	199
1644196	472	stefankarpinski	2012-02-27T03:12:41.000Z	[bug]	command-line arg processing is broken	5	bash julia -e for x in args println x end foo bar -e for x in args println x end foo bar could not open file foo the -e and for x in args println x end should not be included in args and it should not try to load foo as a source file when the -e flag is used	61
1390248	796	blast-hardcheese	2012-02-29T18:51:21.000Z	[feature]	now that we have debconf seeding on to dpkg-reconfigure	9	i m not sure what the best way to do this would be but it would be nice if there were a way to dpkg-reconfigure based on whether or not the file specified by pkg - debconf has changed since the last time libpam-ldapd pkg - installed - debconf salt debconf ldap-client.ans - reconfigure would be my first guess but the relationship between debconf and reconfigure is ambiguous i guess dpkg-reconfiguring every time highstate is run wouldn t be the end of the world it just seems wasteful another issue here is that debconf is not checked if the package is already installed... so maybe that s the real target here thoughts	112
8514	5307	visoft	2012-03-06T19:19:39.000Z	[]	layout rendered for javascript html fallback	6	there is a breaking change between rails 3.2.1 and 3.2.2... given the following controller ruby class notescontroller applicationcontroller respond to html js def new @note note.new respond-with @note end end in rails 3.2.1 if you called the javascript format e.g notes new.js you would have the new view rendered without the layout in rails 3.2.2 the layout is now generated i don t believe this was an intended change and is in fact a bug the change in processing may be related to https://github.com rails rails issues 5025 but i haven t spent the time to see if in fact it is part of the issue	106
8514	5308	rgarver	2012-03-06T19:37:42.000Z	[]	missing-template for missing partial due to format confusion	8	in rails 3.2.2 if you render a template of a different format from the page eg embedding some json via jbuilder the layout will start trying to render any partials as that format json in the example earlier . index.html.haml haml h1 hi javascript window.userjson # render template users show.json .html safe layouts welcome.html.haml haml html head body yield render partial layouts analytics the above will fail unless i append formats html to the analytics partial i ve put together a simple example of the failure case below https://github.com rgarver rails-nested-formats this may be related to #5025	97
8514	5330	jrochkind	2012-03-07T18:21:50.000Z	[]	connectionpool.with connection does not always properly release connection	8	okay i think i m finally getting to the bottom of my activerecord concurrency issues think i ve actually found and identified the bug rails 3.2.2 connectionpool.with connection is supposed to checkout a connection assigned to the thread if one isn t already checked out then check it back in after the yield if a new one was checked out by with connection i believe it is broken i have a demonstration rails app i can put somewhere if someone needs it but i guess i should really come up with a failing test and perhaps a fix in 3.2 stable branch i believe the problem is right here in 3.2.2 tagged snapshot of connection pool https://github.com rails rails blob c606fe2c6f1112d13b5ff01f3204e29cbdb09649 activerecord lib activerecord connection adapters abstract connection pool.rb#l117 with connection decides if it s a fresh connection situation by calling active connection . then it just yields the block -- if a connection wasn t already checked out to the thread any activerecord activity will automatically check one out then after yield it calls release connection only if there was fresh connection the problem is that the current implementation of active connection does not check to see if the current thread had a checked out connection it checks to see if any thread had a checked out connection https://github.com rails rails blob c606fe2c6f1112d13b5ff01f3204e29cbdb09649 activerecord lib activerecord connection adapters abstract connection pool.rb#l100 so if some thread somewhere has an active connection and then another thread uses #with connection -- a new connection will be checked out for that thread but not checked in at the end of with connection bug i think this is what s going on i think @tenderlove may be the only active committer that actually understands this stuff at all would greatly appreciate some feedback i can try to create a failing testcase and even a patch will probably require the introduction of a new method #current thread connection or something since #active connection has the semantics it does now it may not always have had them but who knows if changing them now would break something else . but i ve never contributed to rails before not sure about the structure of the tests and getting a setup that allows you to run tests and such appreciate any pointers presumably i d work off of the rails 3.2 stable branch for a patch in a local copy i ve already implemented a suggested fix and it does make it pass my previously failing local testcase in a local rails app . just need to figure out how to add the test to ar proper and run all ar tests to make sure it doesn t break any existing ones	454
203666	781	rb2k	2012-03-08T12:24:51.000Z	[]	update excon to 0.10.0	4	bundler tried to force me on fog 0.7.2 because i had excon 0.10.0 in the gemfile apparently fog 0.7.2 didn t have properly locked down versioning for the excon dependency in gemfile fog 1.1.2 ruby depends on excon 0.9.0 ruby any reason why we wouldn t want to update 0.10.0	50
460078	784	edwardhotchkiss	2012-03-12T13:37:09.000Z	[]	route.when route should also resolve route	6	for a get this is a pretty standard pattern it s also a lovely aesthetic with leaving off a trailing-slash being a legacy common trait on a static file -- index.html route some item item5.html . atm i m using javascript route.when user redirectto user login route.when user redirectto user login i could work a pull-request up if you guys were interested otherwise keep on using my helper fn - edward hotchkiss	72
460078	807	handitover	2012-03-19T15:09:29.000Z	[]	1.0.0rc1 filter.filter seems broken	4	i can t get my own examples to work when following the examples on the api angularjs page http://docs-next.angularjs.org api angular.module.ng filter.filter not even the example on the page works neither on the page itself or on the jsfiddle page link from the page . seems there is a bug in the code or in the documentation or in both . tested on firefox 9.0.1 and on internet-explorer 9.0 windows 7 best regards david	74
507775	1804	kimchy	2012-03-22T12:27:13.000Z	[bug;;v0.19.2;;v0.20.0.rc1]	node stats os stats reporting free as the key instead of used	12		0
8514	5667	benedikt	2012-03-30T12:30:48.000Z	[]	infinite-recursion when preloading associations and using custom class methods	9	i have a problem with preloading associations when combined with a call to a custom class-method the issue is reproducible with this simple setup ruby class user activerecord base belongs to group def self.fancy id find id end end class group activerecord base has-many users end everything works fine when calling something like this user.preload group users .find 1 user load 0.2ms select users . from users where users . id limit 1 id 1 group load 0.3ms select groups . from groups where groups . id in 1 user load 0.5ms select users . from users where users . group id in 1 when calling user.preload group users .fancy 1 there is an infinite-recursion which ends-with a systemstackerror stack-level too deep user.preload group users .fancy 1 user load 0.2ms select users . from users where users . id limit 1 id 1 group load 0.2ms select groups . from groups where groups . id in 1 user load 0.4ms select users . from users where users . group id in 1 group load 0.2ms select groups . from groups where groups . id in 1 user load 0.3ms select users . from users where users . group id in 1 group load 0.1ms select groups . from groups where groups . id in 1 user load 0.3ms select users . from users where users . group id in 1 ... systemstackerror stack-level too deep using eager load instead of preload is working as expected this issue exists in both rails 3.2.2 and current master as i d get a real performance benefit for my application i m willing to help as much as possible in fixing this looking through the source i could not find a cause yet any pointers what might be the reason are appreciated	298
1644196	676	pragmaticcypher	2012-04-07T12:50:27.000Z	[]	build-error on linux	3	make cleanall make ..... cc ui repl-basic.o link uijulia-release-basic cc ui repl-readline.o link uijulia-release-readline link ui webserverjulia-release-webserver network.cpp in function int network wrappers wrap bind int network.cpp 76 22 error close was not declared in this scope network.cpp 85 22 error close was not declared in this scope network.cpp in function void network wrappers wrap close int network.cpp 185 19 error close was not declared in this scope make 3 home kapone code c julia julia-release-webserver error 1 make 2 julia-release error 2 make 1 julia-release error 2 make release error 2	92
8514	5797	gmcnaughton	2012-04-10T02:25:08.000Z	[]	error calling dup on activerecord model with serialized field	9	starting with rails 3.2.2 i get the following error when calling dup on a model with a serialized field ruby # app models my obj.rb class myobj activerecord base serialize content json end rails c 1.9.3-p0 001 myobj.new content a b .dup typeerror can t convert hash into string from gems json-1.6.6 libjson common.rb 148 in initialize from gems json-1.6.6 libjson common.rb 148 in new from gems json-1.6.6 libjson common.rb 148 in parse from gems json-1.6.6 libjson common.rb 320 in load from gems activerecord-3.2.3 lib activerecord attribute methods serialization.rb 24 in unserialize from gems activerecord-3.2.3 lib activerecord attribute methods serialization.rb 15 in unserialized value from gems activerecord-3.2.3 lib activerecord attribute methods read.rb 82 in temp from gems activerecord-3.2.3 lib activerecord attribute methods read.rb 46 in type cast attribute from gems activerecord-3.2.3 lib activerecord attribute methods read.rb 126 in read attribute from gems activerecord-3.2.3 lib activerecord attribute methods.rb 200 in attribute for inspect from gems activerecord-3.2.3 lib activerecord base.rb 643 in block in inspect from gems activerecord-3.2.3 lib activerecord base.rb 641 in collect from gems activerecord-3.2.3 lib activerecord base.rb 641 in inspect from gems railties-3.2.3 lib rails commands console.rb 47 in start from gems railties-3.2.3 lib rails commands console.rb 8 in start from gems railties-3.2.3 lib rails commands.rb 41 in top required from script rails 6 in require from script rails 6 in main 1.9.3-p0 002 the above code works on rails 3.2.1 it appears to be related to this commit https://github.com rails rails commit 75ffd8701d04d943eddcafee08e19b90bce8936c#activerecord lib activerecord attribute methods serialization.rb for issue #4837 the problem appears to be that after duping the code tries to unserialize an already-unserialized value the json parser chokes when it receives a hash instead of a string	282
460078	869	omedalus	2012-04-10T20:21:50.000Z	[]	radio buttons under ng repeat have incorrect initial check values	10	if you use ng repeat to iterate over items in a list and you have radio buttons whose check states are supposed to be set-based on properties of those items then the radio buttons don t come up with the correct check states when the page gets displayed example at http://jsfiddle.net ysy65 2	53
1644196	706	pao	2012-04-12T00:23:07.000Z	[bug;;build]	printf broken due to missing u8 strlen	7	i see that gnulib provides it but there s no references to unistr.h anywhere in the source julia strlen abcd dlsym julia undefined-symbol u8 strlen julia strlen abcd dlsym julia undefined-symbol u8 strlen julia strlen abcd segmentation-fault	37
460078	875	bdunklau	2012-04-12T13:37:26.000Z	[type: bug]	post s should not require default params	7	i was asked to create this issue after submitting this question http://groups.google.com group angular browse thread thread bb21293203c7c68f# apparently when creating an angular.service you have to specify default params in the second argument of resource in order for the @-style post parameters to be evaluated if you don t specify default params then your @params will be passed to the webserver as literals as my post above shows	68
460078	877	idosela	2012-04-12T22:13:17.000Z	[]	jquery jquery lite conflict	4	when trying to load jquery before angular 1.0.0rc5 it seems jquery is ignored which result in an exception to recreate please run the following with the console open http://jsfiddle.net lc7sb	30
8514	5847	chengguangnan	2012-04-14T15:47:34.000Z	[]	rails runner loaderror on observers	5	rails new testapp rails g model car rails g observer car # add car observer to config application.rb rails r car.all .rvm gems ruby-1.9.3-p0 gems railties-3.2.3 lib rails commands runner.rb 53 in eval expected workspace word testapp models car.rb to define car loaderror from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport dependencies.rb 192 in block in const missing from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport dependencies.rb 190 in each from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport dependencies.rb 190 in const missing from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport inflector methods.rb 229 in block in constantize from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport inflector methods.rb 228 in each from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport inflector methods.rb 228 in constantize from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport core ext string inflections.rb 54 in constantize from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 210 in observed class from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 203 in observed classes from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 223 in observed classes from .rvm gems ruby-1.9.3-p0 gems activerecord-3.2.3 lib activerecord observer.rb 96 in observed classes from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 219 in initialize from .rvm rubies ruby-1.9.3-p0 lib ruby-1.9.1 singleton.rb 141 in new from .rvm rubies ruby-1.9.3-p0 lib ruby-1.9.1 singleton.rb 141 in block in instance from internal prelude 10 in synchronize from .rvm rubies ruby-1.9.3-p0 lib ruby-1.9.1 singleton.rb 139 in instance from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 86 in instantiate observer from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 59 in block in instantiate observers from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 59 in each from .rvm gems ruby-1.9.3-p0 gems activemodel-3.2.3 lib activemodel observing.rb 59 in instantiate observers from .rvm gems ruby-1.9.3-p0 gems activerecord-3.2.3 lib activerecord railtie.rb 111 in block 2 levels in class railtie from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport lazyload hooks.rb 36 in instance-eval from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport lazyload hooks.rb 36 in execute hook from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport lazyload hooks.rb 43 in block in run load hooks from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport lazyload hooks.rb 42 in each from .rvm gems ruby-1.9.3-p0 gems activesupport-3.2.3 lib activesupport lazyload hooks.rb 42 in run load hooks from .rvm gems ruby-1.9.3-p0 gems activerecord-3.2.3 lib activerecord base.r	392
1390248	1103	tvaughan	2012-04-19T17:49:04.000Z	[]	trouble with service.disable and service.enable false	6	this is on ubuntu-12.04 with salt 0.9.8 from the ppa on launchpad.net service.stop does work ps auxw grep lighttpd www-data 24364 0.0 0.0 46780 1108 s 13 48 0 00 usr sbin lighttpd -f etc lighttpd lighttpd.conf sudo salt service.stop lighttpd beisbol true ps auxw grep lighttpd # crickets but service.disable does not work ls etc rc lighttpd -1 etc rc0.d k20lighttpd etc rc1.d k20lighttpd etc rc2.d s20lighttpd etc rc3.d s20lighttpd etc rc4.d s20lighttpd etc rc5.d s20lighttpd etc rc6.d k20lighttpd sudo salt service.disable lighttpd beisbol true ls etc rc lighttpd -1 etc rc0.d k20lighttpd etc rc1.d k20lighttpd etc rc2.d s20lighttpd etc rc3.d s20lighttpd etc rc4.d s20lighttpd etc rc5.d s20lighttpd etc rc6.d k20lighttpd same result with lighttpd pkg - latest - require - pkg www-packages - pkg spawn-fcgi service - dead - enable false ps - sudo update-rc.d -f lighttpd remove and sudo update-rc.d lighttpd disable both work as expected	149
8514	5908	linuxonrails	2012-04-20T13:10:48.000Z	[actionview]	html5-validation error with options from collection for select	8	with options from collection for select helper i have a html5 error in w3c validator http://apidock.com rails actionview helpers formoptionshelper options from collection for select options from collection for select collection value method text method selected nil public line 64 column 106 the first child option element of a select element with a required attribute and without a multiple attribute and whose size is 1 must have either an empty value attribute or must have no text content user codigo pais required required option value af afganist n option i cannot add first option without value with this helper	99
203666	875	nirvdrum	2012-04-24T18:39:06.000Z	[]	loosen multi json version	4	i commented on the merge that brought multi json up to 1.3.2 here https://github.com fog fog commit 56403ea5f40fc76582d23abfdabe45c8ee7c23f5 but i think this is something that really should be relaxed fog shouldn t force an entire dependency chain upgrade on any app it certainly shouldn t do that in a point release this change was introduced in 1.3.1 . granted multi json put us in a very odd position here but i think the proper thing to do is drop the dependency version back to 1.0 and use respond to to choose between the two apis or we should go back to the deprecated api and cope with the messages flat out changing the api though is akin to multi json 2.0 upgrade -- it breaks anything still using a 1.x version	131
460078	908	dandoyon	2012-04-26T04:16:13.000Z	[type: feature]	support for strict equal and strict not equal operators in expressions	11	dev s trying to do the right thing will use these in expressions and run into problems	17
8514	5990	ahawkins	2012-04-26T04:56:05.000Z	[activerecord]	activerecord base#pluck does not handle joins includes correctly	8	generate a scope with joins or includes irb main 028 0 todo.includes user .where users.id 1 sql 1.0ms select todos . id as t0 r0 todos . description as t0 r1 todos . user id as t0 r2 todos . finish by as t0 r3 todos . reference id as t0 r4 todos . reference-type as t0 r5 todos . created at as t0 r6 todos . updated at as t0 r7 todos . kind as t0 r8 todos . account id as t0 r9 todos . campaign id as t0 r10 todos . finished as t0 r11 todos . call list id as t0 r12 users . id as t1 r0 users . name as t1 r1 users . email as t1 r2 users . phone as t1 r3 users . timezone as t1 r4 users . account id as t1 r5 users . created at as t1 r6 users . updated at as t1 r7 users . api-key as t1 r8 users . locale as t1 r9 users . public as t1 r10 users . provider as t1 r11 users . uid as t1 r12 users . avatar as t1 r13 users . admin as t1 r14 from todos left outer-join users on users . id todos . user id where users . id 1 now let s stay you want to pluck the ids from that scope irb main 031 0 todo.includes user .where users.id 1 .pluck todos.id 0.5ms select todos.id from todos where users . id 1 activerecord statementinvalid pg error error missing from-clause entry for table users line 1 select todos.id from todos where users . id 1 select todos.id from todos where users . id 1 seems there is an error with pluck perhaps the postgres adapter that joins and includes are not included when generating the sql to select the column for pluck also using select id seems to have no effect when using joins includes irb main 001 0 todo.includes user .where users.id 1 .select id sql 1.7ms select todos . id as t0 r0 todos . description as t0 r1 todos . user id as t0 r2 todos . finish by as t0 r3 todos . reference id as t0 r4 todos . reference-type as t0 r5 todos . created at as t0 r6 todos . updated at as t0 r7 todos . kind as t0 r8 todos . account id as t0 r9 todos . campaign id as t0 r10 todos . finished as t0 r11 todos . call list id as t0 r12 users . id as t1 r0 users . name as t1 r1 users . email as t1 r2 users . phone as t1 r3 users . timezone as t1 r4 users . account id as t1 r5 users . created at as t1 r6 users . updated at as t1 r7 users . api-key as t1 r8 users . locale as t1 r9 users . public as t1 r10 users . provider as t1 r11 users . uid as t1 r12 users . avatar as t1 r13 users . admin as t1 r14 from todos left outer-join users on users . id todos . user id where users . id 1 rails 3.2.3	537
460078	909	johnlindquist	2012-04-26T20:55:41.000Z	[]	error text is undefined undefined when directive s scope property bind is undeclared in element	15	see this gist https://gist.github.com 2503092 if you define a my-bind attribute in the element the error doesn t happen it only appears when you do not add a my-bind attribute	30
460078	912	maxmart	2012-04-27T07:22:50.000Z	[]	position in repeat directive can t be both first and last at the sametime	14	currently the position property inside the repeat directive is either first middle or last . but if the list only has-one item the position is set to first by angular even though it is actually both the first and last item since this subtlety can t reasonably be represented by a single variable something else is required oneway to solve it would be to have three boolean properties first middle and last instead	73
507775	1892	kimchy	2012-04-29T14:13:10.000Z	[bug;;v0.19.3;;v0.20.0.rc1]	jdk 7 requires minimum of 256k stack-size update scripts to set it	12		0
1390248	1189	baijum	2012-05-03T03:36:23.000Z	[]	module imported but unused	4	there are few modules which are imported but unused can i provide one pull-request pyflakes salt grep imported but unused salt state.py 33 template shebang imported but unused salt client.py 36 datetime imported but unused salt minion.py 21 minionerror imported but unused salt crypt.py 14 base64 imported but unused salt crypt.py 18 md5 imported but unused salt fileclient.py 14 stat imported but unused salt states file.py 79 codecs imported but unused salt states file.py 85 imp imported but unused salt states file.py 88 traceback imported but unused salt states cmd.py 45 pwd imported but unused salt modules file.py 16 sys imported but unused salt modules solr.py 65 socket imported but unused salt modules rh ip.py 6 os imported but unused salt modules rh ip.py 8 dirname imported but unused salt modules state.py 8 sys imported but unused salt modules mdadm.py 6 os imported but unused salt modules win file.py 15 win32api imported but unused salt modules win file.py 16 win32con imported but unused salt modules win service.py 5 os imported but unused salt modules yumpkg5.py 7 pkgparseerror imported but unused salt modules network.py 8 salt imported but unused salt modules gentoo service.py 6 os imported but unused salt modules win shadow.py 5 os imported but unused salt modules win network.py 7 re imported but unused salt modules win network.py 8 salt imported but unused salt modules rh service.py 7 os imported but unused salt utils saltminionservice.py 5 os imported but unused salt utils templates.py 7 shutil imported but unused salt utils templates.py 8 difflib imported but unused salt utils templates.py 9 hashlib imported but unused salt utils templates.py 17 urlparse imported but unused salt utils templates.py 18 copy imported but unused salt renderers yaml jinja.py 14 get template imported but unused salt renderers json jinja.py 13 get template imported but unused salt renderers yaml mako.py 12 template imported but unused salt renderers py.py 9 imp imported but unused salt cli init .py 746 logging imported but unused	327
507775	1905	snazy	2012-05-03T10:10:34.000Z	[bug;;v0.19.4;;v0.20.0.rc1]	classcastexception during percolation query	4	elasticsearch v0.19.3 lucene 3.6 org.elasticsearch.index.cache.filter.weighted.weightedfiltercache.filtercachefilterwrapper#getdocidset gets an instance of org.apache.lucene.index.memory.custommemoryindex.memoryindexreader but tries to cast it to a org.apache.lucene.index.segmentreader in weightedfiltercache line #169 the custommemoryindex is created in org.elasticsearch.index.percolator.percolatorexecutor#percolate docandqueryrequest at line 316 this is worked with elasticsearch 0.19.2 lucene 3.5 full stack-trace org.elasticsearch.common.util.concurrent.uncategorizedexecutionexception failed execution at org.elasticsearch.action.support.adapteractionfuture.rethrowexecutionexception adapteractionfuture.java 90 at org.elasticsearch.action.support.adapteractionfuture.actionget adapteractionfuture.java 49 at search.percolationtest.percolaterawtest percolationtest.java 139 ... at com.intellij.rt.execution.application.appmain.main appmain.java 120 caused by java.util.concurrent.executionexception java.lang.classcastexception org.apache.lucene.index.memory.custommemoryindex memoryindexreader cannot be cast to org.apache.lucene.index.segmentreader at org.elasticsearch.common.util.concurrent.basefuture sync.getvalue basefuture.java 285 at org.elasticsearch.common.util.concurrent.basefuture sync.get basefuture.java 272 at org.elasticsearch.common.util.concurrent.basefuture.get basefuture.java 113 at org.elasticsearch.action.support.adapteractionfuture.actionget adapteractionfuture.java 45 ... 29 more caused by java.lang.classcastexception org.apache.lucene.index.memory.custommemoryindex memoryindexreader cannot be cast to org.apache.lucene.index.segmentreader at org.elasticsearch.index.cache.filter.weighted.weightedfiltercache filtercachefilterwrapper.getdocidset weightedfiltercache.java 169 at org.apache.lucene.search.filteredquery.getfilteredscorer filteredquery.java 136 at org.apache.lucene.search.filteredquery 1.scorer filteredquery.java 117 at org.apache.lucene.search.indexsearcher.search indexsearcher.java 577 at org.apache.lucene.search.indexsearcher.search indexsearcher.java 383 at org.elasticsearch.index.percolator.percolatorexecutor.percolate percolatorexecutor.java 359 at org.elasticsearch.index.percolator.percolatorexecutor.percolate percolatorexecutor.java 303 at org.elasticsearch.index.percolator.percolatorservice.percolate percolatorservice.java 110 at org.elasticsearch.action.percolate.transportpercolateaction.shardoperation transportpercolateaction.java 93 at org.elasticsearch.action.percolate.transportpercolateaction.shardoperation transportpercolateaction.java 41 at org.elasticsearch.action.support.single.custom.transportsinglecustomoperationaction asyncsingleaction 2.run transportsinglecustomoperationaction.java 176 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1110 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 603 at java.lang.thread.run thread.java 722	165
8514	6147	yahonda	2012-05-03T19:41:11.000Z	[activerecord]	ora-00907 missing right parenthesis since #5153 merged	7	since pull-request #5153 commit 07e5301e697d6a02ed3c079aba07c261d53c1846 has been merged to the rails-master branch these 4 tests got errors with the oracle enhanced adapter this error message is not straightforward although it means oracle does not allow order by clause within subquery sql ora-00907 missing right parenthesis sql select from select people . from people where people . id a1 order by people . id asc for update where rownum 1 ruby arconn oracle ruby -itest test cases locking test.rb using oracle run options --seed 58662 # running tests ... snip ... finished tests in 21.402423s 1.4484 tests s 4.8593 assertions s 1 error test eager find with lock pessimisticlockingtest activerecord statementinvalid ocierror ora-00907 missing right parenthesis select from select people . from people where people . id a1 order by people . id asc for update where rownum 1 stmt.c 253 in oci8lib 191.so home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems ruby-oci8-2.1.2 lib oci8 oci8.rb 474 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced oci connection.rb 143 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 639 in block in exec query home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 288 in block in log home yahonda git rails activesupport lib activesupport notifications instrumenter.rb 18 in instrument home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 283 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1322 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 619 in exec query home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1276 in select home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 18 in selectall home yahonda git rails-activerecord lib activerecord connection adapters abstract query cache.rb 63 in selectall home yahonda git rails-activerecord lib activerecord querying.rb 40 in block in find-by-sql home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord querying.rb 39 in find-by-sql home yahonda git rails-activerecord lib activerecord relation.rb 174 in exec queries home yahonda git rails-activerecord lib activerecord relation.rb 164 in block in to a home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord relation.rb 163 in to a home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 365 in findfirst home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 99 in first home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 126 in first home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 313 in find one home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 299 in find with ids home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 40 in find home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 119 in find test cases locking test.rb 372 in block 2 levels in test eager find with lock home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 192 in transaction home yahonda git rails-activerecord lib activerecord transactions.rb 208 in transaction test cases locking test.rb 371 in block in test eager find with lock home yahonda git rails activesupport lib activesupport test case.rb 52 in assert nothing raised test cases locking test.rb 370 in test eager find with lock home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems mocha-0.11.3 lib mocha integration minitest version 230 to 262.rb 28 in run home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 29 in block in run home yahonda git rails activesupport lib activesupport callbacks.rb 354 in run 4574323970468579703 setup callbacks home yahonda git rails activesupport lib activesupport callbacks.rb 80 in run callbacks home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 28 in run 2 error test sane find with lock pessimisticlockingtest activerecord statementinvalid ocierror ora-00907 missing right parenthesis select from select people . from people where people . id a1 order by people . id asc for update where rownum 1 stmt.c 253 in oci8lib 191.so home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems ruby-oci8-2.1.2 lib oci8 oci8.rb 474 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced oci connection.rb 143 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 639 in block in exec query home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 288 in block in log home yahonda git rails activesupport lib activesupport notifications instrumenter.rb 18 in instrument home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 283 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1322 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 619 in exec query home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1276 in select home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 18 in selectall home yahonda git rails-activerecord lib activerecord connection adapters abstract query cache.rb 63 in selectall home yahonda git rails-activerecord lib activerecord querying.rb 40 in block in find-by-sql home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord querying.rb 39 in find-by-sql home yahonda git rails-activerecord lib activerecord relation.rb 174 in exec queries home yahonda git rails-activerecord lib activerecord relation.rb 164 in block in to a home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord relation.rb 163 in to a home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 365 in findfirst home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 99 in first home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 126 in first home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 313 in find one home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 299 in find with ids home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 40 in find home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 119 in find test cases locking test.rb 361 in block 2 levels in test sane find with lock home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 192 in transaction home yahonda git rails-activerecord lib activerecord transactions.rb 208 in transaction test cases locking test.rb 360 in block in test sane find with lock home yahonda git rails activesupport lib activesupport test case.rb 52 in assert nothing raised test cases locking test.rb 359 in test sane find with lock home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems mocha-0.11.3 lib mocha integration minitest version 230 to 262.rb 28 in run home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 29 in block in run home yahonda git rails activesupport lib activesupport callbacks.rb 354 in run 4574323970468579703 setup callbacks home yahonda git rails activesupport lib activesupport callbacks.rb 80 in run callbacks home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 28 in run 3 error test sane lock method pessimisticlockingtest activerecord statementinvalid ocierror ora-00907 missing right parenthesis select from select people . from people where people . id a1 order by people . id asc for update where rownum 1 stmt.c 253 in oci8lib 191.so home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems ruby-oci8-2.1.2 lib oci8 oci8.rb 474 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced oci connection.rb 143 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 639 in block in exec query home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 288 in block in log home yahonda git rails activesupport lib activesupport notifications instrumenter.rb 18 in instrument home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 283 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1322 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 619 in exec query home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1276 in select home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 18 in selectall home yahonda git rails-activerecord lib activerecord connection adapters abstract query cache.rb 63 in selectall home yahonda git rails-activerecord lib activerecord querying.rb 40 in block in find-by-sql home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord querying.rb 39 in find-by-sql home yahonda git rails-activerecord lib activerecord relation.rb 174 in exec queries home yahonda git rails-activerecord lib activerecord relation.rb 164 in block in to a home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord relation.rb 163 in to a home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 365 in findfirst home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 99 in first home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 126 in first home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 313 in find one home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 299 in find with ids home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 40 in find home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 119 in find home yahonda git rails-activerecord lib activerecord persistence.rb 273 in block in reload home yahonda git rails-activerecord lib activerecord scoping default.rb 42 in block in unscoped home yahonda git rails-activerecord lib activerecord relation.rb 240 in scoping home yahonda git rails-activerecord lib activerecord scoping default.rb 42 in unscoped home yahonda git rails-activerecord lib activerecord persistence.rb 273 in reload home yahonda git rails-activerecord lib activerecord attribute methods dirty.rb 39 in reload home yahonda git rails-activerecord lib activerecord autosave association.rb 223 in reload home yahonda git rails-activerecord lib activerecord locking pessimistic.rb 62 in lock test cases locking test.rb 384 in block 2 levels in test sane lock method home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 192 in transaction home yahonda git rails-activerecord lib activerecord transactions.rb 208 in transaction test cases locking test.rb 381 in block in test sane lock method home yahonda git rails activesupport lib activesupport test case.rb 52 in assert nothing raised test cases locking test.rb 380 in test sane lock method home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems mocha-0.11.3 lib mocha integration minitest version 230 to 262.rb 28 in run home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 29 in block in run home yahonda git rails activesupport lib activesupport callbacks.rb 354 in run 4574323970468579703 setup callbacks home yahonda git rails activesupport lib activesupport callbacks.rb 80 in run callbacks home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 28 in run 4 error test with lock commits transaction pessimisticlockingtest activerecord statementinvalid ocierror ora-00907 missing right parenthesis select from select people . from people where people . id a1 order by people . id asc for update where rownum 1 stmt.c 253 in oci8lib 191.so home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems ruby-oci8-2.1.2 lib oci8 oci8.rb 474 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced oci connection.rb 143 in exec home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 639 in block in exec query home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 288 in block in log home yahonda git rails activesupport lib activesupport notifications instrumenter.rb 18 in instrument home yahonda git rails-activerecord lib activerecord connection adapters abstract adapter.rb 283 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1322 in log home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 619 in exec query home yahonda git oracle-enhanced lib activerecord connection adapters oracle enhanced adapter.rb 1276 in select home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 18 in selectall home yahonda git rails-activerecord lib activerecord connection adapters abstract query cache.rb 63 in selectall home yahonda git rails-activerecord lib activerecord querying.rb 40 in block in find-by-sql home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord querying.rb 39 in find-by-sql home yahonda git rails-activerecord lib activerecord relation.rb 174 in exec queries home yahonda git rails-activerecord lib activerecord relation.rb 164 in block in to a home yahonda git rails-activerecord lib activerecord explain.rb 37 in logging query plan home yahonda git rails-activerecord lib activerecord relation.rb 163 in to a home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 365 in findfirst home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 99 in first home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 126 in first home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 313 in find one home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 299 in find with ids home yahonda git rails-activerecord lib activerecord-relation finder methods.rb 40 in find home yahonda .rvm gems ruby-1.9.3-p194@railsmaster bundler gems activerecord deprecated finders-59a4f84c48be lib activerecord deprecated finders relation.rb 119 in find home yahonda git rails-activerecord lib activerecord persistence.rb 273 in block in reload home yahonda git rails-activerecord lib activerecord scoping default.rb 42 in block in unscoped home yahonda git rails-activerecord lib activerecord relation.rb 240 in scoping home yahonda git rails-activerecord lib activerecord scoping default.rb 42 in unscoped home yahonda git rails-activerecord lib activerecord persistence.rb 273 in reload home yahonda git rails-activerecord lib activerecord attribute methods dirty.rb 39 in reload home yahonda git rails-activerecord lib activerecord autosave association.rb 223 in reload home yahonda git rails-activerecord lib activerecord locking pessimistic.rb 62 in lock home yahonda git rails-activerecord lib activerecord locking pessimistic.rb 71 in block in with lock home yahonda git rails-activerecord lib activerecord connection adapters abstract database statements.rb 192 in transaction home yahonda git rails-activerecord lib activerecord transactions.rb 208 in transaction home yahonda git rails-activerecord lib activerecord transactions.rb 232 in transaction home yahonda git rails-activerecord lib activerecord locking pessimistic.rb 70 in with lock test cases locking test.rb 392 in test with lock commits transaction home yahonda .rvm gems ruby-1.9.3-p194@railsmaster gems mocha-0.11.3 lib mocha integration minitest version 230 to 262.rb 28 in run home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 29 in block in run home yahonda git rails activesupport lib activesupport callbacks.rb 354 in run 4574323970468579703 setup callbacks home yahonda git rails activesupport lib activesupport callbacks.rb 80 in run callbacks home yahonda git rails activesupport lib activesupport testing setup and teardown.rb 28 in run 31 tests 104 assertions 0 failures 4 errors 0 skips	2380
460078	933	vojtajina	2012-05-04T11:29:28.000Z	[type: bug]	ng-repeat does not work with primitive-types	6	http://jsfiddle.net alexpetrov trxzr	3
2935735	852	mikechambers	2012-05-09T20:50:38.000Z	[fixed but not closed]	when resizing project panel cursor should remain as resize	9	when you resize the project panel the cursor will switch between resize and normal sometimes multiple times . it should remain as a resize cursor as long as the panel is being resized mousedown . this is consistent with native apps on both mac and windows you can view a video of this at http://youtu.be xqtae3pfeju build d62d77b	58
8514	6272	bschaeffer	2012-05-11T16:10:00.000Z	[activerecord]	postgresql integer migrations are inconsistent	5	migrations with integer columns using postgresql are inconsistent take the following migration create-table users do t t.integer phone limit 10 t.integer zip limit 5 end after migrating examining the output of rake db structure dump we get the following sql create-table users id integer notnull phone integer zip bigint noticing that in the migration above the column phone has a larger limit than the column zip i would expect to see something like the following where phone is also created as a bigint column create-table users id integer notnull phone bigint zip bigint i don t think i am expecting the wrong behavior but maybe i am missing something with postgres...	111
507775	1961	kimchy	2012-05-16T22:27:59.000Z	[enhancement;;v0.19.4;;v0.20.0.rc1]	get api allow to provide a parent value which automatically set the routing value	14		0
8514	6400	pinetops	2012-05-19T23:48:40.000Z	[actionpack]	template compilation isn t threadsafe	5	in a multi-threaded environment template compilation can occur concurrently sometimes causing an issue where the method name stored for a template doesn t exist forall subsequent requests to replicate create a rails template app with a single controller with a single action with a single view for that action run the application under jruby 1.6.7 use a load-testing tool such as siege to simulate high-load during start up of the application the request fails with the following stacktrace actionview template error undefined method app views main index html erb 2022471980 2026 for # # class 0x3cf720d5 0x10bdbe4f org jruby rubykernel.java 2084 in send vendor rails actionpack lib actionview template.rb 147 in render vendor rails activesupport lib activesupport notifications.rb 125 in instrument vendor rails actionpack lib actionview template.rb 142 in render vendor rails actionpack lib actionview renderer template renderer.rb 47 in render template vendor rails actionpack lib actionview renderer abstract renderer.rb 38 in instrument vendor rails activesupport lib activesupport notifications.rb 123 in instrument vendor rails activesupport lib activesupport notifications instrumenter.rb 20 in instrument vendor rails activesupport lib activesupport notifications instrumenter.rb 19 in instrument vendor rails activesupport lib activesupport notifications.rb 123 in instrument vendor rails actionpack lib actionview renderer abstract renderer.rb 38 in instrument vendor rails actionpack lib actionview renderer template renderer.rb 46 in render template vendor rails actionpack lib actionview renderer template renderer.rb 54 in render with layout vendor rails actionpack lib actionview renderer template renderer.rb 45 in render template vendor rails actionpack lib actionview renderer template renderer.rb 18 in render vendor rails actionpack lib actionview renderer renderer.rb 36 in render template vendor rails actionpack lib actionview renderer renderer.rb 17 in render vendor rails actionpack lib abstract controller rendering.rb 110 in render template vendor rails actionpack lib actioncontroller metal streaming.rb 225 in render template vendor rails actionpack lib abstract controller rendering.rb 103 in render to body vendor rails actionpack lib actioncontroller metal renderers.rb 28 in render to body vendor rails actionpack lib actioncontroller metal compatibility.rb 50 in render to body vendor rails actionpack lib abstract controller rendering.rb 88 in render vendor rails actionpack lib actioncontroller metal rendering.rb 16 in render vendor rails actionpack lib actioncontroller metal instrumentation.rb 40 in render vendor rails activesupport lib activesupport core ext benchmark.rb 5 in ms usr local rvm rubies jruby-1.6.7 lib ruby-1.8 benchmark.rb 308 in realtime vendor rails activesupport lib activesupport core ext benchmark.rb 5 in ms vendor rails actionpack lib actioncontroller metal instrumentation.rb 40 in render vendor rails actionpack lib actioncontroller metal instrumentation.rb 83 in cleanup view runtime vendor rails-activerecord lib activerecord railties controller runtime.rb 24 in cleanup view runtime vendor rails actionpack lib actioncontroller metal instrumentation.rb 39 in render vendor rails actionpack lib actioncontroller metal implicit render.rb 10 in default render vendor rails actionpack lib actioncontroller metal implicit render.rb 5 in send action vendor rails actionpack lib abstract controller base.rb 167 in process action vendor rails actionpack lib actioncontroller metal rendering.rb 10 in process action vendor rails actionpack lib abstract controller callbacks.rb 18 in process action vendor rails activesupport lib activesupport callbacks.rb 417 in run 151149260 process action 878624289 callbacks org jruby rubykernel.java 2076 in send vendor rails activesupport lib activesupport callbacks.rb 405 in run callback vendor rails activesupport lib activesupport callbacks.rb 390 in run process action callbacks org jruby rubykernel.java 2080 in send vendor rails activesupport lib activesupport callbacks.rb 81 in run callbacks vendor rails actionpack lib abstract controller callbacks.rb 17 in process action vendor rails actionpack lib actioncontroller metal rescue.rb 29 in process action vendor rails actionpack lib actioncontroller metal instrumentation.rb 30 in process action vendor rails activesupport lib activesupport notifications.rb 123 in instrument vendor rails activesupport lib activesupport notifications instrumenter.rb 20 in instrument vendor rails activesupport lib activesupport notifications instrumenter.rb 19 in instrument vendor rails activesupport lib activesupport notifications.rb 123 in instrument vendor rails actionpack lib actioncontroller metal instrumentation.rb 29 in process action vendor rails actionpack lib actioncontroller metal params wrapper.rb 205 in process action vendor rails-activerecord lib activerecord railties controller runtime.rb 18 in process action vendor rails actionpack lib abstract controller base.rb 121 in process vendor rails actionpack lib abstract controller rendering.rb 45 in process vendor rails actionpack lib actioncontroller metal.rb 203 in dispatch vendor rails actionpack lib actioncontroller metal rack delegation.rb 14 in dispatch vendor rails actionpack lib actioncontroller metal.rb 246 in action org jruby rubyproc.java 270 in call org jruby rubyproc.java 220 in call vendor rails actionpack lib actiondispatch routing route set.rb 73 in dispatch vendor rails actionpack lib actiondispatch routing route set.rb 36 in call journey 1.0.3 lib journey router.rb 68 in call org jruby rubyarray.java 1615 in each journey 1.0.3 lib journey router.rb 56 in call vendor rails actionpack lib actiondispatch routing route set.rb 600 in call vendor rails actionpack lib actiondispatch middleware best standards support.rb 17 in call rack 1.4.1 lib rack etag.rb 23 in call rack 1.4.1 lib rack conditionalget.rb 25 in call vendor rails actionpack lib actiondispatch middleware head.rb 14 in call vendor rails actionpack lib actiondispatch middleware params parser.rb 21 in call vendor rails actionpack lib actiondispatch middleware flash.rb 242 in call rack 1.4.1 lib rack session abstract id.rb 205 in context rack 1.4.1 lib rack session abstract id.rb 200 in call vendor rails actionpack lib actiondispatch middleware cookies.rb 338 in call vendor rails-activerecord lib active-record-query cache.rb 64 in call vendor rails-activerecord lib activerecord connection adapters abstract connection pool.rb 467 in call vendor rails actionpack lib actiondispatch middleware callbacks.rb 28 in call vendor rails activesupport lib activesupport callbacks.rb 408 in run 1848505450 call 1447456541 callbacks org jruby rubykernel.java 2076 in send vendor rails activesupport lib activesupport callbacks.rb 405 in run callback vendor rails activesupport lib activesupport callbacks.rb 390 in run call callbacks org jruby rubykernel.java 2076 in send vendor rails activesupport lib activesupport callbacks.rb 81 in run callbacks vendor rails actionpack lib actiondispatch middleware callbacks.rb 27 in call vendor rails actionpack lib actiondispatch middleware remote ip.rb 31 in call vendor rails actionpack lib actiondispatch middleware debug exceptions.rb 16 in call vendor rails actionpack lib actiondispatch middleware show exceptions.rb 56 in call vendor rails railties lib rails rack logger.rb 26 in call app vendor rails railties lib rails rack logger.rb 16 in call vendor rails actionpack lib actiondispatch middleware request id.rb 22 in call rack 1.4.1 lib rack methodoverride.rb 21 in call rack 1.4.1 lib rack runtime.rb 17 in call vendor rails activesupport lib activesupport cache strategy local cache.rb 72 in call rack-cache 1.2 lib rack-cache context.rb 136 in forward rack-cache 1.2 lib rack-cache context.rb 245 in fetch rack-cache 1.2 lib rack-cache context.rb 185 in lookup rack-cache 1.2 lib rack-cache context.rb 66 in call rack-cache 1.2 lib rack-cache context.rb 51 in call vendor rails railties lib rails engine.rb 479 in call vendor rails railties lib rails application.rb 220 in call rack 1.4.1 lib rack content length.rb 14 in call vendor rails railties lib rails rack log tailer.rb 14 in call rack 1.4.1 lib rack handler webrick.rb 59 in service usr local rvm rubies jruby-1.6.7 lib ruby-1.8 webrick httpserver.rb 104 in service usr local rvm rubies jruby-1.6.7 lib ruby-1.8 webrick httpserver.rb 65 in run usr local rvm rubies jruby-1.6.7 lib ruby-1.8 webrick httpserver.rb 48 in run usr local rvm rubies jruby-1.6.7 lib ruby-1.8 webrick server.rb 173 in start thread usr local rvm rubies jruby-1.6.7 lib ruby-1.8 webrick server.rb 163 in start thread org jruby rubyproc.java 270 in call org jruby rubyproc.java 224 in call note that it doesn t always fail like many threading related issues this is a somewhat random occurence this has been replicated using both tomcat and webrick and with rails 3.1.4 and 3.2.3-rc2 and using jruby 1.6.5 and 1.6.7 i will attach a patch that addresses this issue	1259
8514	6403	gaelian	2012-05-20T08:27:10.000Z	[actionview]	authenticity-token div in form-for causing display issues	7	i ve run into a display issue being caused by the automatically added div within a form generated by form-for in rails 3.2.3 of course this div causes no problems for me in chrome ff etc but surprise surprise in ie 8 9 the div is causing me a display issue and because the styles are inline on the div it s not as easy as it could be to fix currently the automatically added div plus contents looks something like this html div style margin 0 padding 0 display inline input name utf8 type hidden value #x2713 input name method type hidden value put input name authenticity-token type hidden value xyz div if the inline style on the div is changed to display none this seems to appease ie 8 9 i came by this old ticket on lighthouse https://rails.lighthouseapp.com projects 8994 tickets 2846-form-authenticity-token-in-form-tag-should-be-set-to-displayinline marked as resolved which discusses the issue and a possible change to display none but it appears nothing has come of this alternatively i could also see the addition of a class to the div as a workable solution which may be a little more flexible than just adding display none inline does anyone know why the change to display none apparently didn t go through	211
8514	6417	chancancode	2012-05-21T05:27:29.000Z	[activerecord]	activerecord model unfreezes a record on save	7	on 3.2.3 ruby t topic.new # topic id nil title nil created at nil updated at nil t.title test test t.title test t.freeze # topic id nil title test created at nil updated at nil t.title test 2 runtimeerror can t modify frozen hash from ... t.title test t.frozen true t.save 0.2ms begin 0.1ms rollback runtimeerror can t modify frozen hash from ... t.frozen # this should be true false t.title test 2 # this should raise an exception test 2 t.title # this should be test test 2 seeing that freezing an activerecord model is an supported feature http://api.rubyonrails.org classes activerecord base.html#method-i-freeze the current behaviour seems wrong to me the reasonable thing to do in this case would be to raise the runtimeerror and not unfreeze the record	129
460078	979	coli	2012-05-22T16:39:39.000Z	[]	error digest already in progress when repeater bind to function	10	http://jsfiddle.net adukg 135 not sure what is going on here if you click the test button you ll see error digest already in progress something about tr ng-repeat row in getrows tablestate seem to cause this also why is getrows called 11 times per click of the test button	49
460078	988	igorminar	2012-05-25T07:32:16.000Z	[type: bug]	string + undefinedmodel results in string0	6	http://plunker.no.de edit vnzpnv preview on	5
460078	1004	igorminar	2012-05-31T19:01:30.000Z	[]	drop x-requested-with header from the default http config	8	x-requested-with causes cors requests to trigger preflight checks which complicates things for many simple things the header is not very useful except for certain edge-cases e.g i think that rails uses the header to switch full page and page fragment rendering .	42
8514	6573	jrochkind	2012-05-31T19:34:00.000Z	[]	isolated engine routing helpers testing	5	i believe there is no way to test isolated engine helpers or use isolated engine helpers in tests but i d be pleased if i m wrong and i m just missing something if you create an isolated engine then the dummy app has a config routes that has for instance mount widget engine widget if the widget engines has it s own config routes then ordinarily an app with that line in it would be able to access the engine s route path helpers as widget.some path . that works in the app but it does not work in the test environment nosuchmethod widget the widget method isn t installed in the test environment the main engine root widget path widget is installed in the testing environment you can use it in tests and test routing involving that named helper and path but not any of the specific widget routes that would ordinarily in an actual app be available at widget.some path . phew this is confusing to talk about hope this is understandable	175
2935735	971	peterflynn	2012-05-31T22:28:14.000Z	[fix in progress;;low priority]	findinfiles treats n r etc as regular expressions	8	1 use findinfiles to search for the string n result brackets hangs for a while then produces 100 000+ search results one for every line of code . expected only files that contain the string n . the search query is only supposed to get interpreted as a regexp if it s wrapped like n . looks like a straightforward missed case in the escaping done by findinfiles getqueryregexp .	70
8514	6591	earnold	2012-06-01T18:39:32.000Z	[activerecord;;regression]	rails 3.2.5 regression incorrect changed for datetimes	7	i just upgraded from 3.2.2 to 3.2.5 and now i have failing specs i ve identified the problem as this when you have this model rails create-table posts force true do t t.string title t.datetime published at end previously you could do 1.9.3p125 013 p post.last 1.9.3p125 014 p.published at p.published at 1.9.3p125 015 p.changed false but now 1.9.3p125 013 p post.last 1.9.3p125 014 p.published at p.published at 1.9.3p125 015 p.changed true 1.9.3p125 006 p.changes published at thu 12 apr 2012 19 32 33 utc +00 00 thu 12 apr 2012 19 32 33 utc +00 00 i m going to see if i can put together a failing test around this	112
460078	1016	maxmart	2012-06-04T14:41:14.000Z	[type: bug]	when interpolated class-attribute changes classes from ng-class are not merged in	11	open http://jsfiddle.net adukg 224 set ngclass to true by clicking the first button note how the ngclass text turns green then set class to true by clicking the second button note how the ngclass text turned red again so result div element has class static-class thus coloring class green and ngclass red expected result div element has class static-class ngclass thus coloring both class and ngclass green i have a maybe very ugly fix for this which involves 1 not setting attr name to undefined when name class in addattrinterpolatedirective 2 watch ing interpolate attr class in classdirective and reapplying the ngclasses when it changes the reason i m not totally sure about this solution is that i don t know why you re setting attributes to undefined in addattrinterpolatedirective and i m not sure what consequences it will have if we don t what do you think about this i can post some more code later but i want to see if all tests pass first	167
8514	6635	lucasprim	2012-06-05T13:30:46.000Z	[activerecord]	scopes using arel where statement containing timewithzone arguments behave differently by order	12	i ve stumbled upon a weird behavior today i have these two scopes implemented on my model ruby class purchase scope since lambda time where created at time scope to lambda time where created at time end and when i put arguments on the following order ruby purchase.since time.zone.now - 1.day .to time.zone.now i get an exception ruby typeerror can t convert activesupport timewithzone into integer from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems activesupport-3.2.3 lib activesupport core ext array access.rb 19 in first from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems activesupport-3.2.3 lib activesupport core ext array access.rb 19 in to from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems activerecord-3.2.3 lib activerecord-relation delegation.rb 36 in to from irb 15 from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems railties-3.2.3 lib rails commands console.rb 47 in start from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems railties-3.2.3 lib rails commands console.rb 8 in start from home lucasprim .rvm gems ruby-1.9.3-p125@kimitachi32 gems railties-3.2.3 lib rails commands.rb 41 in top required from script rails 6 in require from script rails 6 in main but when i perform the same query on another order the query performs fine 1.9.3p125 018 purchase.to time.zone.now .since time.zone.now - 1.day .to sql select purchases . from purchases where created at 2012-06-05 13 31 29 and created at 2012-06-04 13 31 29	217
460078	1020	zartc	2012-06-06T11:04:19.000Z	[]	data-ng-model or x-data-model not recognized by the test gear	9	if one change lt ng-model gt to lt data-ng-model gt or lt x-data-model gt to please automatic inspector that flag the proprietary attribute as an error -- in eclipse or idea then tests fail angular version v1.0.0rc6	37
460078	1035	carpasse	2012-06-11T10:10:42.000Z	[type: feature]	add ng-keyup and ng-keydown	4	can you guys please add the ng-keydown and ng-keydown directives i think it would be extremely easy to add both directives to angular since you already have this generic mechanism to create event directives the only think to do is on line 12294 of angular-1.0.0rc10.js click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave .split add the two new events click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup .split i ve tryied on my machine and it works perfectly thanks for the effort on angular carles	89
460078	1037	andyneville	2012-06-11T19:19:07.000Z	[]	rc11 seems to have added extra encoding to links	9	i apologize for not including a jsfiddle i couldn t figure out how to get a routing example working there in my module config i also add routing like coffeescript routeprovider - routeprovider.when products id template partials product.html controller @app.controllers.productdetail ... routeprovider.otherwise redirectto dashboard in my html inside an ng-repeat i have links similar to this a href # products product.id product.title a until today clicking the link would navigate to # products 123 for example and properly route to that controller however this morning i upgraded to rc11 and followed the upgrade steps e.g change template to templateurl and now when i click the link it navigates to # dashboard# 2fproducts 2f123 i m not sure if there s extra encoding being added now in rc11 or if the routeprovider.otherwise functionality has changed but as far as i can tell i m using routing the way the tutorial says and now it s not working w rc11	158
460078	1051	andyneville	2012-06-13T15:51:28.000Z	[]	links to outside of angular application are getting overridden	9	when i create a relative link to a page outside of my singlepage angular app e.g a href foo bar click a there appears to be an angular click handler which intercepts this link and won t let me follow it to recreate this in angular-seed rc12 1 create a file in the app folder called test.html put something in it you can recognize html body test body html 2 in partials partial1.html addthis line a href test.html test a 3 open the site in a browser http://localhost 4000 for me using a simple node app . it redirects me to http://localhost 4000 # view1 which looks fine 4 click on the test link which should take you to the http://localhost 4000 test.html page instead i see a brief flicker in the address-bar and it just goes back to http://localhost 4000 # view1 i m in chrome if that matters	150
460078	1074	vojtajina	2012-06-18T21:42:03.000Z	[type: bug]	ng-switch should allow non ng-when children	6	tr ng-switch on foo th first th th ng-switch-when 1 one th th ng-switch-when 1 two th th ng-switch-when 2 three th th last th tr currently ng-switch does just append so the dynamically added elements are inserted after the static ones first last .	45
460078	1076	andyneville	2012-06-18T21:47:17.000Z	[type: bug]	ng-class-even and ng-class-odd do not properly update with filter orderby	10	there is a google-groups discussion at https://groups.google.com forum # topic angular v6jfl75 ppi aleksandr petrov put together a jsfiddle that demonstrates this bug with filtering http://jsfiddle.net alexpetrov clrwd i see the same issue when orderby changes dynamically here s a jsfiddle to demonstrate that http://jsfiddle.net andyneville m9xha	47
507775	2041	kimchy	2012-06-21T19:19:53.000Z	[feature;;v0.19.5;;v0.20.0.rc1]	store throttling node level and or index level with options on merge or all	14	allow to configure store throttling only applied on file system based storage which allows to control the maximum bytes per sec written to the file system it can be configured to only apply while merging or on all output operations the setting can eb set on the node level in which case the throttling is done across all shards allocated on the node or index level in which case it only applied to that index the node level settings are indices.store.throttle.type to set the type with values of none merge and all defaults to none . and also indices.store.throttle.max bytes per sec defaults to 0 which can be set to something like 1mb . the index level settings is index.store.throttle.type for the type with values of node none merge and all . defaults to node which will use the shared throttling on the node level and index.store.throttle.max bytes per sec defaults to 0 .	154
8514	6825	davidmles	2012-06-22T11:21:59.000Z	[activerecord]	multiparameterassignmenterrors on time-select	3	there seems to be something strange when using time-select the db field is a time type ruby t.time time null false the model just has that field as accessible ruby class somemodel activerecord base attr-accessible time end in the view time-select is declared with some options ruby f.time select time include blank true ignore date true minute step 5 the object is built in the controller ruby def create @some model object somemodel.new params some model end then this error is thrown activerecord multiparameterassignmenterrors in somemodelcontroller#create 1 error s on assignment of multiparameter attributes using rails 3.2.6 with no extra gems for forms a sample app is uploaded here https://github.com idavemm time app	113
507775	2051	kimchy	2012-06-25T14:56:55.000Z	[bug;;v0.19.6;;v0.20.0.rc1]	elasticsearch fails to start due to verification error	8	nasty one does not happen to all and basically require renaming some files to loading them will work properly....	19
460078	1095	bigcmos	2012-06-26T00:11:16.000Z	[]	feature request ability to pass withcredentials with resource	8	http now accepts cors withcredentials but resource doesn t make this value available to be set can haz access to withcredentials or http.config from resource without this i am getting a query canceled error in chrome	36
460078	1096	igorminar	2012-06-26T22:41:00.000Z	[]	don t send xsfr token header for cors requests	9	it typically makes no sense to send the token since the 3rd party site has no way of setting the cookie this is related to #1004	26
507775	2071	kimchy	2012-06-29T23:34:48.000Z	[bug;;v0.19.8;;v0.20.0.rc1]	store compression integer-overflow causes failed reads index is safe	9	this applied to large segments 4gb	6
507775	2076	kimchy	2012-07-01T17:52:19.000Z	[bug;;v0.19.8;;v0.20.0.rc1]	elasticsearchillegalstateexception stream marked as compressed but no compressor found on transport layer	12	this happens because the message is empty but the networking buffer still holds data for the next message we should not check for a compressor in this case	28
460078	1191	patrickjamesbarry	2012-07-20T16:29:29.000Z	[type: bug]	cookiestore not working in ie or safari	7	i just finished creating my first angular app and submitting this bug out-of-memory using angularjs 1.0.1 my app checks for presence of params stored in session-cookies via cookiestore if the params were not found then user was redirected using location service to the login-page this worked great in chrome and firefox but is broken in ie 8 and i believe safari latest . i had to abandon the cookiestore and use jstorage instead	73
8514	7191	rkushnir	2012-07-29T11:48:48.000Z	[activerecord]	unnecessary db-queries when assigning has-one has-many associations	7	here s a bare example user.has one profile profile.belongs to user in the console u user.new # # user id nil name nil created at nil updated at nil u.profile nil # 0.2ms begin # 0.1ms commit # nil why is an empty transaction needed to assign nil to a property when doing a lot of such operations the overhead is bigger than the useful running time i ve tried this on rails 3.2.5 and 3.2.7 on 3.0.9 there s no issue	82
460078	1243	thughes	2012-08-08T18:11:38.000Z	[component: ngresource]	resource strips port from url	5	as discussed in https://groups.google.com forum fromgroups# topic angular 18ao0bilem0 5b1-25 5d if you include a port in the url passed to resource it gets stripped since everything with a colon is substituted escaping the colon works but that makes it a pain to use the same url with http which doesn t seem to understand the escaping . in general you should be using relative urls but the use-case for needing the full path is for cross origin requests	79
460078	1245	igorminar	2012-08-09T00:13:39.000Z	[type: feature]	timeout mock should throw an error when not flushed	9	if i use timeout mock in a test and forget to flush some pending tasks i should get a test failure right now there is just silence there should be at least some method assertnopending or something like that - just like httpbackend has	44
460078	1261	benpriebe	2012-08-13T21:08:45.000Z	[type: bug]	timezoneoffset bug	2	when i hit my site from a +1000 timezone and run the date through a filter with the z timezone formatter i get a -1000 timezone e.g var now new date fri aug 10 2012 14 00 00 gmt+1000 var created filter date now yyyy-mm-ddthh mm ss.000z which equals 2012-08-10t14 00 00.000-1000 i would expect it to equal 2012-08-10t14 00 00.000+1000 if my understanding is not flawed then this is the method that has the bug around line 9805 angular.js 1.0.1 function timezonegetter date var offset date.gettimezoneoffset return padnumber offset 60 2 + padnumber math.abs offset 60 2	98
507775	2183	dylanahsmith	2012-08-17T03:17:43.000Z	[:query dsl;;bug]	analyzed wildcard always uses or operator on split terms	9	query-string queries ignore the default operator on terms split from an analyzed prefix query sh curl -xget localhost 9200 test doc search pretty true -d query query-string query apples-oranges default operator and analyze wildcard true the above will search for apples or oranges even though the default operator is set to and this gist will reproduce the bug showing that the above query will match a document with just apples or just oranges https://gist.github.com 3375594	75
507775	2186	karmi	2012-08-17T21:03:31.000Z	[]	add access-control-allow-headers for browsers	4	when accessing elasticsearch from javascript the request fails if it contains a content-type header to reproduce the issue open a browser console on this page and paste assuming elasticsearch is running on localhost 9200 jquery.ajax url http://localhost 9200 search type post contenttype application json charset utf-8 success function data console.log data the current code adds a access-control-allow-origin https://github.com elasticsearch elasticsearch blob master src main java org elasticsearch http netty nettyhttpchannel.java#l77 header for browsers but not a access-control-allow-headers http://www.w3.org tr cors #access-control-allow-headers-response-header .	82
460078	1277	gops	2012-08-20T12:24:34.000Z	[prs plz!;;type: feature]	support blur and focus events	5	almost all events are supported by angularjs but blur and focus events are left out please add support for this	20
460078	1285	cstrong	2012-08-22T15:54:10.000Z	[type: feature]	please provide option for binding ng-model for input onblur	9	there are certain situations where ng-model binding with onblur semantics is desirable for example when input fields are used to enter dates or currency amounts in those cases it is important to allow the user to finish typing the complete value before acting on it of course i can attach a custom onblur event using jquery but it seems reasonable to have a built-in angular api to handle this very common use-case	72
460078	1356	joergschiller	2012-09-12T14:14:41.000Z	[]	fetching template fails on android-4.0 4.1 when using appcache manifest	10	i encountered an error while developing a mobile web app with angularjs using an appcache manifest http://www.whatwg.org specs web-apps current-work multipage offline.html . angularjs can t fetch a template that is cached offline in android stock browser on ice cream sandwich and jelly bean gingbread works . the status code returned from xhr is zero comparable to the behaviour of xhr using the file protocol the following change works for me and fixes the issue https://github.com joergschiller angular.js commit 63b5e34a0b009ac9e876fd1799dbd6fc234212c8 what can i provide you to fix this issue greetings j rg	92
460078	1403	dustinmartin	2012-09-21T16:31:30.000Z	[component: ngresource]	resource http-method must be uppercase string post vs post	9	when defining a resource if you do not have the http-method in uppercase post vs post it doesn t work properly but doesn t throw any errors letting you know of a problem here is an example resource definition var project resource api projects.cfm projectid projectid @projectid query method get isarray true get method get save method post problems caused if post is changed to post destroy method delete if i change post to post a couple things happen 1 any params not defined in the paramdefaults object seem to be ignored completely 2 all params are only ever sent as a url query-string since case matters i think a change should be made in angular to auto uppercase the http-method or throw an error to let the developer know of a problem at the very least if no changes is going to be made the docs should explain this	150
460078	1417	igorminar	2012-09-25T18:33:39.000Z	[]	location runs into infinite digest under certain circumstances	8	when adding angular to an existing project that makes use of html5-history whenever the url is changed outside of angular the next digest to run produces this error error 10 digest iterations reached aborting watchers fired in the last 5 iterations fn locationwatch newval 8 oldval 7 fn locationwatch newval 9 oldval 8 fn locationwatch newval 10 oldval 9 fn locationwatch newval 11 oldval 10 fn locationwatch newval 12 oldval 11 i have my own routing in place using goog.history.html5history i was trying to include some angular stuff on a singlepage works but when the page changes the first subsequent apply produces the above error it looks like the location service is getting out of sync with the browser locationwatch expects the location service to be updated first followed by the browser but when i pushstate to the browser directly the location service still has the old url the sad thing is that location is not being used directly by this app nor is route it s nginclude that depends on anchorscroll which depends on location - maybe fixing this dependency should be a separate issue... to be investigated	189
460078	1435	johnnyelwailer	2012-10-03T07:38:23.000Z	[needs: investigation]	directives that have binding changing scope value causes error if not specified optional	13	if i have a directive with a scope definition and setting a value in the scope javascript directive some function return scope optionalvalue bind function scope scope.optionalvalue something and create it like html some with optionalvalue not specified it yields the non assignable model expression error but i d expect it to work in this case this could be solved in the scope mode parser by simply not applying the binding javascript case if attrs attrname null return ... or is this intentionally if so maybe add a new symbol like for optional attributes just realized that i opened essentially the same issue 3 months ago https://github.com angular angular.js issues 1131	111
460078	1437	smithsamuelm	2012-10-03T17:40:14.000Z	[type: feature]	ng-pattern does not support modifiers	5	angular 1.02 a regex expression with modifiers is not recognized in ng-pattern rexex modifiers the following is not recognized as a pattern input type text name domain placeholder domain required ng-model detail.domain ng-pattern 0-9a-z -0-9a-z 0-9a-z + i remove the modifier i and it is recognized input type text name domain placeholder domain required ng-model detail.domain ng-pattern 0-9a-z -0-9a-z 0-9a-z +	61
460078	1452	pkozlowski-opensource	2012-10-11T20:27:41.000Z	[type: bug]	impossible to inject providers into module.provider when array-style di-annotations are used	11	problem description it is impossible to define a provider that depends on another provider in the minified version of an application the following code javascript var myapp angular.module myapp .provider crudrouteprovider routeprovider function e this.dosthwithrouteprovider function pathprefix do something with routeprovider here this get function return will fail with uncaught error provider crudrouteprovider must define get factory-method from myapp . here is the jsfiddle http://jsfiddle.net pkozlowski opensource fgkdd 1 expected behavior the unminified version works correctly here is the jsfiddle http://jsfiddle.net pkozlowski opensource chhjj the minified version should behave exactly the same	92
460078	1462	itsleeowen	2012-10-16T00:23:13.000Z	[needs: more info]	input ng-model fails to update on paste event in ie	10	http://jsfiddle.net itsleeowen nqs7n open ie 8 or ie 9 copy a string and paste into the input the model does not update until a keyevent	25
460078	1467	kamui	2012-10-17T15:06:53.000Z	[]	ngmock typeerror cannot read property running of undefined	8	i m trying to use angular-mock with mocha #1253 but i m getting typeerror cannot read property running of undefined in angular-mocks.js javascript function isspecrunning return currentspec currentspec.queue.running i think queue.running is a jasmine only feature so queue returns undefined when using mocha	43
460078	1469	mattsgarrison	2012-10-17T19:34:47.000Z	[]	currency filter doesn t truncate floats correctly when the js float math is wacky	14	js floating-point math goes awry when you do 1.07 + 1 - 2.07 it returns 4.440892098500626e-16 whereas 1.00 + 1 - 2.00 returns 0 however when you use that same floating-point math in an angular expression with a currency filter the filter does not truncate convert the scientific-notation to 0.00 for reference this fiddle will display the problem http://jsfiddle.net mattsgarrison vzh69 if you provide the first input 1.07 the second input 1 and the third input 2.07	77
460078	1501	kokuswolf	2012-10-26T13:05:04.000Z	[type: bug]	routeparams get confused with some urls	6	i found a strange bug with routeparams when using urls that include a part that named like a param that defined later on that url routeprovider.when foo id bar when using this everything is fine but if i change this definition to routeprovider.when bar id bar ... then the values inside routeparams.id and routeparams.bar get switched	56
2935735	1974	zanqi	2012-10-28T04:32:22.000Z	[codemirror;;tracking]	search result appears at awkward position of the editor	9	find ctrl+f and go-to-definition ctrl+t will jump to the search result and highlight it but currently the result could show up at 1 first line of the editor this is particularly bad because currently it will be blocked by the searchbar 2 last line of the editor as a user i would like to see the context of the search result that is to see both what s before and after it please make search result appear at a more comfortable and consistent manner	84
460078	1516	benzen	2012-11-01T13:10:13.000Z	[prs plz!;;type: docs]	typo in http api page	5	looking at http://docs.angularjs.org api ng http there is a typo we could read dependencies httpbacked where we should read dependencies httpbackend	21
460078	1532	traeregan	2012-11-06T06:35:56.000Z	[needs: investigation]	datefilter not adding appropriate + - sign for z timezoneoffset resulting in invalid iso8601	14	see jsfiddle example here http://jsfiddle.net traeregan c82qb e.g the output i get in edt is 2012-11-06t01 29 290500 but it should be 2012-11-06t01 29 29-0500	25
8514	8130	tovodeverett	2012-11-06T18:52:15.000Z	[docs]	guide caching with rails.md claims activesupport cache memorystore is default store	11	the caching with rails.md guide claims in section 2.3 activesupport cache memorystore that this is the default cache store implementation this does not appear to be the case at least in rails 3.2.8 and i suspect the change happened earlier . i found http://stackoverflow.com questions 3067636 why-rails-cache-is-not-thread-safe which indicates that activesupport cache filestore is the default store and this appears to match what i see happening in rails 3.2.8 . that thread has a post indicating that in rails 3 activesupport cache memorystore was replaced with activesupport cache synchronizedmemorystore . depending upon how the post is interpreted it may have it backwards https://github.com rails rails commit ee51b51b60f9e6cce9babed2c8a65a14d87790c8 indicates that memorystore was made threadsafe and so synchronizedmemorystore was deprecated i m a rails newbie though so i m not entirely certain i ve got all of this nailed down perfectly as a result i m a bit nervous to start making changes to the documentation until someone can confirm the actual behavior	161
460078	1621	suedama1756	2012-11-28T14:38:38.000Z	[]	ngswitch directive leaks when inside transcluded content	7	ngswitch leaks when inside transcluded content this is because it associates its data during the compile phase of the template element.data ng switch cases the template is then cloned for rendering and as the clone doesn t include the jquery.expando property a leak occurs when the rendered content is removed	50
460078	1637	provegard	2012-12-03T19:36:10.000Z	[type: bug]	ngclass broken in angular 1.0.3	5	i noticed some odd ngclass behavior when upgrading from angular 1.0.1 to 1.0.3 going back to 1.0.2 fixed the problem the following fiddle illustrates the problem http://jsfiddle.net provegard uwwgy 14 since a is false initially the text should get the foo class and be red the watch kicks in immediately and changes a to true which should remove the foo class from the text and thus change it back to black this is what happens in angular 1.0.2 but not in 1.0.3 in my real app i have two twitter-bootstrap tabs that become initially active at the sametime due to this bug	102
460078	1693	provegard	2012-12-11T13:01:57.000Z	[component: $http;;type: docs]	http success callback not called on redirect	7	i m using angular 1.0.2 and noticed that my http success callback is not called if i return 303 in my tests the error callback is called instead the docs state this for the error callback called asynchronously if an error occurs or server returns response with status code outside of the 200 400 range since 303 is not outside that range the error callback should not be called however i can see in the source code that the issuccess function uses 300 as the upperbound instead of 400	89
460078	1705	arbitrix	2012-12-14T01:38:32.000Z	[type: bug]	angular 1.0.3 emitting undefined string trailing each log.info err etc in ie9...	12	javascript log.info my log message should result in my log message but on ie9 it shows my log message.undefined the following patch suppresses this noise javascript @@ -5586 7 +5591 7 @@ we are ie which either doesn t have window.console this is noop and we do nothing or we are ie where console.log doesn t have apply so we log at least first 2 args return function arg1 arg2 - logfn arg1 arg2 + logfn arg1 arg2	78
2935735	2528	redmunds	2013-01-12T21:18:29.000Z	[]	cmv3 determining whether inline editor is open is broken	9	1 open citrus completed website 2 open index.html 3 put cursor in body tag between b and o 4 press ctrl-e to open inline editor 5 place cursor in body tag between d and y 6 press ctrl-e result a second inline editor is opened for same rule expected in brackets sprint 18 a second inline editor is not opened -- the cursor is moved to the first inline editor	70
460078	1799	lgalfaso	2013-01-13T06:55:16.000Z	[]	several issues at the directive documentation	6	there are several issues at the documentation at http://docs.angularjs.org guide directive at the section understanding transclusion and scopes - minor the snippet that uses a dialog is missing a closing div - at the scope definition for title the documentation states that it should be title when in fact it should be title @ - at the snippet definition there is an attribute visible that ones expects it to be binded to the parent scope value show but at the template and the scope the value is show this is the parent show . there are several ways to fix this a make the definition at the component scope of show from to visible b change the name of the attribute from visible to show or c to change the template and scope to use visible and not show i would go with the last one to avoid any confusion to however is reading - minor on the final directive definition it is missing the properties restrict e and replace true	171
460078	1809	nbauernfeind	2013-01-14T21:30:17.000Z	[component: $compile;;frequency: low;;prs plz!;;severity: broken expected use;;type: bug]	an isolated-scoped-directive s ng-transclude loses parent scope when inside of an ng-repeat	12	the fiddle http://jsfiddle.net ncfba to reproduce in short 1 transcluded element needs to reference something in its parent scope 2 directive s template needs to transclude inside of an ng-repeat the transcluded element cannot read its original parent scope if included outside of the ng-repeat it can read the value in the parent scope as one would expect . i posted this to a google group https://groups.google.com forum # topic angular az8 unv7kye but was directed to post it as a possible bug i don t mind trying to tackle and fix this but i really have no idea where to start looking	103
460078	1811	davemerrill	2013-01-15T02:26:14.000Z	[]	without jquery ng-mouseleave behaves like mouseout not mouseleave	8	the difference between mouseleave and mouseout is that mouseout is triggered by mousing over child elements inside the bound element while mouseleave is not in general making it much more useful unless jquery is used ng-mouseleave acts like mouseout not mouseleave which i think is a bug there s a full demo here http://plnkr.co edit teo20k32ule3r5nui09f p preview it shows the default behavior and by un-commenting the included jquery cdn script-tag you can see how it should behave a possible fix is to bind to the native mouseout event and check whether the mouse is still inside the bound element in code a demo of that strategy is here http://plnkr.co edit vpdleygkxrdmppnyk64m p preview	114
460078	1826	sonicparke	2013-01-17T14:45:31.000Z	[component: forms;;type: bug]	ie9 select boxes emptied on click change	7	in ie9 when you click or change the option in a select box all the other select boxes on the page are emptied of their selectedvalue http://jsfiddle.net sonicparke 2cqky	29
460078	1827	sonicwizard	2013-01-17T18:22:44.000Z	[]	bug with asynchronous textfield updates	5	i think i found a bug in angular 1.0.3 and beyond check this jsfiddle http://jsfiddle.net sonicsage k8w4y 6 notice that after the textfield updates it is uneditable if you switch to angular 1.0.2 it is editable on the google group peter bacon darwin responded i think this may be a bug in the parser that parses the original user.name on a promise object can you submit an issue to github it seems that the ngmodelget function which is created by the parse service inside the ngmodelcontroller is not returning the correct value pete	93
1390248	3315	mou	2013-01-18T10:03:05.000Z	[]	gitfs should clone remote repo with --mirror param	8	when you clone repo without mirror key refspec looks like +refs heads refs remotes origin and after fetch you should update refs manually because only origin master will be updated not the master if you use --mirror param on cloning then refspec will be look like fetch +refs refs and fetch command will update master not the origin master	59
1390248	3316	mou	2013-01-18T12:12:55.000Z	[]	gitfs fileserver backend dosn t check for updates before any state module executed	13	steps to reproduce 1 create sls which contains at least one reference to fileserver 2 commit and push this state to preconfigured repo 3 execute state.highstate 4 do a modification of sls and push it to repo 5 execute state.highstate as result you should see unmodified old state tree 6 execute state.highstate again as result you should see modified just commited state tree	63
460078	1918	gmarketer	2013-01-30T14:29:22.000Z	[]	cookiestore.get should parse empty string cookies	6	if server sets cookie city id to cityid 1 2 3 or 4 or sets empty string if it can t find id in database then calling cookiestore.get city id will throw parseexception	33
507775	2626	iamjeffg	2013-02-06T22:41:36.000Z	[bug;;v0.90.0.beta1]	geoshape intersects filter omits matching docs	6	there are some cases where a geo shape intersects and presumably within though i did not check filter fails to find a matching document to reproduce use a simple standard mapping javascript location type geo shape tree quadtree distance error pct 0.0 index a document curl -xput localhost 9200 test type1 b -d id b location type polygon coordinates -122.83 48.57 -122.77 48.56 -122.79 48.53 -122.83 48.57 the following query intersects the document and therefore should match it curl -xget localhost 9200 test type1 search -d query constant score boost 1 filter geo shape location relation intersects shape type polygon coordinates -122.88 48.62 -122.88 48.54 -122.82 48.54 -122.82 48.62 -122.88 48.62 however the query returns 0 matches i have tracked the cause of this down to an attempted optimization in org.elasticsearch.common.lucene.spatial.prefix.tree.spatialprefixtree#recursivegetnodes . specifically the optimization prevents recursion into the deepest tree level if a parent-node in the penultimate level covers all its children the bug is that this optimization can be invoked at both indexing and query time if the optimization is invoked for the indexed doc s shape then a query shape that doesn t invoke the optimization will not match the converse is also true if the optimization is invoked for a query shape it will not match intersecting documents for whose shape the optimization was not invoked i can provide illustrations if this remains unclear one possible bugfix to ensure the indexing and query paths do not both invoke the optimization is to simply disable the optimization at indexing time at the one-time cost of more nodes being generated and stored at indexing time or the optimization could be disabled at query time but at a cost of more nodes being generated at query time	288
507775	2657	dadoonet	2013-02-16T16:43:57.000Z	[breaking;;v0.90.0.beta1]	refactoring accessors using only getters and setters	7	we want to clean up the code and use only standard accessors gettters and setters . so we remove old non standard accessors current request builders to build request with elasticsearch stay the same and its the recommended way to execute apis with elasticsearch the pure request apis have changed and now have setters methods instead of the non setters options code will need to change if pure request objects api are used last all response levels objects now only expose the getter api variant we have had both variants getter and non getter for some time and its time to clean it up as it creates both confusion and overhead on our end to maintain it	117
507775	2660	s1monw	2013-02-17T20:58:47.000Z	[enhancement;;v0.90.0.beta1]	expose cjkbigram and width tokenfilters in elasticsearch	7	cjkbigram especially can be used together with icu standarttokenizer to for bigrams for cjk lanugages only and leave other scripts untouched we should expose those filters directly	27
460078	2048	pelme	2013-02-21T17:36:19.000Z	[]	shorthand for defining promise error handlers - q.fail	8	kris kowal s q provides the fail shorthand for defining error handlers error handlers can then be defined as promise.fail function error ... instead of promise.then null function error ... ... which feels a bit clunky i realize that angular s q is meant to be minimal and without the bells and whistles of q so this might not be worth adding to angulars q implementation if you consider that fail would be feasible to include in angular s q let me know and i will be happy to create a pull-request with a patch	95
460078	2112	schibum	2013-03-07T12:08:36.000Z	[]	location broken for packaged firefoxos app-urls	6	firefoxos uses special urls like app d0419af1-8b42-41c5-96f4-ef4179e52315 index.html for packaged apps the current url match regexp in ng location.js does not recognize such urls which causes an error in matchurl that effectively breaks bootstrapping adding to the host-capture clause of the regular expression fixes this i.e changing javascript var url match + w+ 0 1 w @ w .- 0-9 + # # # . to javascript var url match + w+ 0 1 w @ w .- 0-9 + # # # .	84
460078	2219	dai-shi	2013-03-25T04:41:49.000Z	[]	anchor tag a doesn t work without href because of unsafe link ie 8 and below	16	for ie8 and below there is a special care in htmlanchordirective like the following if msid 8 if attr.href attr.name attr set href ... the change 9532234bf1 is troublesome as it marks the href to be unsafe this used to work with angular-1.0.2 thanks	44
8514	10125	darnreich	2013-04-07T12:42:17.000Z	[activesupport;;i18n;;stale]	pluralization with default locale not working in rails4 beta1	9	i am just trying to setup an application in rails 4 beta 1 the application in exclusively in german and therefore also the urls should be german i want to create a controller and model for an entity called region rails pluralizes that to regions but it should be regionen . what i did is in config application.rb uncomment this line ruby config.i18n.default locale de and in config initializers inflections.rb i put this ruby activesupport inflector.inflections de do inflect inflect.irregular region regionen end but its not working... when i change the inflection to ruby inflect.irregular region i18n.locale and remove the de i can see that the passed locale is en and not de why is my default locale not passed to this inflections thanks	124
460078	2387	geddski	2013-04-12T17:37:30.000Z	[component: $compile;;component: misc core;;frequency: moderate;;prs plz!;;type: feature]	expressions in style tags	4	css style mystyles style doesn t render the mystyles variable	10
507775	2954	john-clark	2013-04-30T13:49:02.000Z	[enhancement;;v0.90.8;;v1.0.0.rc1]	please update install instructions - fail	6	incomplete information on to make this software please update the instructions on how to complete this process manually usr local src # git-clone git github.com elasticsearch elasticsearch.git usr local src # cd elasticsearch usr local src elasticsearch # bin elasticsearch -f bin elasticsearch.in.sh line 3 es classpath es home lib project.build.finalname .jar es home lib es home lib sigar bad substitution you must set the es classpath var	68
460078	2594	michaelmoussa	2013-05-06T21:59:06.000Z	[component: forms;;frequency: moderate;;needs: investigation;;prs plz!;;type: bug]	ng-required validation not working properly with true false radio values	10	see fiddle http://jsfiddle.net 8fab3 . i have a use-case where radio input data is stored server-side as booleans - true for yes false for no . if i use value true and value false on my form the radio control corresponding to the default-value is not selected when the page loads validation however works as expected . if i use ng-value true and ng-value false instead the default-value is selected automatically based on the model as expected but validation doesn t work correctly the form is only declared valid if yes is selected but still invalid if no is selected i can t select no by default because the business-rules say that the inputs should initially be unselected presumably so the user has to actually go through the whole form and answer the questions instead of just skipping ahead because an option has already been selected for them .	149
9852918	5	matthojo	2013-05-07T18:13:46.000Z	[]	dashboard viewing modes	3	main ticket for this - just creating it cause i had a random passing thought whilst peeing if you must know about the whole masonry dragdrop resonsive thing what if there were two modes viewing - responsive masonry editing - all elements become the same size and can be re-ordered i don t know if this actually makes sense just thought it was worth writing down in case	68
9852918	8	matthojo	2013-05-07T18:18:27.000Z	[]	admin redirects	2	all of the below should take the user to ghost admin panel - ghost - ghost-admin - admin - login - dashboard - wp-admin	24
9852918	9	matthojo	2013-05-07T18:22:07.000Z	[]	keyboard-shortcuts	1	the ghost editor should have a number of keyboard-shortcuts to assist with writing tasks a good example of how this works can be seen in the mou http://mouapp.com app under the actions menu we need to research when applying this to a browser-based app what are the keyboard-shortcuts available to us that won t cause major conflicts with os+browser native shortcuts see also list of common shortcuts - wikipedia http://en.wikipedia.org wiki table of keyboard-shortcuts proposed shortcuts - x zen writing fullscreen mode currently ctrl+shift+z - todo toggle off when shortcut is repeated - todo toggle off when escape key is pressed - x text-formatting shortcuts see mou - x publishing action shortcuts to change values of the publish button	119
9852918	10	matthojo	2013-05-07T18:23:37.000Z	[]	user login authentication	3	we need to convert the existing basic auth solution to be proper secure login with a nice login screen depends sort of on #26 https://github.com tryghost ghost issues 26 being done first as well as some updates to the datamodel etc for this task - upgrade the auth function to use an email-address and salted hashed password from the user table in sqlite	63
9852918	11	matthojo	2013-05-07T18:25:52.000Z	[mobile]	manage posts mobile	3	see manage posts mobile https://github.com tryghost ghost wiki manage-posts- 28mobile 29 - on mobile tablet the list should be the only thing on the screen http://cl.ly nzal - when the user clicks on a post the entire content area flies off to the left ios style - simultaneously to the above the post preview flies in from the right - http://cl.ly nzfp - clicking the back-button takes the user back to the post-list - ui elements should move to take full advantage of the space available http://cl.ly nzal http://cl.ly nzxx	90
9852918	14	matthojo	2013-05-07T18:30:42.000Z	[mobile]	mobile interaction js library	4	putting this out there early before we come to implementing this - but we need a very solid javascript jquery i guess library to handle ios style mobile interactions the one that i ve seen used most often is http://jqtjs.com formerly known as jqtouch - however it s definitely not the smoothest i mentioned in another ticket that i ve seen another one similar to this recently which performed a lot better but unfortunately i can t remember what it was called it might have been http://maker.github.com ratchet . other ones discussed include - http://jquerymobile.com - http://www.sencha.com products touch - http://lungo.tapquo.com - http://eightmedia.github.com hammer.js - http://www.mobify.com mobifyjs	107
460078	2622	tdterry	2013-05-09T18:17:56.000Z	[component: scopes;;frequency: low;;type: bug]	infinite digest caused by deferred promise	6	i have found an infinite digest loop caused by using a deferred inside a deferred the jsfiddle link below demonstrates the problem i have purposefully broken the link to angular so you can load the fiddle without hanging the browser simple change the link to angular in the html pane and remove the alert in the js pane http://jsfiddle.net tdterry yfytc 1 this is a barebones example of a legitimate use-case i have where one deferred property depends on another deferred property it s the combination of creating the deferred resolving it and acting on the promise that causes the hang if you comment out either line 14 or 15 in the js it doesn t hang also this does not hang in 1.0.6	124
9852918	18	erisds	2013-05-12T11:59:41.000Z	[i18n]	optimise translation i18n for default language	6	strings marked for translation include the default string which means there should be no requirement to load a set of translations and do a lookup ensure that this optimisation is made in a smart way	35
460078	2685	skrivanos	2013-05-17T09:41:54.000Z	[]	dirty checking not working on regexp objects	7	version 1.1.4 this boils down to angular.equals javascript angular.equals new regexp foo new regexp bar true	16
1390248	5110	cvrebert	2013-05-17T22:15:50.000Z	[bug;;fixed pending verification;;help wanted]	unused argument pillar in ext pillar funcs	7	none of the salt.pillar modules seem to use the parameter module salt.pillar.cmd json w0613 14 15 ext pillar unused argument pillar module salt.pillar.cmd yaml w0613 16 15 ext pillar unused argument pillar module salt.pillar.cobbler w0613 44 15 ext pillar unused argument pillar module salt.pillar.hiera w0613 28 15 ext pillar unused argument pillar module salt.pillar.libvirt w0613 11 15 ext pillar unused argument pillar module salt.pillar.mongo w0613 83 15 ext pillar unused argument pillar module salt.pillar.pillar ldap w0613 148 15 ext pillar unused argument pillar module salt.pillar.puppet w0613 15 15 ext pillar unused argument pillar false-positive maybe this parameter used by user pillars	101
9852918	37	erisds	2013-05-18T22:15:45.000Z	[]	flashes notifications in backbone	4	now that we have backbone in place across most of the admin app we need to add in notifications currently most operations do an alert dynamic notifications should always exist at the same location in the dom as the static ones where the flashes partial is included in default.hbs the dynamic notifications should also have work with #142	58
9852918	38	erisds	2013-05-18T22:16:54.000Z	[]	image-upload interaction-design	2	please provide designs for how image-upload import interactions should look including progress failure foreach of the ways of inserting an image	21
9852918	39	erisds	2013-05-18T22:30:25.000Z	[]	image-upload haunted markdown	3	the image-upload drop zone http://cl.ly nxpq should appear in the preview window when the user types image note that there should be a newline before it should also match image some text here and the inclusion of parenthesis at the end image if the parenthesis include a url that url should be used as the image in the preview instead of showing an image-upload drop zone if text is typed into the square brackets it should appear after the text add image of... the image-upload dropzone should appear on it s own line and should not interfere with items either side of it	103
9852918	42	erisds	2013-05-18T22:52:17.000Z	[]	delete post	2	on the content screen selecting a post and then going into the settings menu cog in top right and pressing delete should delete the post a notification should show success or failure of this action it is expected that this be done with a page-refresh for now	47
9852918	43	erisds	2013-05-19T07:45:35.000Z	[]	admin views - cleanup	4	the default.hbs layout should declare blocks for styles and scripts all other layouts should use these blocks to add their scripts styles to the page the main tag should be moved to the default layout and out of all other views flashes should be included directly after the main tag in the defaultview convert indent to 4 spaces	58
9852918	44	johnonolan	2013-05-19T15:52:20.000Z	[]	replace compass dependency with bourbon	5	compass is a big hulking bitch of a sass library i moved tryghost.org from compass http://compass-style.org to bourbon http://bourbon.io just prior to the kickstarter campaign launching and was very impressed with it much more light-weight up-to-date better documented and generally nicer to work with compass is excessive for ghost s needs so let s convert the main codebase to bourbon	60
9852918	45	erisds	2013-05-19T17:03:38.000Z	[bug]	the content icon is too big	6	content icon takes up an extra 3 pixels of margin-right for some reason in the settings menu why	18
9852918	49	ricardobeat	2013-05-19T21:29:25.000Z	[]	authentication failure on api calls should return json	8	currently redirecting to the login-page	5
507775	3068	erikcameron	2013-05-21T17:10:27.000Z	[:parent/child;;bug;;low hanging fruit;;v5.0.0-alpha1]	conflict between alias routing and parent-child routing	7	i was trying to create aliases with routing on an index that includes parent-child docs posting to an alias endpoint while specifying parent x causes an error i was thinking it shouldn t because the parent-child routing is to ensure the docs will wind up on the same shard but this is already guaranteed by the routed alias curl recreation https://gist.github.com erikcameron 5621421 as noted it looks like it works if you give parent and routing explicitly thanks -e	79
460078	2755	liokm	2013-05-23T02:35:32.000Z	[]	ng-href in a tag ignores empty value	7	according to b6e4a71166c7f00f4140fd7ea8f0cd81b4487a3f currently ng-href and ng-src ignores false values when setting attributes however since an empty value is valid for href of a tag we could safely set it is it right	33
9852918	53	javorszky	2013-05-23T08:37:35.000Z	[]	users exploring email sending	4	sending emails is fairly important see ghost skypechat on 23rd may at about 9 27 am uk time . i d like to pick your brains on it especially with regards to the following questions - should ghost be able to send emails from the server it s installed on this is for the self-hosted installs mainly because ip blacklisting misconfigured mx records spam throughput etc - should ghost use some sort of outside smtp server google eg - would that be a required setup step - have i forgotten anything important discuss	93
9852918	58	erisds	2013-05-24T05:53:33.000Z	[]	remove the func wrapper from node whilst keeping strong linting	10	- x node server-side code should not have a function wrapper or use-strict statement - x client code should retain the function wrapper and use-strict statement - x both client server should conform to the same whitespace style code-standards - x both client server should be fully linted validated	49
460078	2787	worrel	2013-05-24T23:14:29.000Z	[]	ng-repeat throws duplicates in a repeater iterating over an object with identical values	13	using ng-repeat key-value in myobj where myobj age 20 children 20 throws duplicates in a repeater error because the default trackbyidfn is calling haskey with only the value not the key . the generated hashes for both myobj.age and myobj.children end up as string 20 which trips up ng-repeat perhaps trackbyidfn should handle strings numbers explicitly and use hashkey key + value for them not sure what else this impacts however	71
460078	2797	doorman02	2013-05-25T22:31:29.000Z	[]	angularjs 1.1.5 ngrepeat not filtering correctly update	7	hi the unstable version of angularjs 1.1.5 is not filtering on attributes with value set to false try this code as an example javascript doctype html html ng-app head script src http://code.angularjs.org 1.1.5 angular.min.js script head body div ng-init friends name john age 25 ismarried false name mary age 28 ismarried true i have friends.length friends they are not married ul li ng-repeat friend in friends filter friend.ismarried false index + 1 friend.name who is friend.age years old li ul married ul li ng-repeat friend in friends filter friend.ismarried true index + 1 friend.name who is friend.age years old li ul div body html if you change the angularjs reference to the stable version 1.0.7 the filters work fine is this a bug or am i doing something wrong thanks	130
9852918	73	erisds	2013-05-26T19:41:46.000Z	[bug]	remap blog settings back to the fronted using app.locals	9	the old json dataprovider and ghost globals stuff has been refactored out and replaced with a proper settings api... woooo.... only these settings never make it to the frontend anymore which means we lose things like the meta-title and blog name.. etc	42
460078	2890	fernandolguevara	2013-06-06T04:26:25.000Z	[]	code repetition trim stripwhitespace	4	both functions do the same thing javascript function trim value return isstring value value.replace s .replace s value var start space s var end space s function stripwhitespace str return isstring str str.replace start space .replace end space str	39
1390248	5446	s0undt3ch	2013-06-08T02:06:42.000Z	[feature]	json returner	2	i m creating this issue because of saltstack salt-cloud#614 the fix is here https://github.com abemusic salt compare issues 614 the question is accepting this fix means no more typeerror s will be raised a similar approach as saltstack salt-cloud#621 could be done but that similar to @abemusic s fix i think this should be in salt opinions	57
1644196	3377	diegozea	2013-06-13T06:08:33.000Z	[intro issue]	less and edit are not defined for macros	8	julia less @b str error wrong number of arguments julia less b str error b str not defined julia less # methods for generic-function less less file string line integer at util.jl 174 less file string at util.jl 177 less f function at util.jl 181 less f function t at util.jl 182	52
9852918	228	erisds	2013-06-29T23:47:26.000Z	[bug]	slugs should never have multiple hyphens	6	in the slugging function spaces are converted to hyphens this is done lazily when it needs to be done greedily and after the restricted chars are stripped.. in other words multiple spaces in a row should only ever result in a single hyphen	43
460078	3104	gsson	2013-07-01T16:37:27.000Z	[type: bug]	strange behavior with ng-repeat-start end and ng-if in 1.1.6-a22596c	9	when using ng-repeat-start end to cover two consecutive tr s in a table the latter having an additional ng-if directive the data-binding acts really strange when adding items while ng-if is true the order of the rows change and if ng-if is subsequently set to false all new rows are kept in the dom example http da024c74860939fa.paste.se	57
460078	3215	olostan	2013-07-12T15:36:22.000Z	[]	animator and ngshow initial state after route change	8	there was in issue #2309 about animations that are run on a elements that are hidden during initial load and it was fixed in case if page is opened straight away but in case if some view is loaded with ngview after route change all animations that initially shouldn t be run are run... here is example http://plnkr.co edit lou6np p preview may be disable animations during route change	69
9852918	290	erisds	2013-07-15T21:19:35.000Z	[]	notifications nice notifications everywhere	4	on the notifications branch - add failure messages to the post screen - replace the window.alerts on the settings screen and add failures too - add a success failure message for deleting a post on the blog screen implementation note i recommend moving the flashview and flashcollectionview perhaps rename to notification to base and adding a special version of the addsubview function which adds the notifications and requires only the message to be rendered as all the other settings are almost always duplicated out of interest is type really required	90
507775	3399	moberg	2013-07-26T21:30:36.000Z	[enhancement;;v0.90.3;;v1.0.0.beta1]	auto expand replicas causing very large amount of cluster state changes when a node joins or leaves the cluster - causing the master to become unresponsive	26	in our cluster we have 8 nodes and about 100 indices each index have one shard and is replicated to every node using the setting auto expand replicas 0-all . we observed that when a node leaves the cluster the master node becomes unresponsive for some time the more indices we added the longer time it got unresponsive during this time restarted nodes were sometimes not able to join back into the cluster causing a split brain scenario or were just hung at startup looking at the source code for how the node leave and join events is handled i think i have identified the bug the clusterchangedevent is propagated to metadataupdatesettingsservice#clusterchanged which will loop through every index and if the number of nodes has changed fire updatesettings for that index when a node joins or leaves and using the auto expand replicas setting every index will be affected so for 100 indices it will fire off 100 updatesettings the problem is that each call updatesettings results in a new cluster state which again will propagate back to the metadataupdatesettingsservice#clusterchanged resulting in an exponential number of cluster state changes this fills the log with messages like this 2013-07-26 20 55 45 726 info cluster.metadata master index1 auto expanded replicas to 5 2013-07-26 20 55 45 726 info cluster.metadata master index2 auto expanded replicas to 5 2013-07-26 20 55 45 726 info cluster.metadata master index3 auto expanded replicas to 5 my proposed fix is to group the updates together by fnumberofreplicas and only trigger one update foreach fnumberofreplicas in our case when auto expand replicas is set to 0-all this will result in one cluster state change instead of a flood of changes the fix passes all the tests and solves the problem we have been observing in production and been able to reproduce in our development-environment will update the ticket asap with a link to the commit for fix	319
460078	3473	andyhitchman	2013-08-06T00:39:41.000Z	[]	angular.copy does not correctly duplicate regexp	6	similarly to issue #49 copying date objects angular.copy does not correctly duplicate regexp objects the result is an empty object .	21
460078	3482	stevenguan	2013-08-06T16:26:37.000Z	[]	the prelink function won t be called if the directive has templateurl and controller property also	16	it may caused by set derivedsyncdirective with controller null in compiletemplateurl controll is null cause getcontrollers fail which is called in linkfn scope element attrs linkfn.require getcontrollers linkfn.require element nodelinkfn . if i remove this part the prelink will work don t know why controller null there i create a demo here http://plnkr.co edit ymcurpowzmxcov0lue5s p preview	57
460078	3490	pastorcak	2013-08-07T08:51:49.000Z	[needs: more info]	ngoptions with boolean values breakes select element	7	i have this array for ngoptions scope.boolvalues value true name true value false name false and this ng-options in html ng-options bool.value as bool.name for bool in boolvalues when i try to select false in select element new empty options is created and selected when i try to select true empty option is removed and correct option is selected i think ngoption directive is not prepared for boolean values...	69
460078	3493	jelbourn	2013-08-07T17:33:04.000Z	[]	on a directive using controller templateurl and pre post link causes an error	13	when creating a directive that has a controller a templateurl and a compile function that returns a linking pre post pair an error is thrown the error does not occur if using template instead of templateurl if you use a single post link function or if you omit the controller the error is no controller directive name http://jsbin.com azomeh 4 edit	61
460078	3503	jussik	2013-08-08T11:43:45.000Z	[]	watching functions which return a deferred promise	7	if i watch a promise it will treat what the promise is resolved with as the value to watch which is good if however i watch a function returns that same promise digest handles the promise like a plain object which causes the watch not to trigger on resolve and anything relying on the watch for the output value e.g ng-bind will receive the promise object instead of the value it was resolved with fiddle http://jsfiddle.net xaqke 3 outputs to console the check for deferred promise is in getterfn and that s never used for function-calls should there be a check to see if the value of the expression is a deferred promise in digest	115
460078	3548	janv	2013-08-12T11:50:08.000Z	[branch: 1.3.x;;frequency: moderate;;type: bug]	evalasync does not follow eval semantics runs on rootscope not current scope	12	since we have only a single asyncqueue 331cd5a8cb5efdafe8ad7eb386aed4033cfc1bb3 the call to evalasync does not follow the same semantics as the call to eval . this is because the scope for an expression in evalasync is always the rootscope whereas the scope for an eval expression is always the current scope if this is intentional which i hope it s not it needs to carry a big fat warning in the docs a fix could be to store the context alongside the actual expression when adding stuff to the asyncqueue i would just like to quickly get a confirmation on this oberservation before trying to submit a patch i created a failing test to demonstrate the problem	116
85670	1080	tripp	2013-08-13T23:30:18.000Z	[1 - todo]	node test failures in ie 6 7	7	node has the following test failures in ie6 and 7 stable.internet explorer 7 0 windows xp.node.node should toggle the node view on unexpected error object doesn t support this property or method stable.internet explorer 7 0 windows xp.node.node should toggle the node view on and fire callback unexpected error object doesn t support this property or method initial indications are that the ishidden method relies on hasattribute hidden . i plan on submitting a pr tomorrow	76
460078	3587	overzealous	2013-08-14T17:02:40.000Z	[]	ngclass in 1.2.0-rc1 with animations awkward	6	i think the animating of ngclass doesn t make sense with 1.2.0-rc1 adding or removing a class works in a completely non-intuitive manner before it was easy to use class adding and removal to perform simple css-based animations add a class handle the css changes in the css no problem now however nganimate ends up waiting to add the new class until the animation has run then applies the new class then the actual animation happens as an example assume you had this .foo color white transition 5s ease all .foo.active color red and in your view span class foo ng-class active fooenabled hello world span previously the color would animate immediately upon setting fooenabled to true now there s a 5 second pause then the animation occurs as a workaround i ve found that you can set the class on a parent object and only have the transition on a child but this is really impractical i think there either needs to be a way to prevent ngclass from animating or disable animations on ngclass altogether it really doesn t make sense to add animations to ngclass though	189
460078	3613	damrbaby	2013-08-15T23:09:04.000Z	[]	nganimate v1.2.0rc1 ngrepeat shows stale items	6	when updating an array that is used for an ngrepeat the list will momentarily show what appears to be the previous items together with the new items before updating with the new items this only happens when nganimate is a dependency for the app please see http://plnkr.co edit fqri0w1j0hqtv3ctzsfi p preview when you click on the different lists in the above example you will see how it momentarily shows a combination of the previous and current lists before showing the current one watch carefully it happens very fast this buggy behavior will not occur when you remove nganimate . this bug is serious because it makes nganimate virtually unusable for apps that use ngrepeat due to the flashing	118
460078	3633	justinrknowles	2013-08-16T19:43:07.000Z	[]	angular doesn t work in ie 7 with v1.2.0rc1 at all	11	works with versions 1.0.7 and 1.1.5 http://plnkr.co edit ez7zyje7rn4p4fi3tmvs plunker doesn t work in ie 7 so you will have to serve locally the follow error is displayed in the developer-tools script-console sce iequirks strict contextual escaping does not support internet-explorer version 9 in quirks mode you can fix this by adding the text doctype html to the top of your html document see http://docs.angularjs.org api ng sce for more information i m using ie 8 in ie 7 standards mode	81
9852918	527	erisds	2013-08-25T15:15:13.000Z	[qa]	ghost install in subdirectory support	5	we want to support subdirectories so that someone can feasibly install their ghost at myurl.com blog . - parse the subdirectory out of the config.url - fix up ghost to then honor that subdirectory where necessary this includes in the url theme helper #528 and probably most of the internal paths - it would be awesome to do a temporary public demo install of this feature so it can be thoroughly tested	72
460078	3767	gingermusketeer	2013-08-27T14:14:03.000Z	[component: ngresource;;type: bug]	resource clobbering moment objects	4	for the project i am working we are making use of a custom httpprovider.defaults.transformresponse handler it is doing things like converting to camel case and turning dates strings into momentjs objects this approach has mostly been working except i have run into an issue where the moment objects are being turned into normal objects looking at the source it appears that the issue is to do with angular.copy not preserving the object-state behavior i tried to get around this by using setters and getters but these are also lost in translation it would be great if there was some way to customise configure the resource constructor or perhaps the copy function to prevent this angular -v 1.0.7	117
460078	3860	ciul	2013-09-03T23:39:50.000Z	[component: $compile;;type: bug]	element.wrap not working when jquery is present	7	hi i spent hours trying to figure you why my directive code wasn t working i came to make a simple directive example and realized that when i removed jquery it worked http://plnkr.co edit jeayyrhkjxiwcaouuofq p preview the element.wrap functions is doing as expected withouth jquery but when jquery is present well... any idea	54
9852918	628	erisds	2013-09-04T15:07:02.000Z	[]	clean up config - drop env and use it by default	11	with all the non-env settings removed in #624 #625 and #626 config now only contains the env-based settings therefore there is no need to have .env at all and we should serve the current environment s config by default - remove .env from config.js - make config in ghost.js return the correct config for the current environment - remove .env process.env.node env from code which uses config across the codebase including unit tests	73
460078	3950	devesh	2013-09-10T14:56:52.000Z	[]	documentation should show default values for optional-arguments	7	http://docs.angularjs.org api ng timeout does not show default values for the two optional-arguments even though the default values are documented in the source code	24
507775	3659	matthewarkin	2013-09-10T16:47:28.000Z	[enhancement;;v0.90.4;;v1.0.0.beta1]	include armhf version of java in jdk dirs	8	we re working on deploying elasticsearch in an arm environment and have noticed that the armhf version of openjdk-7 is not included in the jdk-dirs for the elasticsearch service now while java should theoretically set its java-home doing the default apt-get install openjdk-7-jre does not do this on x86 or arm which is why i m assuming the jdk dirs list was created the path would be usr lib jvm java-7-openjdk-armhf and usr lib jvm java-6-openjdk-armhf	76
460078	4011	damrbaby	2013-09-15T06:37:05.000Z	[component: nganimate;;needs: investigation;;type: bug]	nganimate 1.2.0-rc2 has performance impact	5	just by including the nganimate module in my project using latest code on master i am seeing noticeable performance degradation that is especially visible on devices with slower processors like the ipod-touch 4g in my case an ngrepeat with around 50-100 items and no css-transitions animations takes what could be 2-3x longer to render on a mobile device with nganimate . i noticed that the performanimation function is being called 50-100 times per digest the number goes up or down depending on the number of items in the ngrepeat . the animation code is being executed on all elements of directives that support animation whether or not there are actually css-transitions animations that apply to those elements and it has a performance impact for most animation-enabled directives it might not be a big deal but it is especially noticeable during the rendering and re-rending of items in an ngrepeat .	150
460078	4028	mik01aj	2013-09-17T11:42:08.000Z	[branch: 1.3.x;;frequency: moderate;;needs: investigation;;prs plz!;;type: bug]	nganimate - incorrect detection of transitionend too early never	9	see example http://plnkr.co edit jypcel p preview the div should have 1s transition on width and then 1s transition on background . in the example only the first transition works perhaps angular reacts to the transitionend event too quickly i m using version v1.2.0-4aa9d2a the latest master . tested on chrome 31 and firefox 23 on linux	57
8514	12261	tadast	2013-09-17T16:27:19.000Z	[activerecord;;postgresql]	activerecord does not serialize arrays for native postgres array type columns	11	the issue occurs when using #update column #update columns and #update all on a column of native postgres array type sometable.first.update column array column value 1 value 2 update some tables set array column value 1 value 2 ... i think the issue is here quote bound value where the value is passed in to the method with no information about the column type and therefore postgres specific https://github.com rails rails blob 45bc84d5ceb741967a41ef572b2cd0806a926a41 activerecord lib activerecord connection adapters postgresql quoting.rb#l30 quoting can not be invoked if my thinking is correct i can try to fix this	96
460078	4036	sgoll	2013-09-18T12:45:05.000Z	[frequency: low;;prs plz!;;type: feature]	filterprovider.register accept object in addition to name factory arguments	9	right now both controllerprovider.register and compileprovider.directive in addition to the usual pair of name and factory constructor arguments accept an object as a single argument mapping names to factory constructor functions this makes it possible to initialize a bunch of controllers and directives at once e.g from the exports of an amd module by calling app.directive require directives .controller require controllers . this is not possible however with filterprovider.register which has no special code for parsing objects which could be as simple as foreach name reverseparams register as in compileprovider.directive . i d like to know if there is a special reason for this and if not whether i should create a pull-request for the proposed change	117
9852918	826	erisds	2013-09-18T14:59:44.000Z	[bug]	2 of the image tests fail on windows	8	1 admin controller uploader valid file can upload two different images with t he same name without overwriting the first actual expected content images 2013 sep image -1 .jpg at object.assertion.equal c ghost ghost node-modules should lib should.j s 303 10 at object anonymous c ghost ghost core testunit admin spec.js 121 33 ... 2 admin controller uploader valid file can upload five different images with the same name without overwriting the first actual expected content images 2013 sep image -4 .jpg at object.assertion.equal c ghost ghost node-modules should lib should.j s 303 10 at object anonymous c ghost ghost core testunit admin spec.js 138 33 the images are uploaded and stored with incremental filenames as expected it is only the tests which are failing and afaik only on windows	130
9852918	850	johnonolan	2013-09-20T22:59:07.000Z	[bug]	admin redirect issue	3	i just set up ghost on an ec2 instance running behind nginx when i log in to admin i get redirected to ghost admin which 404s if i amend the urn to be ghost it works fine - looks like a nice simple one to solve - https://en.ghost.org forum using-ghost 85-redirect-issue-on-logging-in-to-admin	51
460078	4107	danieljsinclair	2013-09-22T20:42:02.000Z	[prs plz!;;type: chore]	jquery-migrate 1.1.0 shows warnings with angularjs 1.1.5 in various places	10	for example jquery.fn.attr selected may use property instead of attribute	10
9852918	864	erisds	2013-09-23T07:49:30.000Z	[]	image-upload url doesn t save in the right place	9	from the forum https://en.ghost.org forum using-ghost 233-bug-setting-image-using-link	7
9852918	871	erisds	2013-09-23T16:05:47.000Z	[bug]	sendmail bug	2	this one has been reported fixed at least twice on the forum here s one https://en.ghost.org forum using-ghost 263-bug-stray-n-character-when-auto-detecting-sendmail	19
9852918	872	erisds	2013-09-23T16:54:06.000Z	[]	change email-address for ghost mailer	5	from the forum https://en.ghost.org forum installation 167-change-email-address-for-ghost-mailer this should be an item in the mail config i think which defaults to ghost mailer	23
460078	4124	mgol	2013-09-23T18:16:24.000Z	[branch: 1.3.x;;component: nganimate;;frequency: high;;needs: investigation;;prs plz!;;type: bug]	nganimate causes serious layout trashing	5	using nganimate can cause serious layout trashing compare two videos 1 our current app nganimate included http://youtu.be kuf9vdyilt0 2 our current app with just one difference - removing nganimate from the list of modules our app depends on http://youtu.be 210vhxidy0o i recorded timeline profiles for an operation of switching the tab from the second to the third one version with nganimate causes a massive amount of reflows 1 timeline with nganimate included with-ng-animate https://f.cloud.github.com assets 1758366 1193892 da10e8e8-247b-11e3-8ffa-aedd54bcde94.png 2 timeline without nganimate without-ng-animate https://f.cloud.github.com assets 1758366 1193897 e7ddda1c-247b-11e3-8060-05256d3e0a86.png one of my colleagues @jrencz created videos of analogous operations on his 4-year-old macbook notice the slowness 1 nganimate included http://www.youtube.com watch v femsiwq1qai 2 nganimate excluded http://www.youtube.com watch v bshdaxuazu4	119
9852918	874	gotdibbs	2013-09-23T22:22:38.000Z	[]	automatically configure ghost for the right port when using iisnode	10	when ghost is running under iisnode the port is dynamically allocated so we need to utilize process.env.port as opposed to the port in the configuration this should be a fairly simple change to server.js .	35
9852918	886	johnonolan	2013-09-25T06:56:19.000Z	[]	rss feeds should display full post content	7	rss currently contain only a link to the blog from whence they came they should include the content	18
9852918	887	erisds	2013-09-25T08:01:39.000Z	[]	option to configure unix-socket instead of host port	8	from the forum https://en.ghost.org forum installation 351-make-ghost-listen-on-unix-socket-instead-of-tcp-port seems like express listen function will accept a socket rather than host port http://stackoverflow.com questions 7059518 setup-of-nginx-with-node-js let s change server.js so that if someone specifies socket inside config.server instead of host port that we use that not sure how to test this tho anyone game for giving it a go	58
460078	4170	benmccann	2013-09-26T16:31:36.000Z	[frequency: low;;type: feature]	ngcopy should be created	4	i d like to use the oncopy event https://developer.mozilla.org en-us docs web-api element.oncopy	13
9852918	942	erisds	2013-09-29T19:34:15.000Z	[bug]	able to download anything from the active theme directory	9	from the forum https://en.ghost.org forum bugs-suggestions 467-bug-able-to-view-download-anything-in-the-current-theme-directory i found this bug a few minutes ago where anyone is able to download view the contents of any file in your current theme directory this includes being able to download the handlebars templates which isn t really a desired ability e.g as an example http post.hbs will download the post handlebars template the same thing happens with readme.md we should probably lockdown theme static assets to not serve .hbs files or to only serve things from the subdirectories	86
9852918	956	sebgie	2013-10-02T05:21:08.000Z	[bug;;media]	bug image link is not removed from markdown	8	the link to an uploaded image is not removed in markdown when pressing the trashcan icon in the preview steps to reproduce - insert-image using - upload an image - press the trashcan icon - link is not removed from markdown - start typing - the removed image shows up again	51
9852918	975	erisds	2013-10-07T09:47:04.000Z	[bug;;editor;;media]	imageurl is not persisted	4	as demonstrated in my lxjs talk if you go back to the url view of the uploader when you have already inputted a url the url is not actually there	30
9852918	988	cobbspur	2013-10-09T09:50:54.000Z	[bug]	bug image-upload url method	4	re 956 whilst working on this issue i can see that the imageurl still has some bugs if multiple images are present the id gets confused - quirky results such as saving to wrong image placeholder or removing wrong image on trash can etc	44
460078	4362	siyfion	2013-10-10T08:53:20.000Z	[component: nganimate;;needs: investigation;;needs: more info;;type: bug]	why does ngview add the new element before the previous element when animating	13	this seems like it s completely the wrong way around to me if you want to do a simple fadeout - fadein animation you can t get it to look good because the new view pushes the old view down instantly i guess you could change the animation to a keyframed anim and set display none until it starts but it s a bit overkill..	65
460078	4436	sohai	2013-10-15T17:19:03.000Z	[]	http rest api call with empty respone + file always reject	11	https://github.com angular angular.js commit b019a48bb1176f3c9ce29b628a321b6ffe873393#diff-fc6d3d48fd6597bd97d30eab9497841br105 this line resolve file protocol event request goes to http its serious problem for phonegap apps	21
460078	4521	wizardwerdna	2013-10-18T17:37:22.000Z	[component: $compile;;needs: investigation;;severity: regression]	regression ng-include and ng-controller no longer work correctly on same element in -rc.3	13	the behavior of ng-include has changed in -rc.3 and appears to be a regression a simplified setup is along the lines of... html div ng-app app div ng-include main.html ng-controller mainctrl div div in -rc.2 this code worked as anticipated but in -rc.3 scopes are structured in such a way that the controller is no longer working as anticipated for example with main.html as html button ng-click addfoo new foo button div foos div and mainctrl.js as javascript angular.module app .controller mainctrl function scope.foos scope.addfoo function scope.foos.push foo i would expect a button to display above the text and after clicking the button the text would show foo then foo foo and so on that has been the behavior in earlier versions of angular including -rc.2 here is a plunker of the expected behavior with passing tests under rc.2 http://plnkr.co edit 0vomx4 p info under the new release candidate the scopes are structured in such a way that the display is not properly initialized and clicking the button does not trigger the addfoo function here is a plunker exhibiting the regression behavior with failing-tests under rc.3 http://plnkr.co edit 4gyjer p info interestingly the application will work correctly with ng-controller under both -rc.2 and -rc.3 if changes so that the ng-controller is placed alone and within a container element such as html div ng-app app ng-controller mainctrl div ng-include main.html div div or html div ng-app app ng-controller mainctrl div ng-controller mainctrl div ng-include main.html div div div clearly ng-controller is no longer working and playing well with other directives	259
460078	4587	dukeman330	2013-10-22T21:08:18.000Z	[]	completerequest issue in 1.2.0rc3	4	between rc2 and rc3 the assignment of the protocol variable in the completerequest function line 7090 has flipped the order for where it tries to find a protocol previously in rc2 and prior it was first checking the actual request for the protocol before trying to get it from locationprotocol now in rc3 it reads var protocol locationprotocol urlresolve url .protocol this happened to break compatibility for me in phonegap cordova - the code making the call is stored locally with the file protocol while the site i m making requests to is on an http:// protocol note i know this is technically an xss - phonegap has its own domain whitelisting system for preventing this from being a security hole	121
85670	1343	naouak	2013-10-23T08:41:10.000Z	[]	ie11 touch scroll doesn t work when drag n drop is used on the page	15	tested on windows-8.1 and ie11 if you plug y.plugin.drag to any node on the page the scroll with touch doesn t work anymore it still work using the scrollbar tough confirmed on any drag-and-drop example from the documentation	38
460078	4605	benol	2013-10-23T14:23:09.000Z	[frequency: low;;type: bug]	ng-repeat can t handle nan values	6	ng-repeat ends up in an infinite-loop when track by index is used and a nan value appears in the collection please see http://plnkr.co edit cv3moq and uncomment the breaking line in script.js	32
460078	4680	szwacz	2013-10-28T11:44:54.000Z	[severity: regression]	ngroute breaks with file protocol in 1.2.0-rc.3	7	hello here is code to reproduce the issue http://szwacz.com upload ng-route-bug.zip download it and launch locally index.html problem occurs only with file protocol symptoms on chrome opera and ie the view will not load no error visible in console on firefox for some reason this problem doesn t occur everything works as expected angular 1.2.0-rc.2 was free of this issue	60
9852918	1326	erisds	2013-10-29T12:25:08.000Z	[]	make it possible to require ghost as a module	9	i think this will probably require a significant amount of refactoring especially when considering the pre-loading of config and plugins however many many people have expressed a desire for this to be possible and several people have offered to make it possible so i figured i d track that conversation through this issue in short at the moment ghost can only be used as a standalone application it would be great if it was possible to require ghost and use it as part of a larger application the extension of this would be to make ghost work as express middleware as per #827 but i don t think that s the only use-case	113
460078	4751	ahoyahoy	2013-11-01T15:29:56.000Z	[branch: 1.3.x;;needs: investigation;;type: bug]	new isarraylike is faulty	4	if i want to use something like this angular.extend options radius 30 length 0 angular returns options because latest version isarraylike returns true new isarraylike check only length property	29
460078	4996	danielgatis	2013-11-18T01:20:28.000Z	[]	moment.js and scope watch when objectequality is true	8	hi i have a object that have a moment.js property like this javascript obj date moment status ok so if i watch this object with objectequality like this javascript scope watch obj ... true i get this errors error rootscope infdig 10 digest iterations reached aborting to fix this i need to override angular.equals function to compare momentjs objects correctly javascript function equals o1 o2 patch for moment if moment.ismoment o1 o1.tostring o2.tostring return true ... what is the best way to do this thanks	85
460078	5017	brettporter	2013-11-19T05:19:31.000Z	[component: ngmock;;frequency: moderate;;needs: investigation;;severity: broken expected use;;type: bug]	unit tests fail when run in australia	7	i m receiving the same error reported in this comment https://github.com angular angular.js pull 3474#issuecomment-23241136 i m also in australia sydney i was able to skip with --force but it d be good to get a clean bill of health for contributing chrome 31.0.1650 mac os x 10.9.0 ngmock tzdate should fake gethours method failed expected 4 to be 3 error expected 4 to be 3 at null anonymous users brett scm github angular.js test ngmock angular-mocksspec.js 60 29 expected 1 to be 0 error expected 1 to be 0 at null anonymous users brett scm github angular.js test ngmock angular-mocksspec.js 64 29 expected 22 to match 21 error expected 22 to match 21 at null anonymous users brett scm github angular.js test ngmock angular-mocksspec.js 68 29	127
1390248	8710	kiorky	2013-11-21T13:28:37.000Z	[bug]	fix multiple accumulator blocks for blockreplace	6	at the moment if multiple accumulator blocks are registered for a file they all will have the same content idea is to fix this behavior pull-request incoming... to explain more the pb echo tmp foo cmd.run prepend-foo-accumulator-from-pillar file.accumulated - require in - file prepend-foo-management - filename tmp foo - text foo append-foo-accumulator-from-pillar file.accumulated - require in - file append-foo-management - filename tmp foo - text bar prepend-foo-management file.blockreplace - name tmp foo - marker start #-- start salt managed zonestart -- please do not edit - marker end #-- end salt managed zonestart -- - content - prepend if not found true - backup .bak - show changes true append-foo-management file.blockreplace - name tmp foo - marker start #-- start salt managed zoneend -- please do not edit - marker end #-- end salt managed zoneend -- - content - append if not found true - backup .bak - show changes true will render to #-- start salt managed zonestart -- please do not edit bar foo #-- end salt managed zonestart -- #-- start salt managed zoneend -- please do not edit bar foo #-- end salt managed zoneend -- instead of #-- start salt managed zonestart -- please do not edit foo #-- end salt managed zonestart -- #-- start salt managed zoneend -- please do not edit bar #-- end salt managed zoneend --	227
460078	5118	provegard	2013-11-25T12:15:23.000Z	[frequency: high;;needs: more info;;resolution: duplicate;;severity: regression;;type: bug]	locationchangestart handler called outside of apply digest	7	i just upgraded to 1.0.8 and noticed that locationchangestart is now broadcast when the user hits the back-button however the behavior is inconsistent with normal location changes wrt apply digest normally the eventhandler for locationchangestart is called within apply digest but that s not the case-when the user hits the back-button demonstration of the problem http://plnkr.co edit eizvmk p preview	60
460078	5164	albvalente	2013-11-27T09:06:22.000Z	[component: forms;;frequency: low;;needs: investigation;;needs: work;;type: bug]	ng-required conflicts with ng-true-value	4	if i set ng-required something inside a checkbox ng-true-value does not work this issues happenes with 1.2.x not with 1.1.x plunker here http://plnkr.co edit qblikah1xmyqrsn5xkz0 p preview	27
1390248	8856	kiorky	2013-11-27T16:14:04.000Z	[feature]	zc.buildout support	2	soon a pull-request will income with a state execution module	10
507775	4303	javanna	2013-11-29T19:28:22.000Z	[bug;;v0.90.8;;v1.0.0.beta2]	minscore is not inclusive	4	see #3934	2
9852918	1605	halfdan	2013-12-01T21:58:51.000Z	[bug]	bug headings are being highlighted for certain keywords	8	reported in the forum https://ghost.org forum bugs-suggestions 3261-greyed-out-heading affected keywords are signup forgotten reset since headings in the editor preview are automatically annotated with an id they conflict with the css stylings of the signup form update by @erisds notifications is another one we need to make sure all ids in sass are scoped or removed	56
5238231	797	paullewis	2013-12-06T20:41:44.000Z	[bug]	nav should highlight current section	5	because it doesn t and that s not good ux	10
460078	5323	learningjs	2013-12-08T01:56:03.000Z	[component: ngtouch;;needs: more info;;type: bug]	chrome-for-android slowness and broken binding	5	a couple days ago i opened an issue https://github.com mobilechromeapps mobile-chrome-apps issues 36 for mobile-chrome-apps . testing a basic mobile-chrome app with angularjs i have experienced a noticeable lag between the typing in an input text and the output between a click on a button or a link and the output in a test tag showing the result of an operation some times when typing nothing happened etc . then i tried some simple code in web pages and again i have experienced the same issues testing with chrome-for-android beta and stable . no issue testing with firefox dolphin etc . long story short if i am not wrong this is something related with angularjs versions 1.2.2 1.2.3 and 1.2.4 and only affecting chrome-for-android - and mobile-chrome apps - no chrome per desktop or other mobile browsers . angularjs version 1.2.1 is not affected by those issues at all and chrome-for-android behaves normally for what i tested . tested on samsung note 2 and galaxy-tab 2 7.0 with android 4.1.2	170
1644196	5090	stefankarpinski	2013-12-10T15:20:12.000Z	[performance;;types and dispatch]	type-inference of and chains	4	although i fixed https://github.com julialang julia issues 5084 by using a trinary operator which is better style anyway imo type-inference on the short-circuit and operators could be tighter julia julia f b bool b error nope 1 f generic-function with 1 method julia code typed f bool 1-element array any 1 expr lambda b #s2 b bool 0 #s2 bool 2 quote # none line 1 unless b bool goto 0 #s2 throw expr new top getfield base errorexception type errorexception nope errorexception none goto 1 0 #s2 false 1 unless #s2 bool goto 2 return #s2 bool 2 return 1 end julia f true error nope in f at none 1 julia f false 1 this can only ever return an int and we could definitely infer that	129
203666	2469	philk	2013-12-10T19:15:59.000Z	[rackspace]	rackspace monitoring not handling pagination	5	the all and overview calls 1 in rackspace monitoring don t actually handle pagination which means once you get over 100 entities the behavior changes in a non-obvious way since marker is never returned anywhere you can t even manually paginate attn @krames 1 https://github.com fog fog blob master lib fog rackspace models monitoring entities.rb#l16	55
9852918	1680	erisds	2013-12-15T10:59:09.000Z	[]	secure cookies	2	if a blog is using https it should probably use secure cookies too proper explanation by @sebgie here https://github.com tryghost ghost issues 1300#issuecomment-29445650 since the cookie is now only available on admin it would be sensible to change it to secure if https is forced the secure flag will tell the browser to transmit the cookie over https only should look something like this but needs thorough testing express.session proxy true addthis when behind a reverse-proxy and you need secure cookies cookie secure true ...	85
460078	5513	ciget	2013-12-22T21:58:17.000Z	[component: $compile;;frequency: low;;prs plz!;;type: bug]	in attribute variable inside directive attribute does not has right value	11	when i create my directive to use with autonumeric try to use variable attr inside compile function like this compile function telm tattrs so problem is when i put in html data-a-sep attribute with value space when i try to get this value from directive by using this tattrs.asep it returns me empty not a space as for me - it s a bug or i miss something thanks a lot	71
460078	5587	spirographer	2013-12-31T21:22:55.000Z	[frequency: low;;prs plz!;;type: bug]	ng-repeat behaves weirdly if angular is accidentally loaded twice or more	11	the app below demonstrates how ng-repeat will square cube etc the number of items in a table depending on how many times angular.js is loaded in the page html ng-app brokentable head title broken angular table title script src https://ajax.googleapis.com ajax libs angularjs 1.2.6 angular.min.js script script src https://ajax.googleapis.com ajax libs angularjs 1.2.6 angular.min.js script script if window.angular document.write script src angular.min.js script script script type text javascript var app angular.module brokentable app.controller brokentable function scope scope.headings one two three scope.fillings 1 2 3 a b c 7 8 9 script head body ng-controller brokentable table tr th ng-repeat heading in headings heading th tr tr ng-repeat filling in fillings td ng-repeat fill in filling fill td tr table body html	121
460078	5602	jrupac	2014-01-02T19:48:03.000Z	[component: forms;;frequency: low;;prs plz!;;type: bug]	ngoptions in select does not support free-style code	8	as of 1.2.6 the parser accepts multilinestring in ng-repeat however the same does not exist for ng-options in select elements the current regex for matching ng-options is javascript var ng options regexp s . s+as s+ . s+group s+by s+ . s+for s+ w w s w w s s w w s s+in s+ . s+track s+by s+ . following the same pattern to fix #5000 the new regex could be javascript var ng options regexp s . s+as s+ . s+group s+by s+ . s+for s+ w w s w w s s w w s s+in s+ r n s s s+track s+by s+ . in the above r n s s is added after in s+ replacing the . there however i have not tested the above change there may be other elements that also support iteration and don t allow multiline strings that i missed too	151
507775	4609	lmenezes	2014-01-03T16:40:16.000Z	[enhancement;;v0.90.10;;v1.0.0.rc1]	feature request - expose headers on httprequest	7	there is a method available for retrieving the value of a header but it s not possible to iterate over all headers is there a reason why this is not exposed if not would be nice having that	38
9852918	1836	gimelfarb	2014-01-04T01:56:49.000Z	[bug]	forceadminssl does not work when not behind reverse-proxy	8	reproduction steps 1 set forceadminssl true in config.js for development environment 2 run ghost locally node index.js 3 navigate to http://localhost 2368 ghost expected a redirect to https actual no redirect the issue is in core server middleware index.js 179 . code assumes secure https connection when x-forwarded-proto header is not set that s a wrong assumption	57
9852918	1837	gimelfarb	2014-01-04T02:08:36.000Z	[bug]	default 404 error page is not styled when forceadminssl is true	11	because of #1836 this is more involved to reproduce locally either run behind proper reverse-proxy that will set x-forwarded-proto header or on windows can use fiddler2 http://fiddler2.com debugging proxy and in filters tab force x-forwarded-proto header to be added to all requests set it to http to simulate httpconnection via reverse-proxy . reproduction steps 1 setup as explained above 2 set forceadminssl true in config.js for development environment 3 run ghost node index.js 4 clear browser-cache e.g ctrl+f5 5 navigate to http://localhost 2368 blah expected 404 error page with default admin styling i.e doh . ghost image actual unstyled raw 404 error page css fails to load the issue is in core server middleware index.js 221-225 . the line expressserver.use subdir + ghost middleware.whenenabled admin express static path.join corepath client assets maxage one year ms appears after expressserver.use checkssl . the checkssl middleware will try to redirect any request to ghost ... resources to https connection but in this case some ghost ... resources are admin theme static-files from the client assets folder the two lines should be swapped i.e check for staticresource should occur before attempted ssl redirect that way static admin theme resources can be served properly regardless of whether this is http or https connection	208
9852918	1843	erisds	2014-01-04T14:29:27.000Z	[bug;;media]	ghost-busboy middleware should not use user provided filename	8	ghost busboy is using the user provided filename when storing the temporary file without any sort of checks this poses a security issue especially when ghost is run as root or a very privileged user as it is possible to trick ghost into overwriting files it has write access to this is an issue with unreleased code and must be fixed before 0.4 can be released expected behaviour ghost-busboy should use a random filename probably a hash of the user provided name and a timestamp or some such big thanks to @roly for raising this via our security mailing-list	99
9852918	1854	erisds	2014-01-05T17:29:01.000Z	[bug;;media]	import should be done via ajax instead of form-submit	9	in some senses this is a duplicate of #1654 however this issue refers only to changing how import is done so that import and upload can both be moved after the csrf middleware the import tool should be changed to work in much the same way as the reset tool such that the form is submitted using ajax and csrf is set using headers rather than a formfield this means that the field does not need to be parsed out in order for csrf to work and the csrf middleware can be moved before the upload and import routes ghost busboy should then be set as part of the middleware stack for the specific routes in routes admin and routes api rather than being set in middleware index so that it is explicit and clear that these routes require auth and csrf-protection	142
460078	5677	jorgt	2014-01-08T00:15:25.000Z	[]	ie8 function createxhr method returns window.xmlhttprequest is undefined	8	javascript function createxhr method ie8 doesn t support patch method but the activexobject does global activexobject return msie 8 lowercase method patch new activexobject microsoft.xmlhttp new window.xmlhttprequest in ie8 on get and other requests this returns a new window.xmlhttprequest which at least in my case throws a typeerror object-expected exception shouldn t this always return the activexobject where ie8 is concerned angularhttprequest https://f.cloud.github.com assets 2444503 1864665 98d98f34-77f9-11e3-9600-58d173c12b07.png	67
507775	4665	martijnvg	2014-01-09T10:59:53.000Z	[:internal;;adoptme;;enhancement;;low hanging fruit]	put destructiveoperations logic into a guice component or merge it into an existing component	14	the destructiveoperations class is a statefull helper but initialized several times in the transport actions that rely on its logic this should become a guice component or merge into an existing component so it will initialized only once the same applies for autocreateindex class perhaps both classes can be merged into a single component	54
460078	5811	darkoverlordofdata	2014-01-15T02:23:36.000Z	[]	install node.js dependencies fails	4	i m following the install instructions at http://docs.angularjs.org misc contribute and this step fails # install node.js dependencies npm-install i get this message in the log please try running this command again as root administrator this requires sudo npm-install more info... after installing as root i was getting other errors when running grunt webserver and grunt testunit i uninstalled everyhing then i installed gunt and after a few go-rounds i discovered that i needed to install bower also sudo npm-install -g grunt-cli sudo npm-install -g bower after installing these two dependencies the unprivileged npm-install succeeded as well as the webserver and test-suite	102
460078	5838	derekhu	2014-01-16T15:58:46.000Z	[]	eval array expression with locals returns wrong	7	scope.a b scope scope eval a 0 .b b locals expect returns scope but returns locals scope eval a 0 .b c locals returns scope as expect	27
85670	1572	hatched	2014-01-22T21:57:08.000Z	[docs]	io documentation does not mention username and password use for basic auth	12	the documentation for y.io does not mention the user password configuration properties for xhr open even though it is supported	20
9852918	2028	mikl	2014-01-25T16:42:24.000Z	[bug]	import button does not work in firefox	7	if you go to the semi-secret import page in firefox and try to import a file the click on the import button is not hijacked by the javascript and the form is instead submitted normally as a rather pointless get-request to http://localhost 2368 ghost debug importfile ghostdata.json . if you don t inspect the url it looks like nothing happens i have not been able to nail down the root cause here but it seems to be related to some of the magic going on with the click event in debug.js https://github.com tryghost ghost blob master core client views debug.js source cc#l25 .	103
1390248	9960	jeteokeeffe	2014-01-26T21:43:28.000Z	[bug;;medium severity]	salt virt.query errors out	4	centos epel version salt 0.17.4 python 2.6.6 r266 84292 nov 22 2013 12 16 22 jinja2 2.2.1 m2crypto 0.20.2 msgpack-python 0.1.13 msgpack-pure not installed pycrypto 2.0.1 pyyaml 3.10 pyzmq 2.2.0.1 zmq 3.2.4 querying the specific server it works as expected root@ -ecp states # salt-run virt.query -ecp.bookit.com -ecp.bookit.com test1 cpu 6 memory 29360128 state running graphics vnc - -ecp.bookit.com 5900 disk - vda size 0 file dev mapper vg root-lv pm root file-format raw disk - vdc size 0 file dev mapper vg root-lv pm swap file-format raw disk - vdb size 0 file dev mapper vg root-lv pm log file-format raw nic - 52 54 00 83 42 d9 source br0 type bridge then virt.hyper info works root@ -ecp states # salt-run virt.hyper info -ecp.bookit.com ---------- freecpu 2 freemem 3239 node info ---------- cpucores 4 cpumhz 2094 cpumodel x86 64 cpus 8 cputhreads 1 numanodes 2 phymemory 32167 sockets 1 but virt.query fails w a trace root@ -ecp states # salt-run virt.query error an un-handled exception was caught by salt s global exceptionhandler typeerror string indices must be integers not str traceback most recent call last file usr bin salt-run line 10 in module salt run file usr lib python2.6 site-packages salt scripts.py line 90 in salt run client.run file usr lib python2.6 site-packages salt cli init .py line 346 in run runner.run file usr lib python2.6 site-packages salt runner.py line 153 in run self.opts fun self.opts arg self.opts file usr lib python2.6 site-packages salt runner.py line 85 in cmd return self.functions fun args kwargs file usr lib python2.6 site-packages salt runners virt.py line 76 in query salt.output.display output chunk virt query opts file usr lib python2.6 site-packages salt output init .py line 30 in display output display data get printout out opts data .rstrip file usr lib python2.6 site-packages salt output virt query.py line 14 in output for vm in data id vm info typeerror string indices must be integers not str traceback most recent call last file usr bin salt-run line 10 in module salt run file usr lib python2.6 site-packages salt scripts.py line 90 in salt run client.run file usr lib python2.6 site-packages salt cli init .py line 346 in run runner.run file usr lib python2.6 site-packages salt runner.py line 153 in run self.opts fun self.opts arg self.opts file usr lib python2.6 site-packages salt runner.py line 85 in cmd return self.functions fun args kwargs file usr lib python2.6 site-packages salt runners virt.py line 76 in query salt.output.display output chunk virt query opts file usr lib python2.6 site-packages salt output init .py line 30 in display output display data get printout out opts data .rstrip file usr lib python2.6 site-packages salt output virt query.py line 14 in output for vm in data id vm info typeerror string indices must be integers not str i did a little debugging and data looks like this -ecp.bookit.com virt.full info is not available # which is not the correct server among other problems updated by @basepi for triple-backtick readability	498
460078	6080	angelochen960	2014-02-01T08:36:00.000Z	[component: ngresource;;resolution: duplicate;;type: bug]	property name started with not included in object return from resources	11	hi here is a simple gist https://gist.github.com angelochen960 8749530 the json returned from server has this content blah title ipsum when i use http to get result is correct but if i use resources i got only title ipsum if i use angularjs 1.0.7 i got the content as well only when it s 1.2.10 why gist is here https://gist.github.com angelochen960 8749530 thanks	63
9852918	2102	erisds	2014-02-02T12:28:24.000Z	[apps;;config;;data]	database schema additions for apps	5	draft i m keeping this as a draft for now as i d like some input on the exact schema to give apps some ability to store sensible data in a consistent way we need to add a few new default tables the first is the appsettings table which provides for apps to store their own settings appsettings id type increments nullable false primary true uuid type string maxlength 36 nullable false key type string maxlength 150 nullable false unique true value type text maxlength 65535 nullable true owner type string maxlength 150 nullable false created at type datetime nullable false created by type integer nullable false updated at type datetime nullable true updated by type integer nullable true it is pretty much identical to the settings table but with an owner column which should contain a string to identify which application created the setting instead of a type column do we need anything else here the second thing i d like to add is the custom data and posts custom data tables better names are very much welcome bulb these tables should allow apps to effectively create new columns on the posts table or rather add additional properties to the posts object custom data id type increments nullable false primary true uuid type string maxlength 36 nullable false name type string maxlength 150 nullable false unique true value type text maxlength 65535 nullable true type type string maxlength 150 nullable false defaultto html owner type string maxlength 150 nullable false created at type datetime nullable false created by type integer nullable false updated at type datetime nullable true updated by type integer nullable true post custom data id type increments nullable false primary true post id type integer nullable false unsigned true references id intable posts custom data id type integer nullable false unsigned true references id intable custom data there is more to consider here - should the custom data table be this general - should the post custom data table have proper foreign-keys - is the type column needed on custom data or does this belong elsewhere - is there more information needed to be stored foreach item of custom data like validation or permission rules or should this information be kept somewhere else also something i m thinking about with this schema how should we fetch the data should we always fetch the additional columns or should we add use a with option that that apps can pass via the api and augment the queries elsewhere in the app by using filters is that too complicated how is this going to affect performance etc	438
9852918	2106	aiampogi	2014-02-03T08:00:09.000Z	[bug;;themes]	content words # returns all content if the first html word is an image markdown that has single quote in its alt text	23	### issue summary content words # returns all content regardless of the specified number if the first html word is an image markdown that has single quote in its alt text ### steps to reproduce 1 when creating a post have the first element be an alternate text with someimage.jpg 2 use content words 0 or any number 3 notice that all the content will be parsed not just the specified number of html words this is a bug because the specified number of html words should be included in the content words # even if the alt text of the img has a single quote apostrophe watch this screen-capture for details https://f.cloud.github.com assets 2859127 2062972 1e3a1bda-8ca9-11e3-9c93-3f78a0c16590.gif ### technical details - ghost version production version 0.4.1 - client os windows 8 - server os windows 8 - node version v0.10.24 - browser chrome	143
9852918	2115	erisds	2014-02-03T21:53:12.000Z	[themes]	the #has block helper	4	note originally discussed in #1574 and #1562 the idea for the has block helper is the result of much discussion and is an attempt to provide the tools theme developers need to do different things based upon the context they are in we deliberately and specifically avoid logic in templates where possible handlebars only allows boolean conditionals the has helper is generic enough to solve many scenarios for ghost theme devs whilst still not entering into the murky land of defining what is pretty much an entire programming language the intention is that the has helper will allow you to ask questions about the object in the current context starting with asking questions about what tags the current post has like if the current post has the tag funny #post #has tag funny ... do something with all the posts which have a tag of funny ... else ... do something with all the posts which don t have a tag of funny ... has post the attribute tag allows for asking questions about tags with just one tag provided it checks for just the single tag however there are other formats available for asking other questions if the post has the tags funny or video #has tag funny video ... has if the post has the tags funny and video #has tag funny video ... has for simplicity the and and or forms cannot be used together as a block helper has needs to support inversing so that the not form of any question can be done by using handlebars or else syntaxes has tag funny video ... has #has tag funny video ... else ... has	278
9852918	2138	erisds	2014-02-07T12:10:35.000Z	[apps;;data]	model extension for apps	4	once #2102 is done we will need to extend our models to be able to use the new database tables once the discussion around #2102 is complete i ll update this issue to include details around what needs to be done but in short - we ll need models for appsettings and app fields - we ll need a way to augment the existing models with additional data from app fields we can limit the ability to extend the existing models to just posts for now and add users and tags in 0.6 we may also want to split this issue into one for appsettings and a different one forall the app fields one	114
460078	6287	narretz	2014-02-17T10:15:55.000Z	[type: docs]	make the commit-message guidelines more prominent when sending a pull-request	10	there exist a lot of pull requests mainly documentation that remain unmerged even though the changes are very small typos etc . most of these have in common that the commit messages don t follow the guidelines outlined in contributing https://github.com angular angular.js blob master contributing.md almost at the very end is this the reason why they remain unmerged in any case users should get better instructions regarding the commit messages when they send a pull-request is there a github-api for that the default commit-message provided is update filename can that be changed or is it possible to teach the bot to parse commit messages and add a note if it is not correct	114
460078	6289	volkert	2014-02-17T11:21:18.000Z	[]	compile throws an error when template has tfoot as root element	11	the following plnkr shows the problem http://plnkr.co edit 40hprhcnlqm02znrwv4p templates with tfoot as root element throw an error this was already fixed for other table elements like td tr and tbody in this commit https://github.com angular angular.js commit 31c450bcee53d0a3827b7e0a611e9013b2496506 i would love to fix this issue and contribute but unfortunately i m not sure where to begin any recommendations	59
9852918	2217	erisds	2014-02-18T20:27:05.000Z	[themes]	remove the deprecated helper pageurl	5	in #2216 pageurl is being renamed to page url but the original name is being left in as an alias with a deprecated warning message we ve left that in for a ghost version to give theme developers time to update their themes after #2216 is complete and we have shipped 0.5 we need to clean up after ourselves and remove the deprecated pageurl alias	65
460078	6535	atomrc	2014-03-04T09:51:27.000Z	[browser: firefox;;component: nganimate;;frequency: high;;severity: regression;;type: bug]	nganimate + rafprovider crashes when browser doesn t support requestanimationframe or is prefixed with moz	15	the rafprovider is adding a supported property to indicate whether the browser supports or not the requestanimationframe see https://github.com angular angular.js blob 04d7317cdd95ba00783389f89f6e9a7e1fc418f8 src ng raf.js#l18 but the nganimate doesn t check this property before using it see https://github.com angular angular.js blob master src nganimate animate.js#l261 . i would be happy to make a pull-request on this but my question is is it best to add a fallback on a timeout directly in the rafprovider or to check for the supported property every time it is used i think just adding the mozrequestanimationframe would be a good start	98
9852918	2356	erisds	2014-03-07T08:59:46.000Z	[data]	additions for the apps schema model	6	we have identified a number of additional properties that are needed to complete the apps schema model - slug - type string maxlength 150 nullable false unique true - version - type string maxlength 150 nullable false - status - type string maxlength 150 nullable false defaultto inactive there may be more	52
507775	5366	drewr	2014-03-07T19:09:15.000Z	[:cat api;;enhancement;;v1.2.0;;v2.0.0-beta1]	add configured threadpool sizes to cat threadpool	7	cat threadpool has a .size column foreach threadpool that maps to threadpoolstats.getthreads which if there hasn t been any activity in the threadpool makes the number misleading for checking your settings curl localhost 9200 cat threadpool h h i bulk.size v h i bulk.size iota.local 192.168.1.68 0 we should add .max and .min columns mapped respectively to threadpool info.getmax and threadpool info.getmin foreach pool	64
460078	6626	nesquick	2014-03-09T22:46:02.000Z	[component: ngtouch;;frequency: low;;needs: public api;;severity: inconvenient;;type: feature]	let swipe ignore mouse movement	5	hey everyone i have a usecase where the swipeable area also contains some text which the user might want to select but when i now have the swipe directive http://docs.angularjs.org api ngtouch service swipe in place whenever i select text the directive triggers the swipe event so please give me the choice to deactivate it heart heart heart p.s only the bravest heros are going to implement this dancers	69
460078	6675	bpampuch	2014-03-13T20:33:35.000Z	[component: nganimate;;frequency: low;;severity: broken expected use;;type: bug]	nganimate breaks jquery.transit and possibly other transform-based animations under chrome	10	i m trying to animate transforms using javascript-based animations ... enter function element done element.transition scale 1.5 done ... although the above behaviour could be easily achieved using css i need to use js-animations it s part of a bigger scenario . unfortunately this doesn t work under chrome the transform is immediately set to the final value the problem is nganimate in its animatesetup disables the transition with blocktransitions as a workaround for a bug in chrome ff as it claims . apparently this workaround leads to another bug under chrome ff http://plnkr.co edit z4smcsdmvabpmvtnlzkp p preview	98
9852918	2424	hswolff	2014-03-17T00:01:47.000Z	[admin-client;;config]	ember.js settings debug tab	4	this currently exists in the ember branch in a non-functional manner this task is to port over the existing behavior into ember so that the screen behaves as it currently does in production please note - forall ember tasks we are currently mocking all ajax requests so that we can move forward without that blocking progress - if you find anything that is blocking the completion of this task please make note in this thread so we can find the best way to find a resolution usually these blocking issues are also blockers on other issues - right now the aim is to reach parity with production ### tasks - implement controller porting over logic from existing backbone.view - https://github.com tryghost ghost blob ember core clientold views debug.js	128
9852918	2443	erisds	2014-03-18T22:40:52.000Z	[tests]	refactor the api route tests to use supertest	8	there is a suite of api tests currently located in core test functional api which should probably live in core test functional routes api . these tests currently use request which is awesome but not as clear and concise as supertest we d like to refactor them to use supertest the same as the admin and frontend route tests note we also want to refactor the existing supertest tests #2442	70
1644196	6307	ncnc	2014-03-29T21:57:48.000Z	[build;;windows]	mingw build fails without win32 winnt in jcflags	8	i occasionally run native mingw builds 64-bit windows 32-bit binaries but the latest one failed due to c90c0afd6ebc9bd89f6f2e128fa6dee08b6e7a77 is anyone else seeing this in particular removing the win32 winnt define from jcflags causes uv.h to give the following error cc src support hashing.o in file included from d projects julia compile-32bit julia deps libuv include uv.h 59 0 from ios.h 5 from hashing.c 9 d projects julia compile-32bit julia deps libuv include uv-win.h 241 3 error unknown typename srwlock srwlock srwlock make 3 hashing.o error 1 make 2 support libsupport.a error 2 make 1 julia-release error 2 make release error 2 fwiw this patch seems to fix it for me diff --git a make.inc b make.inc index e6d4ad2..7d9e7fa 100644 --- a make.inc +++ b make.inc @@ -482 6 +482 7 @@ endif ifeq os winnt oslibs + -wl --export-all-symbols -wl --version-script juliahome src julia.expmap no whole archive -lpsapi -lkernel32 -lws2 32 -liphlpapi -lwinmm -ldbghelp -lssp +jcflags + -d win32 winnt 0x0600 jcppflags + -d win32 winnt 0x0600 jldflags -wl --stack 8388608 ifeq arch i686	174
460078	7054	darkoromanov	2014-04-09T08:34:05.000Z	[component: $location;;frequency: low;;severity: inconvenient;;type: bug]	error in location.path path with integer argument	7	location.path 1 throws an error if the argument is integer should you cast the argument in the angular.js core typeerror object 1 has no method charat at http://code.angularjs.org 1.2.13 angular.js 9034 17 at object.path http://code.angularjs.org 1.2.13 angular.js 9129 22 at site.saverud.then .growl.error.message http://ruds4.local js controllers.js 351 27 at wrappedcallback http://code.angularjs.org 1.2.13 angular.js 11033 81 at http://code.angularjs.org 1.2.13 angular.js 11119 26 at scope eval http://code.angularjs.org 1.2.13 angular.js 12045 28 at scope digest http://code.angularjs.org 1.2.13 angular.js 11871 31 at scope apply http://code.angularjs.org 1.2.13 angular.js 12151 24 at done http://code.angularjs.org 1.2.13 angular.js 7909 45 at completerequest http://code.angularjs.org 1.2.13 angular.js 8110 7	98
9852918	2597	erisds	2014-04-16T11:26:50.000Z	[themes]	remove the old body classes	5	note this must only happen once we have shipped 2 releases in which the new replacement paged and page- slug classes are available the new classes should become available with the closure of issue #1967 which should happen in the release after 0.5.0 once we are ready we need to remove the archive-template body class and also the page-template- slug classes this is done in the body class core helper	70
460078	7212	jeromiya	2014-04-23T12:56:12.000Z	[]	form-level ngmodeloptions	2	ngmodeloptions is a great feature but i d love to be use ngmodeloptions on a form element and have those options inherited by default foreach field of the form i often have a set of fields in a form that should all have the same ngmodeloptions but in the current implementation i have to specify ngmodeloptions foreach field individually if one were to specify ngmodeloptions at the form level i could avoid repeating myself it should still be possible to override those form-level options by specifying ngmodeloptions for a particular field also perhaps a service or provider should allow the default ngmodeloptions values to be specified globally so the option inheritance would would be global options - form options - field options	122
460078	7240	wizek	2014-04-24T18:57:01.000Z	[component: $compile;;frequency: moderate;;needs: investigation;;severity: broken expected use;;type: bug]	directive template ng-show ng-if ng-transclude throws exception bug	8	http://jsbin.com pemadama 1 this should work without throwing the exception right	11
1390248	12422	creaky	2014-04-30T18:55:42.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform;;state module]	bug file.blockreplace inserts additional blank-line on multi-line content	8	bug file.blockreplace will introduce an unwanted final newline when given multi-line content patch to correct this bug has been included at end cause the behaviour of split when the separating string is provided is to return a list including one more item than the number of occurrences of the separator in the string in the original code this means a line with a terminating newline character at the end will return a list of two items being the line content and the terminating line character as the original code then introduces a newline foreach item in the list the unwanted final newline is thus produced reproduce yaml test file.blockreplace - name tmp testfile - marker start # startmarker - marker end # endmarker - content # test line 1 # test line 2 - backup false expected output # startmarker # test line 1 # test line 2 # endmarker actual output # startmarker # test line 1 # test line 2 # endmarker patch --- . salt modules file.py.orig 2014-04-17 03 25 04.000000000 +0000 +++ . salt modules file.py 2014-04-30 17 27 12.000000000 +0000 @@ -1110 6 +1110 11 @@ # end of block detected in block false + # check for multi-line n terminated content as split will + # introduce an unwanted additional newline + if content -1 n + content content -1 + # push new block content in file for cline in content.split n new file.append cline + n	244
460078	7337	fals	2014-05-02T22:03:21.000Z	[browser: firefox;;browser: ie11;;resolution: not core]	ng-open doesn t work on mozila firefox 28.0+	8	there s some bug related to ng-open and mozila firefox 28.0+. even the live demo from angular js doesn t work as expected	23
507775	6118	uboness	2014-05-11T03:57:27.000Z	[feature;;release highlight;;v1.4.0.beta1;;v2.0.0-beta1]	aggregations add filters aggregation	4	add a filters note the s aggregation that takes a list of filters and uses them to construct multiple buckets technically the user could create multiple filter aggregations however this gets messy if they have several sub aggregations as they would need to copy the contents into each of the toplevel aggregations	52
9852918	2757	sebgie	2014-05-14T15:12:28.000Z	[api]	unsupported method for route	4	refs #2187 if a method is used that is not supported by the route a 404 not found error is returned from the available http-status-codes i would say that 405 method not allowed would be a better fit additionally we would make it easier to debug for external integrations in the future example request put ghost api v0.1 posts response 404 no ghost found	64
460078	7715	luismreis	2014-06-05T17:15:00.000Z	[component: forms;;frequency: low;;severity: regression;;type: bug]	fix select ... breaks some selects with required attributes on firefox	11	the commit https://github.com angular angular.js commit dc149de9364c66b988f169f67cad39577ba43434 breaks selects with a required attribute and an disabled default empty option but only on firefox please check this jsbin http://jsbin.com wobod 3 on both chrome and firefox	35
460078	7717	jeffbcross	2014-06-05T18:14:41.000Z	[branch: 1.2.x;;component: $http;;prs plz!;;type: perf]	checking xsrf before checking cache unnecessarily slows component rendering	9	@jbdeboer found an issue in angulardart which was implemented the same as angularjs concerning fetching cached templates within http the service is checking xsrf tokens before checking the cache for the template which was adding 2ms to template load-time foreach component that used templateurl for a page with 500 components in use e.g button components in a table this could add 1s to page rendering time see https://github.com angular angular.js blob ff0369883e73fa0f937d2bbb3c86e9267103d7f6 src ng http.js#l605 a nice performance gain can be achieved by moving this xsrf logic to after the cache check	92
1390248	13312	kevintsai	2014-06-07T07:12:21.000Z	[bug;;confirmed;;medium severity]	out of order the execute sequence when use the names parameters in states	13	##### description out of order the execute sequence when use the names parameters in states ##### environment master centos6.5 salt-master 2014.1.4 minion centos6.5 salt-minion 2014.1.4 ##### sls aaa cmd.run - names - echo a1 - echo a2 bbb cmd.run - name echo b1 ##### summary the result says the sequence is a1- b1- a2 it confused me is it running as a1- a2- b1 sequence actually or it s asynchronous running when use names parameters is it possible to know the actually running sequence sorry for my poor english and many question about the issue	95
460078	7855	dnchristiansen	2014-06-16T20:30:18.000Z	[component: forms;;frequency: low;;severity: regression;;type: bug]	version 1.2.15 broke functionality with select and ng-options	8	we have some functionality where it s possible that after a select is changed the model could end up back at the same value it was before this worked fine up to version 1.2.14 see this fiddle http://jsfiddle.net k8eaa as the select is changed the select shows the correct model c after it is changed see this fiddle with version 1.2.15 http://jsfiddle.net kdg38 as the select is changed it stays on what it was changed to and doesn t reflect what s in the model we also have some functionality that removes certain options in certain cases basically we have a few selects that all have the same options and then don t allow the same option to be selected for the other selects we do this by removing options that are already selected in the other selects this issue only seems to be a problem in ie11 in ie11 view this fiddle with version 1.2.14 http://jsfiddle.net uluxp change the last select to aaa all the other selects show the correct value based on the model see this fiddle with version 1.2.15 http://jsfiddle.net s37yp change the last select to aaa all the other selects now show the first option which does not match the model it seems very likely that this behavior was introduced with this commit https://github.com angular angular.js commit dc149de9364c66b988f169f67cad39577ba43434 i tried reverting those changes locally and then the selects work as expected i tried all this with the latest 1.2.18 version and these issues still exist	249
460078	7909	blambeau	2014-06-19T20:18:13.000Z	[]	exceptions in event handlers not catched by exceptionhandler	8	see https://gist.github.com blambeau b865bd2fdacb1f821ac5 myapp.directive bang function return link function scope element attr element.on click function throw new error bang the bang exception above won t be catched by the exceptionhandler i m not sure if it s intentional or not i understand that it might be hard to catch but it is at least counterintuitive	56
9852918	3019	erisds	2014-06-21T18:02:29.000Z	[admin-client;;editor]	keyboard-shortcuts fix the alt+ctrl altgr clash	6	our shortcuts for headings and also for strikethrough both use a combination of alt + ctrl . on most keyboard layouts used with windows there is an altgr or right alt key this altgr key is equivalent to alt + ctrl and is frequently used in combination with other keys to produce special-characters it is therefore not recommended http://en.wikipedia.org wiki altgr key#control .2b alt as a substitute to use alt + ctrl as a modifier in custom-keyboard shortcuts for windows unfortunately there are not really any good combination of modifier + number key which can be used for the headings it has therefore been suggested that we use ctrl cmd + h to cycle through the headings it would also be preferred to replace alt + ctrl + u with some other combination for strikethrough google-docs uses alt + shift + 5 .	143
8514	15912	phallstrom	2014-06-25T18:24:20.000Z	[actionmailer]	email default headers are not overwritten if headers is used only if headers passed into mail method .	18	the documentation seems to say that default headers can be overridden per email method and that s true if you pass the headers into the mail call directly but if you use headers it doesn t seem to work here s a short example class mailer actionmailer base default x-test default def works email mail to email x-test custom end # email-headers will contain # x-test custom def broken email headers x-test custom mail to email end # email-headers will contain # x-test custom # x-test default end here are additional tests applied to master that illustrate the failure https://gist.github.com phallstrom 4fdcf425b291a5371841 from my testing it seems the issue is that headers passes the headers directly to the mail message object passing them to mail triggers this bit of code here which reverse merges the defaults into what was passed https://github.com rails rails blob master actionmailer lib actionmailer base.rb#l760 i m not sure what the right fix is but something seems wrong or at least in need of clarification	169
460078	8000	gorpacrate	2014-06-26T16:09:03.000Z	[component: ngrepeat;;frequency: low;;severity: confusing;;type: bug]	ngrepeat key val in obj skips when obj has length 0 property	12	this kind of data easily might comefrom database reason https://github.com angular angular.js blob master src ng directive ngrepeat.js#l287 https://github.com angular angular.js blob master src ng directive ngrepeat.js#l305 example http://jsfiddle.net hb7lu 4593	31
1390248	14184	johngrasty	2014-07-14T05:59:29.000Z	[bug;;fixed pending verification;;high severity;;regression]	minion alert disconnect breaks salt on smartos	7	pull-request #13354 breaks salt on smartos smartos and illumos in general does not have lsof which is used in utils network.py https://github.com felskrone salt blob 314f3d06627ad39bde54f499c94024c8538e1e20 salt utils network.py#l953-l996 . smartos does ship with a dreadfully slow bash script called lsof here is it s usage info lsof pid -p display port information forall processes -f display file information forall processes -p pid show all ports used by this process -f pid show all-files used by this process -o port show all processes that use this port -i file show all processes that use this file -d directory show all processes that use this directory	105
460078	8276	dbwhddn10	2014-07-21T05:01:47.000Z	[frequency: low;;type: docs]	angular docs error	3	https://docs.angularjs.org api ng service interpolate in this page i think js allornothing mode exp interpolate greeting name false null true expect exp context true .tobeundefined context.name angular expect exp context true .toequal hello angular is wrong but js allornothing mode exp interpolate greeting name false null true expect exp context .tobeundefined context.name angular expect exp context .toequal hello angular is correct exp function is function context when i test with jsfiddle http://jsfiddle.net bvc62 91	74
460078	8290	narretz	2014-07-22T08:58:39.000Z	[component: forms;;frequency: moderate;;severity: broken expected use;;type: feature]	add option to write invalid modelvalues to scope	8	since the validation refactoring theoretically all invalid models appear in the input even if invalid it s however not possible to write an invalid modelvalue to the scope the validators now actively set modelvalue to undefined when it is invalid meaning that users cannot use the previous workarounds for this behavior they now only have invalidmodelvalue to get the raw value but that is undocumented and quasi-private additionally with validators it is not possible anymore to use a parser to set the model even if invalid another common workaround i propose we use ng-model-options to make it possible to write the parsed modelvalue to scope even if invalid why is this needed 1 server-side-validation with using setvalidity manually is broken see https://github.com angular angular.js issues 8080#issuecomment-48144595 2 keeping input regardless of validity see https://github.com angular angular.js issues 1412#issuecomment-11302951 3 displaying invalid models from db etc it currently displays the invalid model in the input but at the sametime resets the model to undefined see http://plnkr.co edit fapn7epuhajjgnsjwilg p preview 4 all common workarounds for this are broken in 1.3 cc @matsko @shahata @petebacondarwin @caitp	184
460078	8341	97jaz	2014-07-25T16:45:36.000Z	[component: ngresource;;frequency: low;;prs plz!;;severity: inconvenient;;type: feature]	feature request provide http-status to the success callback of resource	10	when a resource request fails you get the response object passed to the error callback and you can retrieve that http-status from that when the request succeeds however the success callback is given only the payload and the headers it s often important to be able to distinguish between different success cases using the httpresponse code it s not uncommon to have post requests that either create and return a new resource http 201 or find and return an existing one that will fill the present need http 200 . or say the difference between a 201 your resource was created and here it is vs a 202 we ll try to create this resource check back later .	119
1390248	14550	eliasp	2014-07-28T15:54:28.000Z	[bug;;core;;medium severity;;p3]	using yaml anchors references in pillars causes conflicting ids	9	how to reproduce 1 create a pillar like this yaml yamltest defaults defaults group users path var lib app mask 0644 definitions main defaults test defaults path var lib testapp staging defaults mask 0555 2 use it in an sls like this yaml for definition data in salt pillar.get yamltest definitions .iteritems yamltest- definition test.succeed without changes - name definition endfor 3 apply it to a minion yaml mn1221-c0013 data failed to compile ---------- pillar failed to render with the following messages ---------- rendering sls pillars.yamltest failed render error conflicting id path the problem seems to be that the keys duplicated by using the anchor reference aren t merged before being further evaluated	113
1390248	14643	linuturk	2014-07-30T16:50:40.000Z	[feature;;riot;;salt-cloud]	salt-cloud openstack provider server personality	5	add the ability to define server personality in the salt-cloud configurations for provider and profiles the end goal is to be able to slap in a bootstrap.bat file for a windows-server to open up 445 for the salt-cloud bootstrap process @gtmanfred	41
9852918	3565	dbalders	2014-08-01T20:53:02.000Z	[]	bug createuser page still loads on revoked invites	8	### issue summary after you have invited a user even if you revoke the invite the page still loads like they can sign up it does not allow them to create their account but still it should error out i would think ### steps to reproduce 1 invite new user 2 revoke that user 3 click on the link that was sent and it will load the page like they can sign in ### technical details - ghost version 0.5.0rc - client os mac 10.9 - server os ubuntu-12.04 - browser chrome - database sqlite - digitalocean and local	99
1390248	14784	thusoy	2014-08-06T07:51:23.000Z	[bug;;medium severity]	fileclient reads entire file to memory when hashing	8	the hash file function in fileclient.py currently reads in the entire file to be hashed to memory to compute the hash this causes memory errors when managing large-files reading the file in chunks and using hash.update chunk would solve this problem these lines https://github.com saltstack salt blob develop salt fileclient.py#l835-l836 causes the problem python with salt.utils.fopen path rb as ifile ret hsum hash type ifile.read .hexdigest	66
85670	1933	pdehaan	2014-08-07T18:14:22.000Z	[]	update request version	3	it looks like you re using an older version of the request module which has a vulnerable version of qs see advisory https://blog.liftsecurity.io 2014 08 06 denial-of-service-in-qs . package.json 15 https://github.com yui yui3 blob 10d1cd5e1e2266ce2ff660620bfaba2340b400a1 package.json#l15 you ll want to update to at least request@2.40.0 see mikeal request#992 ### steps to reproduce sh # npm i nsp -g git-clone git@github.com yui yui3.git . # 175mb npm-install npm shrinkwrap --dev wrote npm-shrinkwrap.json nsp shrinkwrap name installed patched vulnerable dependency qs 0.6.6 1.x yui bower request qs 0.6.6 1.x yui bower request qs 0.6.6 1.x yui request qs 0.6.6 1.x yui request connect 1.9.2 2.8.1 yui yogi grover express qs 0.4.2 1.x yui yogi grover express qs 0.4.2 1.x yui yogi grover express marked 0.2.10 0.3.1 yui yogi yuidocjs connect 2.6.0 2.8.1 yui yogi combohandler express qs 0.5.1 1.x yui yogi combohandler express connect qs 0.5.1 1.x yui yogi combohandler express connect connect 2.7.5 2.8.1 yui yogi express qs 0.5.1 1.x yui yogi express connect qs 0.5.1 1.x yui yogi express connect qs 0.6.6 1.x yui yogi yeti request qs 0.6.6 1.x yui yogi yeti request qs 0.6.6 1.x yui yogi git-travis travis-ci request qs 0.6.6 1.x yui yogi git-travis travis-ci request	200
1390248	14850	nibbler999	2014-08-08T13:07:22.000Z	[]	package state not working on fedora arm	7	sls packagelist-chrony pkg.installed - pkgs - chrony result id packagelist-chrony function pkg.installed result false comment package chrony not found possible matches chrony.armv7hl changes version 2014.1.7 salt 2014.1.7 python 2.7.5 default jun 25 2014 10 34 01 jinja2 2.7.3 m2crypto 0.21.1 msgpack-python 0.1.13 msgpack-pure not installed pycrypto 2.6.1 pyyaml 3.10 pyzmq 13.0.2 zmq 3.2.4	53
1390248	14978	boltronics	2014-08-14T06:57:56.000Z	[bug;;help wanted]	setting file.replace show changes false always reports changes were made	10	the file.replace state module provides a show changes option so confidential-information such as passwords are not logged this is a great idea but unfortunately the implementation doesn t seem to work here is an example if salt pillar.get postfix config for file in salt pillar.get postfix config for setting in salt pillar.get postfix config + file setting setting in file settings file.replace - name file - pattern setting s . - repl setting salt pillar.get postfix config + file + + setting - count 1 - backup false # setting show changes to false always incorrectly reports that changes were made . # - show changes false - require - file set etc postfix main.cf permissions endfor endfor endif when show changes is set to true salt s output looks like id setting inet interfaces in etc postfix main.cf settings function file.replace name etc postfix main.cf result true comment no changes were made changes however setting show changes is set to false i always get id setting inet interfaces in etc postfix main.cf settings function file.replace name etc postfix main.cf result true comment changes were made changes ---------- diff true re-calculating the checksum of the file in question confirms that no changes are actually made versions on both the master and minion salt 2014.1.7 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 pyyaml 3.10 pyzmq 13.1.0 zmq 3.2.3 this is on debian wheezy amd64	246
507775	7312	marcelog	2014-08-18T13:41:24.000Z	[bug;;v1.4.0.beta1;;v2.0.0-beta1]	aggregations datehistogram with negative pre offset or post offset value ends-with message not fully read response for	17	hey guys we re using version 1.3.2 and oracle jre 1.7.0 67 the cluster has 3 nodes 2 data nodes and 1 used only to route searches . there is a separate different named cluster of 1 node using marvel to collect statistics from the first one no other nodes in the network and no custom manually made java clients around as the title says when doing a datehistogramaggregation using a negative value for either pre offset or post offset yields the message transport.netty message not fully read response for 69208 handler org.elasticsearch.search.action.searchservicetransportaction 6@f58070b error false resetting in the logs note that every other query works flawlessly this is only reproduceable when using the arguments pre offset and or post offset in a datehistogram with a negative value and with more than 1 node in the cluster facts so far gist with the output of nodes jvm true pretty https://gist.github.com marcelog 010c0bdb1c6bf9b664f1 . gist with sample query https://gist.github.com marcelog d96f5ad06944da1231d7 same query but without negative values in pre offset and post offset works it doesn t return the results we expect of course but no errors warnings are shown in the logs this previous issue https://github.com elasticsearch elasticsearch issues 5178 doesn t seem to be related there are no other nodes in the network and there are no custom java clients around either the sample query works when there is only one node in the cluster and we start to get these error messages when adding more nodes 2 will suffice to reproduce the issue . any ideas in the meantime we solved the issue by using pre zone and post zone instead of pre offset and post offset . negative values are ok and everything is running smoothly with those we tried index search and snapshot operations . no error messages in the logs thanks in advance	308
1390248	15143	syava	2014-08-21T12:06:10.000Z	[bug;;fixed pending verification;;help wanted;;medium severity]	salt master unboundlocalerror	3	hi i m using salt-master 2014.7.0-234-g1858114 and i got error 2014-08-20 17 04 20 693 salt.master critical unexpected error in mworker traceback most recent call last file usr lib pymodules python2.7 salt master.py line 613 in bind ret self.serial.dumps self handle payload payload file usr lib pymodules python2.7 salt master.py line 649 in handle payload clear self handle clear key load file usr lib pymodules python2.7 salt master.py line 658 in handle clear return getattr self.clear funcs load cmd load file usr lib pymodules python2.7 salt master.py line 1320 in auth minions salt.utils.minions.ckminions self.opts .connected ids file usr lib pymodules python2.7 salt utils minions.py line 427 in connected ids for ipv4 in grains.get ipv4 unboundlocalerror local variable grains referenced before assignment after removeall cache and restart master this error disappeared as a backend used git + localfs	137
1390248	15195	chrish42	2014-08-22T20:34:22.000Z	[bug;;fixed pending verification;;help wanted;;medium severity]	misleading exception when empty password in mysql user.absent	8	if i run the following sls file under salt some id mysql user.absent - host localhost - connection host localhost - connection user root - connection pass # note empty password here - connection charset utf8 i currently get the following exception id some id here function mysql user.absent name result false comment an exception occurred in this state traceback most recent call last file usr lib python2.6 site-packages salt state.py line 1379 in call cdata kwargs file usr lib python2.6 site-packages salt states mysql user.py line 239 in absent if salt mysql.user exists name host connection args file usr lib python2.6 site-packages salt modules mysql.py line 991 in user exists dbc connect connection args file usr lib python2.6 site-packages salt modules mysql.py line 256 in connect dbc mysqldb.connect connargs file usr lib64 python2.6 site-packages mysqldb init .py line 81 in connect return connection args kwargs file usr lib64 python2.6 site-packages mysqldb connections.py line 187 in init super connection self . init args kwargs2 typeerror connect argument 3 must be string not none changes it d be nice to get an error message that points out the empty connection pass instead of a traceback that looks completely unrelated to the cause of the problem this is with rhel 6.5 salt 2014.1.7	211
1390248	15218	whiteinge	2014-08-24T05:39:52.000Z	[bug;;fixed pending verification;;high severity;;salt-api]	arguments to runner functions not passed through in salt-api	9	text curl -b tmp cookies.txt -ssi -h accept application x-yaml http://localhost 8000 -d client runner -d fun jobs.lookup jid -d jid 20140823233206283030 http-1.1 200 ok content-length 128 access-control-expose-headers get post access-control-allow-credentials true vary accept-encoding server cherrypy 3.3.0 allow get head post cache-control private date sun 24 aug 2014 05 36 15 gmt access-control-allow-origin content-type application x-yaml set-cookie session id 4e32b0091aa7037917ed5ee9d2054e26bc31904e expires sun 24 aug 2014 15 36 15 gmt path return - exception occurred in runner jobs.lookup jid saltinvocationerror lookup jid takes at least 1 argument 0 given	88
460078	8763	amichair	2014-08-25T14:09:48.000Z	[prs plz!;;type: docs]	datefilter am pm case	4	the current documentation for the datefilter is inconsistent about the case of the a am pm format - the output is uppercase but the docs mostly show lowercase which is misleading other than fixing the docs it would be great to actually support the two different formatting options e.g a for uppercase and a for lowercase the inverse would be more intuitive but a is already used for uppercase so for backward compatibility s sake... or just use a different letter for lowercase .	84
1390248	15331	jacksontj	2014-08-27T21:56:05.000Z	[bug;;medium severity]	failed lowstate with requisites hides the error message	8	if i have the following sls working cmd.run - name date - prereq - file tmp foobar trafficserver service - running # broken tmp foobar file.managed - source salt badtemplate - template jinja - watch in - service trafficserver and the following file and i run the state i get the following output local ---------- id working function cmd.run name date result false comment one or more requisite failed started duration changes ---------- id tmp foobar function file.managed result false comment one or more requisite failed started duration changes ---------- id trafficserver function service.running result false comment one or more requisite failed started duration changes summary ------------ succeeded 0 failed 3 ------------ total states run 3 i thought originally this had something to do with the watch vs watch in but if i do the opposite working cmd.run - name date - prereq - file tmp foobar trafficserver service - running - watch - file tmp foobar tmp foobar file.managed - source salt badtemplate - template jinja i get the same output it seems that the state file which fails overwrites its output with the one or more requisites error since it has requisite keys attached to it even though they are the wrong direction i would expect everyone but that lowstate to have that error . i m looking into this a bit on my own but the state compiler is complicated any help would be appreciated	238
1390248	15542	kiorky	2014-09-05T10:22:44.000Z	[]	1e2846551d0cdef633a3d46b544161aa0bbca606 breaks outputter with encoding errors	6	preparing a fix for 1e2846551d0cdef633a3d46b544161aa0bbca606	5
460078	8948	doronhorwitz	2014-09-05T13:45:25.000Z	[component: ngresource;;type: bug]	strange behaviour of @ -prefixed parameter values in ngresource resource action with get	13	found and tested in angularjs v1.2.23 when creating a custom resource action you can specify default params using the params key for that action with an object whose values can be prefixed with an @ . this allows you to call the resource action with params that specify a key with the same name as that that has an @ prefix and it will get binded to that value when the action is called but i believe the behaviour of it is strange here s the example javascript var resource resource api user userid view customaction method get params userid @id resource.customaction id 1234 the url you expect to be called is api user 1234 view but instead what actually gets called is api user view id 1234 and what s more is if you change method to post or put it works correctly going to the first url api user 1234 view meaning that this strange behaviour only happens for get now i realise that this is the behaviour specified by the documentation link https://docs.angularjs.org api ngresource service resource if the parameter value is prefixed with @ then the value for that parameter will be extracted from the corresponding property on the data object provided when calling an actionmethod . for example if the defaultparam object is someparam @someprop then the value of someparam will be data.someprop . ... but why only the data object surely the values from the parameters should be used too especially since get methods don t allow for a request body i ve stepped through the code which causes this behaviour and it occurs at line 524 of angular-resource.js in angularjs v1.2.23 https://github.com angular angular.js blob 00456a8f93b0b168393041dae4460bf0b0acc04c src ngresource resource.js#l524 javascript route.seturlparams httpconfig extend extractparams data action.params params action.url since only data is passed in as the first param to extractparams only data will be used to replace any @ values so according to what i believe as a first step a combination of data and params should be passed in instead javascript route.seturlparams httpconfig extend extractparams extend params data action.params params action.url there would have to be a bit more work to remove any params which actually get binded to the @ value so that they don t appear after the in the url but i would be happy to do this and make a pull-request for it if someone can confirm my logic	401
507775	7758	ppf2	2014-09-17T01:34:25.000Z	[:search;;adoptme;;bug;;low hanging fruit]	better handling when attempting to search with source filtering against docs with disabled source	14	reproducible using java-api 1.3.x see repro at https://gist.github.com ppf2 1a14a31b3add6c450c10 in short if you have a doctype with source disabled and if you attempt to use the java-api to search for docs of this type specifying source filtering via searchsourcebuilder you will receive an unintuitive exception java exception in thread main org.elasticsearch.action.search.searchphaseexecutionexception failed to execute phase query fetch all shards failed shardfailures bqswdvhit7wctejkymhnha disable source 0 elasticsearchillegalargumentexception no matching contenttype for null	72
1390248	15887	gravyboat	2014-09-17T20:50:24.000Z	[documentation;;help wanted]	update salt bootstrap tutorial to fix instances of install salt.sh.sh	10	this ties into https://github.com saltstack salt-bootstrap issues 465 but it looks like when i copied over some of the commands into the bootstrap tutorial http://docs.saltstack.com en latest topics tutorials salt bootstrap.html i missed the fact that there were a few occurrences of .sh.sh for the commands that should be fixed	50
1390248	15968	babilen	2014-09-19T14:53:09.000Z	[]	mount.mounted does not remove old fstab entries on changes	9	if you change the - device line in a mount.mounted state salt will not remove the previously persisted entry in etc fstab . this is easily reproducible with a state such as srv foo file.directory foo-mount mount.mounted - name srv foo - device var cache salt - fstype none - opts - bind that is mounted and then subsequently changed to srv foo file.directory foo-mount mount.mounted - name srv foo - device var cache salt master - fstype none - opts - bind i see the following behaviour when i do this root@testbox # salt state.highstate testbox ---------- id srv foo function file.directory result true comment directory srv foo updated changes ---------- srv foo new dir ---------- id foo-mount function mount.mounted name srv foo result true comment target was successfully mounted added new entry to the fstab changes ---------- mount true persist new summary ------------ succeeded 2 failed 0 ------------ total 2 root@testbox # ls srv foo master minion root@testbox # cat etc fstab # unconfigured fstab for base system var cache salt srv foo none bind 0 0 root@testbox # salt-run fileserver.update root@testbox # salt state.highstate testbox ---------- id srv foo function file.directory result true comment directory srv foo is in the correct state changes ---------- id foo-mount function mount.mounted name srv foo result true comment target was successfully mounted added new entry to the fstab changes ---------- mount true persist new umount forced unmount because devices don t match wanted var cache salt master current none none summary ------------ succeeded 2 failed 0 ------------ total 2 root@testbox # cat etc fstab # unconfigured fstab for base system var cache salt srv foo none bind 0 0 var cache salt master srv foo none bind 0 0 root@testbox # which is obviously not optimal i also believe that this might be involved in the problems that i mention in https://github.com saltstack salt issues 15696#issuecomment-56181701 root@testbox # salt --versions-report salt 2014.1.10 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 pyyaml 3.10 pyzmq 13.1.0 zmq 3.2.3	347
9852918	4172	halfdan	2014-09-25T23:41:24.000Z	[server]	refactor middleware + express apps	5	this is a follow up to #1961 and #4069 the ghost middlewares are currently a complete mess we have two apps blog and admin and some middlewares foreach in middleware index.js and others in middleware middleware.js . some of the middlewares are shared between both apps others really only make sense on one the separation of blog and admin into their own express apps was a good start to get things cleaned up as part of this issue the following tasks should be considered - x find a new home foreach middleware - refactor ghost api into its own express app - clean up the set up process of ghost how the express app gets initialised - x improve test-coverage for middleware i ll be working on all of these	130
9852918	4174	sebgie	2014-09-26T09:05:42.000Z	[data;;oauth]	add columns to client table	5	this belongs to the oauth epic #4004 - please read this for the big picture of what this issue is for --- add the following columns to the already existing client table to enable more oauth features - client id - unique id of the client uuid could be used for that - redirection uri uri used to redirect after authentication attempt - trusted domains - if we want to allow more than one trusted domain per client we would need another table for 1 n relations - logo url with the logo of a client - status development enabled disabled - type values webserver installed app client-side ghost admin - description this issue includes creating a new migration to the next database version	124
507775	7927	philmcmahon	2014-09-30T10:37:25.000Z	[]	log4j rollingpolicy support	3	i ve been trying to get elasticsearch to compress logfiles with gzip this requires a rollingfileappender using a timebasedrollingpolicy http://stackoverflow.com questions 3329385 compress-log4j-files . i ve tried to do this using the configuration below but without success i think because log4j extras isn t included in elasticsearch https://github.com elasticsearch elasticsearch blob master src main java org elasticsearch common.logging log4j logconfigurator.java . could support for this be added at some point appender file type rollingfile file path.logs elasticsearch.log.gz rollingpolicy timebasedrollingpolicy rollingpolicy.filenamepattern path.logs elasticsearch d yyyy-mm-dd .log.gz layout type pattern conversionpattern d iso8601 thanks	92
1390248	16284	kt97679	2014-09-30T20:55:36.000Z	[feature;;fixed pending verification]	better master logging while rejecting minions	6	when master rejects minions you can find something like this in the log 2014-09-28 11 26 17 695 salt.master info authentication request from 06a0f6edca72424b8b3091acf485dff4 2014-09-28 11 26 17 695 salt.master info public-key rejected for 06a0f6edca72424b8b3091acf485dff4 it would be very helpful if there would be reason for rejection if there were issues with key or if minion is in the rejected list .	62
1390248	16381	bechtoldt	2014-10-04T10:41:48.000Z	[bug;;execution module;;fixed pending verification;;help wanted;;platform]	broken quota.get mode output in 2014.7	6	salt -v myhost quota.get mode executing job with jid 20141004123839864794 ------------------------------------------- myhost ---------- device ---------- device quotaon found # mount sysfs on sys type sysfs rw nosuid nodev noexec relatime proc on proc type proc rw nosuid nodev noexec relatime udev on dev type devtmpfs rw relatime size 10240k nr inodes 506126 mode 755 devpts on dev pts type devpts rw nosuid noexec relatime gid 5 mode 620 ptmxmode 000 tmpfs on run type tmpfs rw nosuid noexec relatime size 406156k mode 755 dev mapper vg0-root on type ext4 rw relatime errors remount-ro user xattr barrier 1 data ordered tmpfs on run lock type tmpfs rw nosuid nodev noexec relatime size 5120k tmpfs on run shm type tmpfs rw nosuid nodev noexec relatime size 812300k dev vda1 on boot type ext2 rw relatime errors continue	135
1390248	16508	o1e9	2014-10-09T12:16:25.000Z	[bug;;platform;;windows]	wrong disk.usage reported for very big raid disk	8	hi i am running 2014.1.10 on both server and client windows storage server 2008 r2 . disk.usage runner it seems is using 32bit int variables to report 1k blocks so the result for 28gb filesystem would be # salt nasserver disk.usage d ---------- 1k-blocks -5184028680192 available 4890295828480 capacity 194 filesystem d used -10074324508672 it seems to me that 64bit values need to be used to report diskusage cheers oleg	69
460078	9515	marosivanco	2014-10-09T12:57:17.000Z	[component: jqlite;;needs: more info]	angular.element.scope returns undefined	3	angular.element.scope is undefined when the application is loaded in iframe by changing the iframe src attribute the following code should return reference to scope but returns undefined javascript angular.element document.body .scope the code above is executed in the onclick handler after the document is loaded and angular has finished bootstrap html script document.addeventlistener click function console.log angular.element document.body .scope script the issue manifests itself only when the document is loaded in the iframe by modifying its src attribute tested with 1.3.0-rc.5 without jquery	83
460078	9592	weisk	2014-10-13T14:31:17.000Z	[component: forms;;frequency: moderate;;severity: regression;;type: bug]	track by no longer working	5	hi guys on v1.3.0-rc.5 track by won t set the inner value on options with the desired property didn t happen on rc.4 see plnkr http://plnkr.co edit sscmku p preview reproducable always browsers independent operating-system independent	36
460078	9607	danwahlin	2014-10-14T06:53:32.000Z	[component: ngroute;;frequency: moderate;;severity: regression;;type: bug;;type: feature]	changing location.path newurl in routechangestart	5	i m upgrading an app to 1.3.0 and was previously redirecting a user to a login-page as needed when routechangestart fired by calling location.path login . with 1.3.0 i see the ability to call preventdefault now nice addition but that completely shuts off location redirects such as to a loginview . location.path login does work when preventdefault hasn t been called but it only changes the browser url but not the view what s the recommended way of doing a redirect now to another view within routechangestart here s an example of what i m trying to do pretty standard with older versions of angular javascript rootscope on routechangestart function event next current if next next route next route.secure if authservice.user.isauthenticated was calling this but commenting out to keep it simple authservice.redirecttologin changes url but not the view - goes to original view that i m trying to redirect away from now with 1.3 fine with it but interested in understanding the proper way to do it now so loginview gets redirected to location.path login event.preventdefault nice addition can t do any redirect when it s called though i m assuming there s a different technique now for this type of task in 1.3.0	204
1390248	16647	kiorky	2014-10-15T15:48:36.000Z	[]	unless onlyif is not properly handled ignored	7	sls a cmd.run - name bin true b cmd.run - name echo toto - unless bin true - watch - cmd a leads in local ---------- id a function cmd.run name bin true result true comment command bin true run started 17 46 36.036284 duration 10.033 ms changes ---------- pid 11023 retcode 0 stderr stdout ---------- id b function cmd.run name echo toto result true comment command echo toto run started 17 46 36.056290 duration 9.006 ms changes ---------- pid 11025 retcode 0 stderr stdout toto summary ------------ succeeded 2 changed 2 failed 0 ------------ total states run 2 instead of local ---------- id a function cmd.run name bin true result true comment command bin true run started 17 48 05.743951 duration 10.072 ms changes ---------- pid 12748 retcode 0 stderr stdout ---------- id b function cmd.run name echo toto result true comment unless execution succeeded started 17 48 05.754324 duration 9.298 ms changes summary ------------ succeeded 2 changed 1 failed 0 ------------ total states run 2 im pushing the already done fix	173
460078	9666	dmytroyarmak	2014-10-17T13:26:58.000Z	[]	incorrect behavior of deregistration function returned from rootscope on when called twice	12	hello i ve notice that when you call deregistration function more than one time it decrease listenercount each time https://github.com angular angular.js blob master src ng rootscope.js#l1105-l1108 after listenercount becomes zero breadcast starts ignore this event and it cause that other listeners for the same event will not be called https://github.com angular angular.js blob master src ng rootscope.js#l1219 ### reproducing here is plunker and steps to reproduce http://plnkr.co edit bhtwlu p preview we have page with two handlers that bound to sampleevent 3 buttons that broadcasts and unbinds handlers block with displayed listenercount value 0 sampleevent count equal 2 1 click emit simple event 2 two alerts should appear 3 click unregister first handler 4 sampleevent count equal 1 5 click emit simple event 6 one alert should appear 7 click unregister first handler second time #### actual result there is no sampleevent count and second handler is not triggered after broadcast sampleevent #### expected result sampleevent should still be 1 and second handler should be triggered after broadcast sampleevent i m going to create pull-request with fix for this bug after few minutes	184
507775	8192	jpountz	2014-10-22T15:35:25.000Z	[:search;;feature;;v5.0.0-alpha1]	search expose lucene s searchafter in the search api	9	we already integrated indexsearcher.searchafter in https://github.com elasticsearch elasticsearch issues 4940 in order to make deep pagination more efficient with the scroll api however in quite a number of cases using the scroll api is not possible as it is heavy and requires to associate a scroll context to each search request and to clear this context when it is not needed anymore so if you have a user-facing application that needs to perform deep pagination performance is terrible because of the pagination and you cannot really use the scroll api since scroll contexts are costly and users typically don t explicitely tell the application when they don t need the context anymore a middle ground could be to allow configuring an array of sort values and we would only search after these sort values compared to the scroll api it would have the downside of not always requesting the same point-in-time view of a shard so you can miss documents because of deletes or see documents twice because of insertions but you already have this issue when paginating using from size on the other hand performance could be much better since it would allow to manage smaller priority queues on each shard note in order for this feature to work well with pagination the uid should be used as a last element of the sort specification otherwise the sort order for documents that have the same sort values would be undefined it is defined in the case of lucene using doc ids but this doesn t work with elasticsearch because we do not always query the same shard and if a merge happens between 2 requests doc ids could be reordered	281
460078	9897	randombk	2014-11-04T04:40:06.000Z	[component: $location;;component: scopes;;type: bug]	remove popstate hashchange eventhandler when app is torn down	9	when bootstrapping an app angularjs adds an eventlistener to window to handle popstate and hashchange events file src ng browser.js on lines 285 and 287 . this is not removed during teardown of the app meaning that a later instance will be affected by the route state configuration of the previous app see issue #9877 . these handlers should be deregistered when the app s root dom element is removed or when destroy is called on an app s rootscope for the most part this looks to be the only handler not attached to the app s dom root judging by a quick-search for jqlite window .on so fixing this should go a long way towards being able to fully teardown and remove every part of an angular application without requiring a page-refresh	133
460078	9995	petejohanson	2014-11-11T03:35:47.000Z	[component: forms;;frequency: low;;severity: broken expected use;;type: feature]	ng-maxlength validator does not respect allow negative values	8	the standard maxlength attribute on input allows specifying a negative value to provide the default behaviour i.e unlimited length . for using a databound dynamic value for ng-maxlength i need the ability to allow an unlimited length as an option however with the current code if you add an ng-maxlength attribute the only way to allow an unlimited length is to default it to some hardcoded very large value ideally i could do input type text ng-maxlength validation.maxlength -1 input and have it work as expected currently with 1.3.1 this results in an invalid input regardless of the length	99
9852918	4434	joshwillik	2014-11-11T15:33:38.000Z	[]	https + subdirectory mount causes ghost to be inaccessable	9	# problem code check to see if we should use ssl and redirect if needed function checkssl req res next if issslrequired res.isadmin if req.secure var forceadminssl config.forceadminssl redirecturl check if forceadminssl redirect false is set which means we should just deny non-ssl access rather than redirect if forceadminssl forceadminssl.redirect undefined forceadminssl.redirect return res.sendstatus 403 redirecturl url.parse config.urlssl config.url return res.redirect 301 url.format protocol https hostname redirecturl.hostname port redirecturl.port pathname req.path query req.query next # reproducing conditions in order to get to the problem code issslrequired must return true this will happen if config.url includes https . next req.secure must be false this can happen when the blog is set up behind a reverse-proxy without a few configuration lines express does not trust that the connection is secure see fix 2 below then you get to this line redirecturl url.parse config.urlssl config.url return res.redirect 301 url.format protocol https hostname redirecturl.hostname port redirecturl.port pathname req.path - problem query req.query if the site is mounted on a subdirectory like blog the req.path for blog ghost is just ghost . to fix this just substitute req.path for redirecturl.path . however this causes another problem if the nginx misconfiguration still exists in that case the request will end up back in this handler and the whole thing will loop again # the solution ## fix 1 set the pathname correctly on the problem line pull-request coming soon ## fix 2 the parent app of the ghost instance must trust the reverse-proxy so set app.set trust proxy localhost . or the ip of the reverse-proxy once that is done make sure the proxy is setting x-forwarded-proto https when the request is passed to the nodejs app	281
460078	10004	blaise-io	2014-11-11T17:19:40.000Z	[component: misc core;;component: scopes;;severity: broken expected use;;type: bug]	support one-time-binding in ng-pluralize	4	i would expect this to work but it doesn t ng-pluralize count foo when 0 zero 1 one other many ng-pluralize . example http://plnkr.co edit iafi3p p preview any plans to make this work	34
1390248	17945	mclarkson	2014-11-12T08:43:57.000Z	[bug;;medium severity]	2014.7.0 fileserver.update returns error	4	# salt-run fileserver.update error git fileserver backend is enabled in master config file but could not be loaded are pygit2 and libgit2 installed but gitpython is installed and remote git repositories for salt and pillar work correctly # cat etc redhat-release centos release 6.6 final # salt --versions-report salt 2014.7.0 python 2.6.6 r266 84292 jan 22 2014 09 42 36 jinja2 unknown m2crypto 0.20.2 msgpack-python 0.1.13 msgpack-pure not installed pycrypto 2.0.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 3.2.4 mako not installed	89
460078	10038	tobyee	2014-11-13T09:58:07.000Z	[component: forms;;frequency: low;;needs: feedback;;severity: inconvenient;;type: feature]	setdirty function should provided by the controller of ng-model directive	10	i wan to show the error message when the user submit an invalid and pristine form i use the following css selector to style the message since that i don t wan to show message if the form is pristine css .ng-dirty.ng-invalid border-color red xxx so i do some check in the form-submit callbak ngsubmit if the form is invalid i wan to manually set the error control to dirty state so that the css selector which is .ng-dirty.ng-invalid work html form name theform ng-submit dosubmit xxx form js scope.dosubmit function if scope.theform invalid object.keys scope.theform error .foreach function key scope.theform error key .foreach function control control setdirty no setdirty function return ajaxsubmit ... there is setdiry function in formcontroller but i can t use it because the function only add ng-dirty class to form element if i use selector .ng-dirty .ng-invalid insteaded it will apply to too much input element that all the error message come out if any input change i found the setpristine function in input directive 1 i think it should provide setdirty too 1 https://github.com angular angular.js blob master src ng directive input.js#l1845-l1850	188
1390248	18318	arthurlogilab	2014-11-20T14:10:58.000Z	[bug;;medium severity]	network.managed removes comments and some options in etc network interfaces	10	adding a eth1 network.managed - enabled true - type eth before applying my eth0 was configured as follows # the primary network-interface allow-hotplug eth0 iface eth0 inet static address 172.17.12.20 netmask 255.255.255.0 network 172.17.12.0 broadcast 172.17.12.255 gateway 172.17.12.1 # dns- options are implemented by the resolvconf package if installed dns-nameservers 172.17.1.248 dns-search icehouse.logilab.fr after applying i get allow-hotplug eth0 iface eth0 inet static address 172.17.12.20 netmask 255.255.255.0 broadcast 172.17.12.255 gateway 172.17.12.1 dns-nameservers 172.17.1.248 the attribute dns-nameservers 172.17.1.248 has been removed keeping the comments would be nice too	87
8514	17684	fabiolnm	2014-11-20T18:24:19.000Z	[docs]	provide setup instructions to help assert performed assertions understanding	9	activejob s test helper provides tt assert performed jobs tt tt assert no performed jobs tt and tt assert performed with tt assertions that will work only if test adapter is properly configured tt perform enqueued jobs true tt . this test will fail it performs a job without setting adapter s perform enqueued jobs to true do assert performed jobs 1 do # some job end end and this will pass describe after setting adapter s perform enqueued jobs to true do before do queue adapter.perform enqueued jobs true end it performs the job do assert performed jobs 1 do # some job end end end but there s no reference that this setup is required neither in https://github.com rails rails blob master activejob lib active job test helper.rb#l79 https://github.com rails rails blob master activejob lib active job test helper.rb#l115 and https://github.com rails rails blob master activejob lib active job test helper.rb#l158 so one must read https://github.com rails rails blob master activejob lib active job-queue adapters test adapter.rb#l28 to realize what should be done to use those assertions simple rdoc comments in test helper file would be very convenient to help those assertions usage understanding	196
1390248	18436	pass-by-value	2014-11-24T18:31:36.000Z	[bug;;documentation;;fixed pending verification]	presence event returns with an empty-list	6	presence event data does not contain info about connected minion master config shell presence events true loop interval 10 version shell salt --versions-report salt 2014.7.0 python 2.7.6 default mar 22 2014 22 59 56 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.3.0 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.0.1 raet not installed zmq 4.0.4 mako not installed manage.up output shell sudo salt-run manage.up ubuntu1404 presence event output tag salt presence present data stamp 2014-11-24t10 26 29.454581 present	83
460078	10207	lgalfaso	2014-11-24T20:29:32.000Z	[prs plz!]	ngpluralize should generate a warning when being asked to use a rule that is not defined	16	when ngpluralize is being asked to use a rule that is not defined say few then it should generate a warning this helps developers know that a rule is missing	30
460078	10238	chesleybrown	2014-11-26T16:45:28.000Z	[component: ngmock;;needs: investigation]	jasmine 2.1 beforeall afterall methods cause errors	7	jasmine has released beforeall and afterall methods with 2.1 http://jasmine.github.io 2.1 introduction.html which allow executing a before function only once forall the following specs angular mocks doesn t seem to play nice with this concept when using beforeall or afterall methods i encounter the following errors typeerror null is not an object evaluating currentspec modules at workfn users chesleybrown sites bln-web app components angular-mocks angular-mocks.js 2323 at users chesleybrown sites bln-web node-modules karma-jasmine lib boot.js 71 at users chesleybrown sites bln-web node-modules karma-jasmine lib adapter.js 174 at http://localhost 9876 karma.js 185 at http://localhost 9876 context.html 168 typeerror null is not an object evaluating currentspec modules at workfn users chesleybrown sites bln-web app components angular-mocks angular-mocks.js 2323 at users chesleybrown sites bln-web node-modules karma-jasmine lib boot.js 71 at users chesleybrown sites bln-web node-modules karma-jasmine lib adapter.js 174 at http://localhost 9876 karma.js 185 at http://localhost 9876 context.html 168 expected 0 htmlnode length 1 prevobject 0 htmlnode length 1 context undefined selector .loading-indicator to have class ng-hide . error expected 0 htmlnode length 1 prevobject 0 htmlnode length 1 context undefined selector .loading-indicator to have class ng-hide . at users chesleybrown sites bln-web test directives about-product.directive.spec.js 40 at users chesleybrown sites bln-web node-modules karma-jasmine lib boot.js 71 at users chesleybrown sites bln-web node-modules karma-jasmine lib adapter.js 174 at http://localhost 9876 karma.js 185 at http://localhost 9876 context.html 168	224
460078	10272	tamtakoe	2014-11-30T08:54:54.000Z	[component: $http;;frequency: low;;severity: broken expected use;;type: bug]	http length bug angular v.1.3.4	5	if i make get-request with params pre param1 ... param2 ... length 0 pre i realy send no params empty object . jquery.ajax works correct	25
1644196	9222	jgoldfar	2014-12-02T18:02:46.000Z	[needs tests]	segfault with nested functions or on return	7	i am using julia for an application in pde-constrained optimization and have run into an issue i haven t seen before giving a segfault when trying to return apparently from a function-call i only mention the nested functions because in the optimization setup i construct functionals using passed data and then pass those functionals to my optimization routine not sure if that is creating some issue behind the scenes based on the optimization trace all of the iterations in the solver are working correctly but then something breaks the embedded pde solver and optimization routine have passing unit tests so i m pretty sure the problem is not with their separate functionality but somehow at the interface between them the gist with the backtrace is here https://gist.github.com jgoldfar b311086329af529fff42 the same issue appeared in version 0.3.0 i ve been using for a while but i figured i d update to check if it resolved somehow i d be happy to look more into what is causing the issue on my own if someone could point me in the right direction	180
1390248	18725	wrigtim	2014-12-04T16:41:54.000Z	[bug;;fixed pending verification;;help wanted]	salt.modules.kmod.remove - modprobe -r will not remove a module if the .ko is missing	14	kmod.absent fails if the module has already been deleted from disk before being unloaded suggest replacing modprobe -r with rmmod which will blindly look in sysfs rather than trying to locate the .ko root@myhost # grep error modprobe var log salt minion 2014-12-03 16 04 18 479 salt.loaded.int.module.cmdmod error command modprobe -r timekeeper mod failed with return-code 1 2014-12-03 16 04 18 479 salt.loaded.int.module.cmdmod error stderr modprobe fatal module timekeeper mod not found root@myhost log # lsmod grep timekeeper mod timekeeper mod 273081 0 root@myhost log # rmmod timekeeper mod echo 0 we can work around this by ensuring the pkg.purged requires the kmod.absent to succeed but i wanted to raise an issue to improve reliability and also helps clean up hosts where humans may have made a mess .	130
1644196	9295	keno	2014-12-10T07:53:55.000Z	[]	push on dicts	3	now that we have the nice syntax for pairs i think it would be convenient for a dict push a 1 2 to work at the moment we have to use push a 1 2 which probably should be reflected in the docs for push which are right now push collection items... collection insert items at the end of collection push 1 2 3 4 1 2 3 4	69
1390248	18909	babilen	2014-12-11T12:14:29.000Z	[bug;;medium severity]	pkgrepo.managed leaves duplicate entries in apt sources.list	7	pkgrepo.managed and in particular aptpkg s consolidate repo sources function leaves duplicate entries in the sources.list if a previous otherwise identical entry ends in a . the following exemplifies that root@salttest-debian-7-6 # salt --versions salt 2014.7.0 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 13.1.0 raet not installed zmq 3.2.3 mako 0.7.0 root@salttest-debian-7-6 # cat srv salt salttest top.sls base - repo.wheezy saltstack root@salttest-debian-7-6 # cat srv salt salttest repo wheezy saltstack.sls include - repo.common repo-wheezy-saltstack pkgrepo.managed - humanname debian salt backporting - name deb http://debian.saltstack.com debian wheezy-saltstack main - dist wheezy-saltstack - comps main - key url http://debian.saltstack.com debian-salt-team-joehealy.gpg.key - consolidate true - require - pkg python-apt root@salttest-debian-7-6 # salt cmd.run cat etc apt sources.list jid 20141211130741063605 salttest-debian-7-6 deb http://debian.saltstack.com debian wheezy-saltstack main root@salttest-debian-7-6 # salt state.highstate jid 20141211130754677801 salttest-debian-7-6 ---------- id python-apt function pkg.installed result true comment package python-apt is already installed started 13 07 55.620799 duration 115.725 ms changes ---------- id repo-wheezy-saltstack function pkgrepo.managed name deb http://debian.saltstack.com debian wheezy-saltstack main result true comment configured package repo deb http://debian.saltstack.com debian wheezy-saltstack main started 13 07 55.736833 duration 1280.234 ms changes summary ------------ succeeded 2 failed 0 ------------ total states run 2 root@salttest-debian-7-6 # salt cmd.run cat etc apt sources.list jid 20141211130801910384 salttest-debian-7-6 deb http://debian.saltstack.com debian wheezy-saltstack main deb http://debian.saltstack.com debian wheezy-saltstack main this is naturally rather suboptimal behaviour and it would be much preferred if pkgrepo.managed and consolidate repo sources would not leave duplicate entries in the sources.list as doing so causes warnings on apt-get update .	270
460078	10428	danmindru	2014-12-12T01:27:59.000Z	[component: filters;;severity: broken expected use;;severity: regression;;type: bug]	ng-repeat filter behavior	3	updated from 1.3.2 to 1.3.6 and one of my ng-repeat filters broke the solution was to change item in items filter search to item in items filter search . couldn t find it in the changelog am i missing something see plunker http://plnkr.co edit qnzvjbq37wfl1yb2atco p preview	47
8514	18011	jaroslawr	2014-12-12T19:13:30.000Z	[activesupport;;attached pr]	activesupport callbacks produces huge call stacks	6	please bear with me on this one i already spent 50+ hours debugging this issue i am porting a large close to 50k lines rails application from rails 4.0 to rails 4.1 we have a rails41 branch which differs from our stable master branch only in the gemfile.lock entries related to the core rails gems the master branch is running completely stable unfortunately with rails 4.1 i am experiencing ruby crashes that always occur somewhere in a long callback chain although the same callback chain sometimes crashes and sometimes not the result anyhow is that whenever i run rake spec or just work with the application i get a bus-error around every 3 minutes and the application dies completely this is so strange i spent dozens of hours trying to fix it in our application disabling gems removing some of our internal libraries etc to no result i ended up painstakingly doing a complete git-bisect and i have found the single offending commit that breaks rails ruby for us https://github.com rails rails commit 23122ab2d4e239d35a154d5ec28c2afefdd012de before this commit everything runs fine afterwards the crashes occur still this seems to be one hell of an issue to debug the ruby-level backtrace of the bus-error sometimes shows includes the callback chain and sometimes some apparently unrelated snippet of code - it seems something in the ruby interpreter gets corrupted but not always produces an immediate crash typically 8 out of 10 times i ran one of the crashing tests i get something very similar to this but in a great many of different places of the app c 0235 p 0000 s 1133 e 001132 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 214 finish c 0234 p ---- s 1127 e 001126 cfunc call c 0233 p 0010 s 1123 e 001122 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0232 p ---- s 1117 e 001116 cfunc call c 0231 p 0010 s 1113 e 001112 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0230 p ---- s 1107 e 001106 cfunc call c 0229 p 0010 s 1103 e 001102 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0228 p ---- s 1097 e 001096 cfunc call c 0227 p 0010 s 1093 e 001092 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0226 p ---- s 1087 e 001086 cfunc call c 0225 p 0010 s 1083 e 001082 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0224 p ---- s 1077 e 001076 cfunc call c 0223 p 0010 s 1073 e 001072 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0222 p ---- s 1067 e 001066 cfunc call c 0221 p 0010 s 1063 e 001062 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0220 p ---- s 1057 e 001056 cfunc call c 0219 p 0010 s 1053 e 001052 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0218 p ---- s 1047 e 001046 cfunc call c 0217 p 0010 s 1043 e 001042 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0216 p ---- s 1037 e 001036 cfunc call c 0215 p 0010 s 1033 e 001032 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0214 p ---- s 1027 e 001026 cfunc call c 0213 p 0010 s 1023 e 001022 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0212 p ---- s 1017 e 001016 cfunc call c 0211 p 0010 s 1013 e 001012 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0210 p ---- s 1007 e 001006 cfunc call c 0209 p 0010 s 1003 e 001002 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0208 p ---- s 0997 e 000996 cfunc call c 0207 p 0010 s 0993 e 000992 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0206 p ---- s 0987 e 000986 cfunc call c 0205 p 0010 s 0983 e 000982 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0204 p ---- s 0977 e 000976 cfunc call c 0203 p 0010 s 0973 e 000972 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0202 p ---- s 0967 e 000966 cfunc call c 0201 p 0010 s 0963 e 000962 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0200 p ---- s 0957 e 000956 cfunc call c 0199 p 0010 s 0953 e 000952 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 215 finish c 0198 p ---- s 0947 e 000946 cfunc call c 0197 p 0081 s 0943 e 000942 method home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 86 c 0196 p 0009 s 0935 e ffffffc0 method home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activerecord-4.1.7.1 lib activerecord callbacks.rb 310 c 0195 p 0032 s 0931 e 000930 method home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activerecord-4.1.7.1 lib activerecord timestamp.rb 70 c 0194 p 0035 s 0926 e 000925 method home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activerecord-4.1.7.1 lib activerecord persistence.rb 483 c 0193 p 0008 s 0922 e 000921 block home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activerecord-4.1.7.1 lib activerecord callbacks.rb 302 finish c 0192 p ---- s 0920 e 000919 cfunc call c 0191 p 0038 s 0917 e 000915 method home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 113 c 0190 p 0086 s 0911 e 000910 lambda home jarek .rbenv versions 2.1.4 lib rubygems 2.1.0 gems activesupport-4.1.7.1 lib activesupport callbacks.rb 166 i have went as far as run a debug version of ruby under gdb but the c-level backtrace is utterly meaningless #0 0xb7717472 in vm exec core th 0xb92a1be0 initial 0 at vm exec.c 46 #1 0xb772843d in vm exec th 0xb92a1be0 at vm.c 1398 #2 0xb7726c4a in invoke block from c th 0xb92a1be0 block 0xbf50b230 self 3128167180 argc 1 argv 0xb7020198 blockptr 0x0 cref 0x0 defined class 3128167620 at vm.c 817 #3 0xb77270b2 in vm invoke proc th 0xb92a1be0 proc 0xbf50b230 self 3128167180 defined class 3128167620 argc 1 argv 0xb7020198 blockptr 0x0 at vm.c 881 #4 0xb772714e in rb vm invoke proc th 0xb92a1be0 proc 0xbf50b230 argc 1 argv 0xb7020198 blockptr 0x0 at vm.c 900 #5 0xb75e8bf5 in proc call argc 1 argv 0xb7020198 procval 2964385000 at proc.c 713 #6 0xb7714ad8 in call cfunc m1 func 0xb75e8b60 proc call recv 2964385000 argc 1 argv 0xb7020198 at vm insnhelper.c 1317 ... vm exec.c 46 is the opening bracket of this internal ruby function #if opt call threaded code static value vm exec core rb thread t th value initial i am on gentoo linux and on ruby-2.1.5 in rbenv my colleagues at work have reproduced the same issue on their ubuntu laptops also on ruby-2.1.5 and rbenv i have also reproduced it on ruby-2.1.5 installed directly from source and with rbenv completely and throughoutly removed as mentioned the codebase is the same except for the single commit i am of course willing to provide more detail and whenever i have time i will try to narrow the single commit down to one individual change if possible meanwhile i am awaiting suggestions how can you possibly approach further debugging something like this i realize from a platonic viewpoint this might be considered a ruby bug in a well-defined language there should not exist a way to crash the interpreter i guess but with the level of complexity involved i hope you understand i probably would not receive much help if i reported such an issue in the ruby bug-tracker	1420
1390248	18991	atira-skr	2014-12-15T11:47:49.000Z	[bug;;medium severity]	mdadm state and module errors	5	i am trying to create a mdadm raid on a amazon-ec2 instance but i keep getting errors i have tried both using the state and module both both gives errors though it is not the same errors i have the following state from minion debug debug rendered data fromfile var cache salt minion files base system raid mdadm-raid.sls create-mdadm-raid-md6 raid.present - name dev md nfs-ip-10-61-70-66 0 - level 0 - devices - dev xvdb - dev xvdc debug results of yaml rendering ordereddict create-mdadm-raid-md6 ordereddict raid.present ordereddict name dev md nfs-ip-10-61-70-66 0 ordereddict level 0 ordereddict devices dev xvdb dev xvdc that gives this error info executing command mdadm --detail --scan in directory root info executing command mdadm -c dev md nfs-ip-10-61-70-66 0 -v -l 0 -e default -n 2 dev xvdb dev xvdc in directory root error an exception occurred in this state traceback most recent call last file usr lib python2.6 site-packages salt state.py line 1533 in call cdata kwargs file usr lib python2.6 site-packages salt states mdadm.py line 97 in present kwargs file usr lib python2.6 site-packages salt modules mdadm.py line 219 in create return salt cmd.run cmd python shell false file usr lib python2.6 site-packages salt modules cmdmod.py line 606 in run use vt use vt file usr lib python2.6 site-packages salt modules cmdmod.py line 358 in run proc salt.utils.timed subprocess.timedproc cmd kwargs file usr lib python2.6 site-packages salt utils timed subprocess.py line 24 in init self.process subprocess.popen args kwargs file usr lib64 python2.6 subprocess.py line 642 in init errread errwrite file usr lib64 python2.6 subprocess.py line 1234 in execute child raise child exception typeerror coercing to unicode need string or buffer int found i have tried a lot of different combinations of variables for the sate but it always fails with the shown error at first i though it was the name but i get the same error if using dev md0 . also tried with run true and chunk 256 but it still gives the same error i then tried to use the module to create the raid like this salt nfs-ip-10-61-70-66 raid.create dev md nfs-ip-10-61-70-66 0 level 0 chunk 256 dev xvdb dev xvdc but that gives the following error from minion debug debug command details tgt type glob jid 20141215105622592774 tgt nfs-ip-10-61-70-66 ret user salt arg dev md0 dev xvdb dev xvdc chunk 256 test mode true level 1 kwarg true fun raid.create info starting a new job with pid 25378 warning typeerror encountered executing raid.create create got multiple values for keyword-argument level . see debug log for more info traceback most recent call last file usr lib python2.6 site-packages salt minion.py line 1019 in thread return return data func args kwargs typeerror create got multiple values for keyword-argument level i then tried it without the level parameter just to see what would happend salt nfs-ip-10-61-70-66 raid.create dev md nfs-ip-10-61-70-66 0 dev xvdb dev xvdc and that gives the following error debug command details tgt type glob jid 20141215104535686909 tgt nfs-ip-10-61-70-66 ret user salt arg dev md0 dev xvdb dev xvdc test mode true kwarg true fun raid.create info starting a new job with pid 25343 warning typeerror encountered executing raid.create can only concatenate list not str to list see debug log for more info traceback most recent call last file usr lib python2.6 site-packages salt minion.py line 1019 in thread return return data func args kwargs file usr lib python2.6 site-packages salt modules mdadm.py line 214 in create -n len devices + devices typeerror can only concatenate list not str to list version information from master debian wheezy salt 2014.7.0 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 13.1.0 raet not installed zmq 3.2.3 mako 0.7.0 version information from minion amazon linux ami release 2014.09 salt 2014.7.0 python 2.6.9 unknown sep 13 2014 00 25 11 jinja2 2.7.2 m2crypto 0.20.2 msgpack-python 0.1.13 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 3.2.4 mako 0.8.1	684
1390248	19115	nmadhok	2014-12-19T09:43:26.000Z	[bug;;fixed pending verification;;medium severity]	salt.modules.mdadm.destroy fails with error	4	root@nitin-salt-zfs # salt-call raid.destroy dev md0 info executing command sbin zfs - in directory root info executing command mdadm --detail dev md0 in directory root info executing command mdadm --stop dev md0 in directory root error command mdadm --stop dev md0 failed with return-code 2 error output usage mdadm --help for help passed invalid arguments string indices must be integers not str root@nitin-salt-zfs #	64
1390248	19117	nmadhok	2014-12-19T10:34:38.000Z	[bug;;fixed pending verification;;medium severity]	salt.modules.mdadm.destroy fails if mdadm config file is missing	8	on rhel family mdadm package doesn t create the file etc mdadm.conf after installation error command mdadm --zero-superblock dev vde dev vdd failed with return-code 2 error output usage mdadm --help for help passed invalid arguments file-not-found etc mdadm.conf traceback most recent call last file usr lib python2.7 site-packages salt cli caller.py line 138 in call ret return func args kwargs file var cache salt extmods modules mdadm.py line 143 in destroy salt file.replace cfg file array 0 . .format device file usr lib python2.7 site-packages salt modules file.py line 1158 in replace raise saltinvocationerror file-not-found 0 .format path saltinvocationerror file not found etc mdadm.conf	105
507775	9053	sweetest	2014-12-24T04:15:08.000Z	[enhancement;;v1.5.0;;v2.0.0-beta1]	introduce index option named index.percolator.map unmapped fields as string	9	related issue #9025 for percolator to provide schemaless functionality there should be an additional option which explicity tells that unmapped field will be indexed as a string so it may not be applicable for other data types such as integer date and so on turning this on will allow query to contain unmapped fields and they will be treated as normal strings	62
1390248	19249	ahetmanski	2014-12-24T14:40:41.000Z	[bug;;high severity;;p3;;platform;;state module]	cannot create cache dir salt master exception	7	hi guys i have configured salt-master with next parameter file roots base - srv salt i have created next directory on my machine srv salt common this directory contains next states only important here srv salt common init.sls include - common.data helper - common.repos srv salt common data helper.sls save hosts data module.run - name common nodehelper.nodes net srv salt common repos.sls etc pki rpm-gpg rpm-gpg-key-epel-6 file - managed - source salt common repos rpm-gpg-key-epel-6 - mode 644 - user root then i have created in srv salt directory next file srv salt deploy.sls include - common so i use this via salt orchestrate module salt-run state.orch deploy it works fine but once i have found one interesting exception installation log comment run failed on minions min1 failures qa137 name common nodehelper.nodes net - function module.run - result changed name etc pki rpm-gpg rpm-gpg-key-epel-6 - function file.managed - result failed salt-master log 2014-12-08 18 42 10 787 salt.master error error in function filehash traceback most recent call last file usr lib python2.6 site-packages salt master.py line 1687 in run func ret getattr self func load file usr lib python2.6 site-packages salt fileserver init .py line 354 in filehash return self.servers fstr load fnd file usr lib python2.6 site-packages salt fileserver roots.py line 218 in filehash os.makedirs cache dir file usr lib64 python2.6 os.py line 157 in makedirs mkdir name mode oserror errno 17 file-exists var cache salt master roots hash base common repos now i cannot repeat this anymore it appears only one time i think this is because of the race in salt-stack it cannot create cache dir sometimes i have next saltstack version # salt --versions-report salt 2014.1.4 python 2.6.6 r266 84292 jan 22 2014 09 42 36 jinja2 2.2.1 m2crypto 0.20.2 msgpack-python 0.1.13 msgpack-pure not installed pycrypto 2.0.1 pyyaml 3.10 pyzmq 14.3.1 zmq 3.2.4 looking forward to hearing from you happy christmas thank you in advance	319
1390248	19306	taishinet	2014-12-30T22:59:49.000Z	[bug;;help wanted;;medium severity;;riot;;salt-cloud]	digitalocean api v1 private networking is set to true instead of true	12	according to do support it should be true or 1 else it ll take as false tried to set it on cloud profile as true but it ll capitalize it anyway debug sending event - data stamp 2014-12-30t19 58 26.712097 event requesting instance kwargs name test01-fsn size id 66 image id 6918990 ssh key ids 167316 private networking true region id 4	62
1390248	19332	quinnypig	2015-01-04T03:14:28.000Z	[bug;;core;;documentation;;high severity;;p2;;team platform;;zreleased - boron]	nondeterminism in pillar	3	remember conflicting keys will be overwritten in a non-deterministic manner is there an advantage to this that i m not seeing being able to strategically override environment-wide settings with node-specific settings seems to be rather valuable as long as the value in which keys are added to the current run is lexicographically nondeterministic that s going to pose significant challenges am i missing something obvious if so feel free to close wontfix stop babbling	74
1390248	19598	fayetted	2015-01-10T00:50:27.000Z	[bug;;medium severity]	ssh auth.present test true incorectly reports changes will be made	10	when managing keys for a user the present test function in ssh auth.py does not account for the various formats that can be used such as - name - key - enc key - key comment - enc key comment - options enc key comment the present function handles these formats properly and does not update the authorized-keys file unless a change is truly needed however the present test function does not alsways do a proper comparison may be related to #10259 and #5374 reproduce create state file srv salt myuserid.sls myuserid user.present myuserid-shkeys ssh auth.present - user myuserid - enc ssh-rsa - names - aaaab3nzac1yc2eaaaadaqabaaabaqchwoz+qnqg0s63sxsbeja5xsrgh 6g7l7cqbavstpxxxeubsduqpjpmbslebygpaze7gxwgcxt+rczh h2f4kyty7vntjdtry6urexfwafynvjrsshcpemmeikuxadzlgpr9oq+teie7j9ei5ivnorifnfui3hpopwemqcydydxowr9q2t82zw1pewdfjvxf1hjqo9sa5hgfo5q40romjq4ffwes2p9fc+mlujpzavu4miiqnksgyougb2yoib6dehfhee ce3rslrx0rtjitjifhjnvkpr 2mjoxiayyohybeg1avlgbnjbnn742zmzbepldvlwixnt8szmnvdvoh - ssh-rsa aaaab3nzac1yc2eaaaadaqabaaabaqc7utmkie8wt3lkytsbtlk3l69h1ulhuqsnhyzl7lp8vac 75hsvplijnknbtxqsxdcozjixgb0zplhc1in6bk+vdtkd mltq4oqsdp pmpkssg0fljhzotz6dzxedqnfaryj1yd9fk09pemefbvabr28ozfw0kw2o5rrjoabad3fuurdaiz5fbgaqy8evc0kip5ds8kb34njy0ly6ss00 dwt+nod5jztlc1xt9rbqe+o4vzq8hteyg7btyos0qrnm+erbbd1+6ktrdmbl9pb7glvbru25wl5wbyudyuf0i3vdn5gsfl4mffwvhrgf7kjemzvnrb6oy5uc8yjdqh1d - ssh-rsa aaaab3nzac1yc2eaaaadaqabaaabaqcisodazffz8dqxfxhendbp1mn4+d4tpimbxbvwvndn+dj2sztxpi tl1ncy8m7lkcxz2rv8babynyibgz9o0k0jsjjrtqssjklitgfqdtoo fgwtktt+bmgq8pmj9yaibkavj7ckv9tjo6f9gix906hua52cxwuewmhdhqtarat7ty20ipili1b4vho6lnwkvll6giexxqsd93io8vjzobrnipt3djddfbg kbzqblecwkxaign616uumvhfhssuqdg67zntjr5bqvm3mvek3imhbenjq8utfggrmpoftigp0epbuhzzqjz0dzpnjbtxeqelcjrqjlkeyj bbvsihh myuserid@my workstation - aaaab3nzac1yc2eaaaadaqabaaabaqdvot7yozu 9zg8wulaxffbyyfns1tfr1jrddqzetb0cs6do2qeczuoz3imqnpbsd1+btiefozlwgki3xvhqnkdume2o0olzl97d+wcx7gdsx2024i0yiu bvmdvkzpwy3zugru2 5wzildnwnx+4uqdqvlv rkbxi2xupme4vbxfw0rm47s7bqyyeb+36fusvzfvyotqkcav5holoy40pqx 0v+vwivuxilyjhok eh2upspgh86+ll vziahuh4bfguj5igzfr1379lwascaezkjnbiwxjyz5w6eamog4oh ohlyizm9x8np89czsotaceovb +tmnxrtku0skcyt myuserid@my workstation - from 127.0.0.1 no-pty ssh-rsa aaaab3nzac1yc2eaaaadaqabaaabaqdv0uoznie+ultnp8nswn5 ybdrzneg ndbgltmjc1aocicpm1esshv5r0cx0rvk4ko5zxv+egy9ixyj2eyof20m9hk49x3lc9q bk83zxtt7zaak57uykcj0o8 3hkvibkpmo7krh3nydih6ts9jqzdb1csd0cmwbzz+igey2pa0m6b vmer9sshznvwinbxpnsbowfstwnzyohuzfflbc4brvrzohki5m051hhfqufceuytcltwf+cfg897t6ftkv5dvdqrn3gtdcrybyc1+mi+9b hrbjpavlftiekse6equlbyj7xzos8p076wd6gmt cilsdxm3hzxlye++2rn myuserid@my workstation 1 execute state on test box salt testbox state.sls myuserid result is all 6 executed successful blue actually made changes 1 user account 5 keys 1 execute state on test box again salt testbox state.sls myuserid result is all 6 executed successful green clean aka no changes made 1 user account 5 keys 1 execute state on test box with test true salt testbox state.sls myuserid test true result is that key #1 key only and #2 enc + key are clean other 3 keys are reported as needing to be updated after digging a bit i copied the section of code from the present function https://github.com saltstack salt blob 5b7660b5588f91547d5e1dbed5656175444d31ec salt states ssh auth.py#l161-l179 to present test adding an else https://github.com saltstack salt blob 5b7660b5588f91547d5e1dbed5656175444d31ec salt states ssh auth.py#l83 that has fixed this issue but i m not sure if there are other use cases where this might cause probles or if there is a better way but for now it seems to be working at least better than it did before pull-request with actuall changes coming soon	333
507775	9278	grmblfrz	2015-01-13T18:24:31.000Z	[:query dsl;;enhancement;;low hanging fruit;;v2.0.0-beta1]	default fuzzy transpositions to true	5	the documentation https://github.com elasticsearch elasticsearch blob d9165d docs reference api-conventions.asciidoc#string-fields states 0..1 must match exactly 1..4 one edit allowed 4 two edits allowed whereas the source https://github.com elasticsearch elasticsearch blob d9165d src main java org elasticsearch common unit fuzziness.java#l138-l147 contains java final int len termlen text if len 2 return 0 else if len 5 return 2 else return 1 for backwards-compatibility the documentation should be adapted to 0..1 must match exactly 1..5 one edit allowed 5 two edits allowed though i personally would prefer to change the implementation - then flyod would match floyd with fuzziness auto now i m needing fuzziness 2	104
1390248	19916	steverweber	2015-01-21T19:13:54.000Z	[bug;;fixed pending verification;;high severity;;platform;;regression;;state module]	cron.present is not working correctly	5	latest dev release.... when using mutiple cron jobs states only the last one set is used... this caused our production system to skip a dailly task for a few weeks sls file... sls cron to feed the syslogs to the database cron.present - name vars.app.path feed logfile - identifier mailin feed logfile - user vars.user.name - minute random - hour 17 sls cron to send notice cron.present - name vars.app.path notify - identifier mailin notify - user vars.user.name - minute random - hour 20 salt minion state.highstate... ---------- id mfcf.mailmigrate cron to feed the syslogs to the database function cron.present name srv mailin feed logfile result true comment cron srv mailin feed logfile added to mailin s crontab started 14 23 58.369677 duration 59.19 ms changes ---------- mailin srv mailin feed logfile ---------- id mfcf.mailmigrate cron to send notice function cron.present name srv mailin notify result true comment cron srv mailin notify added to mailin s crontab started 14 23 58.429236 duration 55.714 ms changes ---------- mailin srv mailin notify summary ------------- succeeded 19 changed 2 on minion crontab -e # lines below here are managed by salt do not edit # salt cron identifier mailin notify 17 20 srv mailin notify notice missing feed logfile job it seems that the cron module state is overwriting the previous salt managed cronjobs some grains of minion os centos os family redhat osarch x86 64 oscodename final osfinger centos-6 osfullname centos osmajorrelease 6 osrelease 6.6 pythonversion - 2 - 6 - 6 - final - 0 saltversion 2015.2.0-1193-gf365e89 selinux ---------- enabled false enforced disabled	262
1390248	19953	johanek	2015-01-22T10:44:18.000Z	[bug;;medium severity]	lsb distrib grains on centos rhel	6	if redhat-lsb-core package is installed then etc lsb-release is populated with lsb version base-4.0-amd64 base-4.0-ia32 base-4.0-noarch core-4.0-amd64 core-4.0-ia32 core-4.0-noarch graphics-4.0-amd64 graphics-4.0-ia32 graphics-4.0-noarch printing-4.0-amd64 printing-4.0-ia32 printing-4.0-noarch in core grains if this file-exists then there s a regex to identify id release codename and description https://github.com saltstack salt blob develop salt grains core.py#l992 these aren t available so the grains aren t populated if etc lsb-release doesn t exist then etc redhat centos -release is parsed for this same information and the grains are populated correctly	84
460078	10855	agrumas	2015-01-24T19:44:06.000Z	[component: misc core]	currency symbol of lithuania	4	lithuania adopted the euro on january 1 2015 google-closure-library https://github.com google-closure-library commit 47bbd7a9b31d962106f9299019fa6f430a97a9b1 already have related changes when locales will be regenerated maybe pr with changes should be made	29
460078	10890	firevolkhov	2015-01-28T07:51:28.000Z	[resolution: duplicate]	resource does not abort the requests through the promise	9	https://github.com angular angular.js blob master src ngresource resource.js#l564	8
507775	9464	ankon	2015-01-28T15:13:00.000Z	[enhancement;;low hanging fruit;;v5.0.0-alpha1]	cat apis add space at the end of a line	10	i was trying to use the cat master api to get the name of the current master in a shell script and then to determine whether the current host is the master # bin sh name curl -sf http://localhost 9200 jq --raw-output .name master curl -sf http://localhost 9200 cat master h node name master the problem here is that master will actually contain the name of the node and a space character so the line needs to be fixed to look like this master curl -sf http://localhost 9200 cat master h node xargs echo this was very surprising and makes using these apis for scripting harder without adding anything for the human reader . quick reading through the code this space seems to comefrom org.elasticsearch.rest.action.support.resttable#buildtextplainresponse . ps is there a nicer way to determine whether the current node is a master from shell script without having to parse json	149
1390248	20198	jcftang	2015-01-29T16:56:48.000Z	[bug;;fixed pending verification;;high severity]	virt.get graphics virt.get nics are broken in turn breaking other things	11	given # salt --versions-report salt 2014.7.1 python 2.7.6 default mar 22 2014 22 59 56 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.4.5 msgpack-pure 0.1.3 pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.0.1 raet not installed zmq 4.0.4 mako 0.9.1 when i try to get more info with virt.full info # salt x01 virt.full info x01 the minion function caused an exception traceback most recent call last file usr lib python2.7 dist-packages salt minion.py line 1022 in thread return return data func args kwargs file usr lib python2.7 dist-packages salt modules virt.py line 1076 in full info vm info vm info file usr lib python2.7 dist-packages salt modules virt.py line 720 in vm info info vm info vm file usr lib python2.7 dist-packages salt modules virt.py line 710 in info graphics get graphics vm file usr lib python2.7 dist-packages salt modules virt.py line 860 in get graphics for key in g node.attributes file usr lib python2.7 xmldom minidom.py line 522 in getitem return self attrs attname or tuple keyerror 0 and... root@x01 srv scripts# salt x01 virt.get graphics wheezy x01 the minion function caused an exception traceback most recent call last file usr lib python2.7 dist-packages salt minion.py line 1022 in thread return return data func args kwargs file usr lib python2.7 dist-packages salt modules virt.py line 860 in get graphics for key in g node.attributes file usr lib python2.7 xmldom minidom.py line 522 in getitem return self attrs attname or tuple keyerror 0	246
1390248	20647	ryan-lane	2015-02-12T19:44:52.000Z	[bug;;fixed pending verification;;medium severity]	file.serialize fails to serialize due to ordered dicts	8	it s possible file.serialize has been broken since everything has been switched to ordered dicts it seems to pass-data structures without transforming them and ordered dicts aren t serializable	29
1390248	20809	lorengordon	2015-02-18T20:49:30.000Z	[bug;;execution module;;high severity;;p4;;platform]	function pam.read file is not available	6	i ve been helping work on a security baseline implemented via salt and saw that salt has the start of a pam module but it appears salt will only load the module if libpam.so exists at usr lib libpam.so . on a centos system with the 64bit version of the pam rpm the corresponding file-exists in lib64 . i m not sure that os.path.exists will have the desired behavior anyway though since the file is really lib64 libpam.so.0 and is a symlink to lib64 libpam.so.0.82.2 . any idea why this loading restriction is in there https://github.com saltstack salt blob develop salt modules pam.py def virtual only load the module if iptables is installed if os.path.exists usr lib libpam.so return pam return false # salt-call --local pam.read file etc pam.d system-auth function pam.read file is not available	136
460078	11109	jamestalmage	2015-02-20T05:29:56.000Z	[component: $compile;;frequency: low;;severity: confusing;;type: bug]	module.directive firstlettercapitalized ... does not work and does not log an error	12	javascript app.js angular.module mymodule .directive mydirective function console.log hello world .... make a directive .... html --- index.html -- my-directive my-directive this produces absolutely zero output on the console changing the directive name to start with a lowercase letter fixes the problem imo it should either log an error that i capitalized the first letter or just work	58
1390248	20910	lorengordon	2015-02-21T23:38:48.000Z	[bug]	file.replace overwrites symbolic links	4	if the target of file.replace is a symbolic link file.replace is writing a new regular file over the symbolic link this happens whether or not there is a change to the file # echo baz foo # ln -s foo bar # ls -al total 40 dr-xr-x--- 4 root root 4096 feb 21 18 20 . dr-xr-xr-x 24 root root 4096 feb 21 2015 .. lrwxrwxrwx 1 root root 3 feb 21 18 20 bar - foo -rw-r--r-- 1 root root 4 feb 21 17 47 foo note that bar is a symbolic link now # salt-call --local file.replace bar badstring justbecause local # # ls -al total 44 dr-xr-x--- 4 root root 4096 feb 21 18 22 . dr-xr-xr-x 24 root root 4096 feb 21 2015 .. -rw-r--r-- 1 root root 4 feb 21 18 22 bar lrwxrwxrwx 1 root root 3 feb 21 18 20 bar.bak - foo -rw-r--r-- 1 root root 4 feb 21 17 47 foo note that bar is no longer a symbolic link # salt-call --versions-report salt 2014.7.0 python 2.6.6 r266 84292 jan 22 2014 09 42 36 jinja2 2.2.1 m2crypto 0.20.2 msgpack-python 0.4.4 msgpack-pure not installed pycrypto 2.0.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 3.2.4 mako not installed	213
507775	9825	jpountz	2015-02-23T16:10:34.000Z	[:aggregations;;enhancement;;high hanging fruit]	define good heuristics to use collect mode breadth first	9	breadth first does not work when sub aggregations require scores which is why we never use it by default today however we recently added the ability to know whether an aggregator requires scores or not for now it just assumes that if a script is used then scripts are needed but we can improve it in the future for instance i think we could have the information with lucene-expressions at least . this means that we could now use breadth first by default we just need to figure out a good heuristic of when this is going to make the terms agg faster and or more memory-efficient	107
460078	11169	megabyzus	2015-02-24T17:33:54.000Z	[component: ngrepeat;;frequency: moderate;;severity: memory leak]	angularjs memory leak with ng-repeat using custom objects w simple plunkr	11	simple plunkr here http://plnkr.co edit 1adh2p65zs8yhyjzhlmk detailed stackoverflow explanation here http://stackoverflow.com questions 28683992 angularjs-memory-leak-with-ng-repeat-using-custom-objects-w-simple-plunkr summary there is a leak using ng-repeat after the 2nd wave iterating over an array of custom objects like this div ng-repeat d sampleobject in mysampleobjects d sampleobject.description div note mysampleobjects is an array of the following object instances ml.mysampleobject function id this.id id this.description this is object # + +id memory profile reveals an extra d sampleobject left over and not de-referenced more details via a controller and an injected service in the stackoverflow link above a simple demonstration also in the provided plunkr link any thoughts and help greatly appreciated in advance	108
1390248	21012	hackel	2015-02-25T05:12:35.000Z	[bug;;fixed pending verification;;medium severity]	mongodb module incompatible with mongodb 3.0 rcs	7	with mongodb 3.0.0-rc10 installed i get the following error when calling mongodb user.present in a state error an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1529 in call cdata kwargs file usr lib python2.7 dist-packages salt states mongodb user.py line 66 in present if salt mongodb.user exists name user password host port database file usr lib python2.7 dist-packages salt modules mongodb.py line 193 in user exists users user list user password host port database file usr lib python2.7 dist-packages salt modules mongodb.py line 159 in user list if strictversion mongodb version strictversion 2.6 file usr lib python2.7 distutils version.py line 40 in init self.parse vstring file usr lib python2.7 distutils version.py line 107 in parse raise valueerror invalid version number s vstring valueerror invalid version number 3.0.0-rc10 looks like this is caused by using strictversion on the mongo version string the standards of which mongo clearly doesn t care about everything works fine if i fudge the version as 3.0.0b10 .	172
1390248	21021	jpt580	2015-02-25T14:34:09.000Z	[bug;;medium severity]	bad gitfs remote breaks sls-files in subdirectories for state sls highstate	11	## version root@salt srv git# salt --versions-report salt 2014.7.1 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 13.1.0 raet not installed zmq 3.2.3 mako 0.7.0 this may probably be obsolete with https://github.com saltstack salt issues 6739 in mind ## setup 1 have a salt-master add valid gitfs remotes which exist in the filesystem 2 properly restart salt-master 3 delete one of the gitfs remotes from the filesystem but do not remove it from the master config . ## state tree in srv salt root@salt srv salt# find . grep -v git . . grains . grains cfgnet-interface.py . grains vmware-tools.py . vmware-uptodate . vmware-uptodate init.sls . vmware-uptodate tmp . vmware-uptodate tmp upgrade-vmware x86 64.sh . top.sls . iptables-cfgnet . iptables-cfgnet init.sls . iptables-cfgnet tmp . iptables-cfgnet tmp rules ## master configuration srv git vmware-tools-formula did not exist in my filesystem root@salt srv salt# cat etc salt master grep -v # grep -v interface 10.1.10.1 ping on rotate true open mode false auto accept false file recv false file roots base - srv salt fileserver backend - roots - git gitfs provider gitpython gitfs remotes - file srv git users-formula - file srv git elasticsearch-logstash-kibana-formula - file srv git build-essential-formula - file srv git vmware-tools-formula - file srv git iptables-formula pillar roots base - srv pillar ## expected result restarting the master fails a warning like invalid gitfs remote in config ... does not exist in filesystem appears ## observed result most things work calling state.highstate or a specific state using state.sls fails with a trace if the specific statefile is contained in a subdirectory ## log excerpt from an affected minion command used salt salt-minion-1 state.sls vmware-uptodate 2015-02-25 14 45 27 879 salt.crypt debug decrypting the current master aes key 2015-02-25 14 45 27 879 salt.crypt debug loaded minion key etc salt pki minion minion.pem 2015-02-25 14 45 33 775 salt.minion info user sudo jpt executing command state.sls with jid 20150225144534113680 2015-02-25 14 45 33 776 salt.minion debug command details tgt type glob jid 20150225144534113680 tgt salt-minion-1 ret user sudo jpt arg vmware-uptodate fun state.sls 2015-02-25 14 45 33 786 salt.minion info starting a new job with pid 23520 2015-02-25 14 45 33 972 salt.crypt debug decrypting the current master aes key 2015-02-25 14 45 33 973 salt.crypt debug loaded minion key etc salt pki minion minion.pem 2015-02-25 14 45 35 252 salt.config debug reading configuration from etc salt minion 2015-02-25 14 45 35 854 salt.crypt debug decrypting the current master aes key 2015-02-25 14 45 35 855 salt.crypt debug loaded minion key etc salt pki minion minion.pem 2015-02-25 14 45 36 116 salt.crypt debug loaded minion key etc salt pki minion minion.pem 2015-02-25 14 45 36 215 salt.state info loading fresh modules for state activity 2015-02-25 14 45 36 670 salt.fileclient debug fetching file from saltenv base attempting salt vmware-uptodate.sls 2015-02-25 14 45 36 749 salt.fileclient error data is 2015-02-25 14 45 36 750 salt.minion warning typeerror encountered executing state.sls string indices must be integers not str see debug log for more info traceback most recent call last file usr lib python2.7 dist-packages salt minion.py line 1022 in thread return return data func args kwargs file usr lib python2.7 dist-packages salt modules state.py line 461 in sls high errors st .render highstate saltenv mods file usr lib python2.7 dist-packages salt state.py line 2724 in render highstate sls saltenv mods matches file usr lib python2.7 dist-packages salt state.py line 2407 in render state state data self.client.get state sls saltenv file usr lib python2.7 dist-packages salt fileclient.py line 422 in getstate dest self.cache filepath saltenv file usr lib python2.7 dist-packages salt fileclient.py line 147 in cache file return self.get url path true saltenv file usr lib python2.7 dist-packages salt fileclient.py line 521 in geturl return self.get file url dest makedirs saltenv file usr lib python2.7 dist-packages salt fileclient.py line 991 in get file if not data data typeerror string indices must be integers not str 2015-02-25 14 45 36 752 salt.minion info returning information for job 20150225144534113680 2015-02-25 14 45 36 921 salt.crypt debug decrypting the current master aes key	700
460078	11187	logeshpaul	2015-02-26T07:44:55.000Z	[type: docs]	api documentation readability enhancement	4	i was going through the api documentation and figured out there is some readability issues before making a pull-request i though of checking with the community for views existing documentation - improper vertical-alignment - content look distorted makes little confusing to the user existing https://cloud.githubusercontent.com assets 41541 6387919 343be200-bdb9-11e4-9aed-9c8ceac67af0.png proposed solution - vertically aligning to top - give table borders to set boundaries and show information in a neat manner proposal https://cloud.githubusercontent.com assets 41541 6387926 45af17f0-bdb9-11e4-99be-588b7269f302.png	76
1390248	21134	tjstansell	2015-02-27T21:38:50.000Z	[bug;;medium severity]	salt.modules.ssh.host keys only reads first line of key files	9	i was reading #20711 and happened to notice that commit 18d24ea9 changed host keys from doing a read to a readline .strip which means it only reads the first line of each file now i m not sure if this was intentional but it prevents being able to read multi-line private keys should someone actually want to . as it stands today ssh.host keys simply shows things like this host01 ---------- dsa -----begin dsa private key----- dsa.pub ssh-dss aaaab3nza... key ssh private-key file-format 1.1 key.pub.pub 2048 35 280958967... rsa -----begin rsa private key----- rsa.pub ssh-rsa aaaab3nza...	96
1390248	21315	ryan-lane	2015-03-04T18:10:10.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p2;;team core]	no example documentation for http.query state	6	http://docs.saltstack.com en latest ref states all salt.states.http.html only has function docs there s no docs that mention how its used or what it does	24
1390248	21423	roflmao	2015-03-09T12:46:44.000Z	[bug;;fixed pending verification;;help wanted;;medium severity]	function file.managed is run everytime on user number	8	when putting number into user in function file.managed the correct uid is set but the function is ran on every run state of the file before run -rw------- 1 fcgi root 51k mar 9 13 44 var log fotball.log id xxx logfile exists function file.managed name var log fotball.log result true comment started 13 44 56.690171 duration 0.988 ms changes ---------- user fcgi sls xxx logfile exists file.managed - name pillar xxx l4p filename - replace false if pillar fcgimanager uid is defined - user salt pillar.get fcgimanager uid root endif - mode 600 endif # salt-minion --versions-report salt 2014.7.1 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 13.1.0 raet not installed zmq 3.2.3 mako 0.7.0	137
1390248	21603	ipmb	2015-03-12T20:08:58.000Z	[bug;;fixed pending verification;;help wanted;;medium severity;;regression]	ssh auth.present fails on key without comment	7	the comment isn t required for an ssh key but this line fails for keys that are provided without a comment https://github.com saltstack salt blob f3bc5e34289ea42b1fd8ac2299aa0d5d738d29ea salt states ssh auth.py#l300 this worked fine in 2014.7 but fails in 2015.2	39
1390248	21638	linuturk	2015-03-13T18:21:38.000Z	[]	tls module error-reporting	3	regarding the pyopenssl dependency on the tls module we need better error-reporting in line with the recommended approach outlined here http://docs.saltstack.com en latest ref modules #virtual-modules return false pyopenssl must be installed before this module can be used https://github.com saltstack salt blob develop salt modules tls.py#l24-l44 otherwise you receive an error stating that the module doesn t exist which can be confusing	62
1390248	21671	bertjwregeer	2015-03-15T07:33:46.000Z	[]	salt-ssh sysrc on freebsd	4	i am trying to use the sysrc module for freebsd from version 2015.2.0rc1 and i am using salt-ssh id syslogd function sysrc.managed name syslogd flags result false comment an exception occurred in this state traceback most recent call last file tmp .root 89c8ec salt salt state.py line 1551 in call cdata kwargs file tmp .root 89c8ec salt salt states sysrc.py line 29 in managed current state salt sysrc.get name name kwargs file tmp .root 89c8ec salt salt loader.py line 852 in getitem mod super lazyloader self . getitem key file tmp .root 89c8ec salt salt utils lazy.py line 69 in getitem return self dict key keyerror sysrc.get started 00 01 52.188803 duration 0.597 ms changes this is the sls i have syslogd sysrc.managed - name syslogd flags - value -ss here is a diff that fixes the issue diff --git a salt modules sysrc.py b salt modules sysrc.py index 09efccc..b8954f4 100644 --- a salt modules sysrc.py +++ b salt modules sysrc.py @@ -22 7 +22 7 @@ def virtual only runs if sysrc exists - if salt.utils.which bin sysrc is not none + if salt.utils.which sysrc is not none return true return false	193
1390248	21720	kaithar	2015-03-16T23:03:41.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p4;;team core]	revisiting aliases.file option	3	so this has previously been mentioned in #3368 but it still seems to be an issue i can t find or seemingly guess how aliases.file is meant to be used i ve checked the following places to try and decipher the behaviour - alias state documentation - alias module documentation - the code... i can see modules alias.py reference salt config.option aliases.file and from modules.config.py i can see aliases.file etc aliases ... but i can t make it read that option - full option list at http://docs.saltstack.com en latest ref configuration minion.html - shipped example etc salt minion config - http://docs.saltstack.com en latest ref configuration examples.html#configuration-examples-minion - a lot of googling currently i have a minion.d file that looks like this yaml aliases file etc mail aliases but that isn t working # salt-call config.option aliases.file local etc aliases what am i missing	143
460078	11343	jtorbicki	2015-03-17T12:15:57.000Z	[component: $compile;;frequency: moderate;;severity: broken expected use;;type: bug]	bindtocontroller does not bind correctly for multiple directives	8	the problem occurs when defining multiple directives on the same element all of the directives use bindtocontroller as an object and scope true only the first directive s controller gets scope bound here is a fiddle showing the bug https://jsfiddle.net rds5muzk current console-output first 2 second undefined expected console-output first 2 second 4	53
1390248	21903	basepi	2015-03-23T18:41:07.000Z	[documentation;;fixed pending verification;;team core]	document file.conf pattern for master.d and minion.d	7	files created by salt in master.d and minion.d will have a leading underscore in the name current example is schedule.conf . we should document this somewhere	26
507775	10226	lmenezes	2015-03-23T20:54:12.000Z	[:cat api;;enhancement]	add node id to cat shards	6	would be nice having node id in here even though having nodes with the same name and ip is not a likely scenario it s still possible if this sounds reasonable i would be more than happy to send a pr	41
1390248	21956	giannello	2015-03-24T21:38:26.000Z	[info needed]	reactor rendering error	3	salt-master is configured for gpg rendering using the following entry in its configuration file renderer jinja yaml gpg execution of reactor states fails with the following trace debug gathering reactors for tag salt minion infra start debug compiling reactions for tag salt minion infra start debug jinja search-path var cache salt master files base debug rendered data fromfile srv salt reactor icinga.sls clean tmp local.cmd.run - tgt - arg - rm -rf tmp debug results of yaml rendering ordereddict clean tmp ordereddict local.cmd.run ordereddict tgt ordereddict arg rm -rf tmp error failed to render srv salt reactor icinga.sls adding some extra debug informations in the code the following exception got traced at line 610 of utils event.py error render got multiple values for keyword-argument data error failed to render srv salt reactor icinga.sls removing the gpg renderer from the configuration of the salt-master solved the issue	146
9852918	5071	erisds	2015-03-25T21:30:51.000Z	[feature;;fix wanted;;in progress]	update notifications 2.0	3	a little while back we added a system to ghost which regularly asks ghost.org if there s a new version of ghost available ghost.org replies with a little bit of json like this version 0.5.0 next check 1427366737 this tells ghost what the current version is and when it is allowed to ask again inside of ghost this is wired up to our notification system and if the version number goes above the current version of ghost a special notification is shown at the top of ghost on all pages which doesn t go away until the blog is upgraded the major problem with this is that it s incredibly invasive and annoying so we re currently only using it for major version updates rather than minors so as not to infuriate our users when we do fast releases clearly that makes the system significantly less useful the second problem is that the message in the notifcation is hardcoded inside of ghost and that makes it not particularly useful there s no way to say hey this interesting thing happened and that s why you should update . there s also no way to send a notification outside of a version change which is quite limiting to make this whole system significantly more useful both to us and to our users i want to make the following changes ### move the update available notification to the about page http://puu.sh gpuvk.png as this is where the version information is currently shown lets show the update information here it means that users have to check the page to find out but it does at least mean the information is always to hand in an easy to find place ### add support for custom messages the updates endpoint on ghost.org is going to be updated to send back a little bit more json that will look like this by default version 0.5.0 next check 1427366737 messages when we want to display a message to our users it will look like this version 0.5.0 next check 1427366737 messages id ed9dc38c-73e5-4d72-a741-22b11f6e151a version 0.5.x content p hey there 0.6 is available visit a href https://ghost.org download ghost.org a to grab your copy now p the intention is that ghost will read these and display these custom notifications in the top notification spot where update notifications used to go allowing us to push a particular release or feature without interfering with the general concept of is there an update available . the top notifications will need to be changed to be dismissible unlike the existing version note at some point since 0.5.0 there has been a regression in the notification system such that top notifications are no longer shown in the correct spot at the top of the screen but appear in the normal bottom left toaster location this will need fixing each custom message from ghost.org will have 3 properties firstly a guid which should be stored in an array of seennotifications in the settings table once a message is dismissed so that the message is not shown again secondly a version string which adheres to semver - this is to indicate which versions of ghost the notification should be shown to finally the html content-for the notification is provided in full but should be sanitized via the caja tools already in the ghost admin client to ensure this cannot be abused once we have this in place we then have 2 different notification concepts driven on versioning - whether or not there is an update available which is simple factual information and custom messages which provide an opportunity to communicate important details to our users	610
460078	11447	booleanbetrayal	2015-03-27T18:32:24.000Z	[branch: 1.4.x;;component: forms;;needs: investigation;;prs plz!;;type: bug;;type: perf]	ngselect + ngoptions performs deep equality check unnecessarily in certain scenarios	11	looks to be a result of #10893 which was first reported in #10869 basically the deep equality check should be avoided if operating in a context where object references are maintained	31
507775	10404	cidan	2015-04-02T19:48:12.000Z	[:stats;;adoptme;;enhancement;;low hanging fruit]	inconsistent value types for node status info	7	when viewing the following url http://localhost 9200 nodes local queue sizes are not consistent in types for example merge type scaling min 1 max 4 keep-alive 5m queue size -1 versus get type fixed min 8 max 8 queue size 1k the queue size value should always be an integer fully expanded out ie 1000 and not 1k . this will make monitoring these queues much simpler	67
1644196	10739	garrison	2015-04-04T02:55:47.000Z	[linear algebra]	isdiagonal method	2	i propose creating a new isdiagonal method which will return true if the matrix is diagonal and false otherwise this will act similarly to matlab s isdiag or r s isdiagonal . i m thinking that for a scalar it should return true just as ishermitian currently does thoughts	49
1644196	10767	spencerlyon2	2015-04-08T02:58:42.000Z	[]	selectperm	1	i was hoping to find a routine in base that would give me the first k elements of sortperm v . this would be much like select v 1 k but instead of returning the actual elements it would return the index where those elements can be found does such a function exist	53
1390248	22574	unicolet	2015-04-13T10:59:59.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform]	error when which is not available	6	salt installed with salt-bootstrap -x git develop on a docker-container based on the saltstack centos-6-minimal image gives an error because the which command is not available python error an un-handled exception was caught by salt s global exceptionhandler keyerror cmd.run stdout traceback most recent call last file usr bin salt-call line 11 in module salt call file usr lib python2.7 site-packages salt scripts.py line 222 in salt call client.run file usr lib python2.7 site-packages salt cli call.py line 40 in run caller salt.cli.caller.caller.factory self.config file usr lib python2.7 site-packages salt cli caller.py line 71 in factory return zeromqcaller opts kwargs file usr lib python2.7 site-packages salt cli caller.py line 254 in init super zeromqcaller self . init opts file usr lib python2.7 site-packages salt cli caller.py line 94 in init self.minion salt.minion.sminion opts file usr lib python2.7 site-packages salt minion.py line 300 in init opts grains salt.loader.grains opts file usr lib python2.7 site-packages salt loader.py line 475 in grains ret fun file usr lib python2.7 site-packages salt grains core.py line 1031 in os data if linux bin exists selinuxenabled file usr lib python2.7 site-packages salt grains core.py line 977 in linux bin exists return len salt cmd.run stdout installing which yum -y install which fixes the issue	207
1390248	22580	ryanwalder	2015-04-13T12:21:52.000Z	[bug;;documentation;;fixed pending verification;;medium severity;;p4;;team core]	minion runs highstate on start if schedule set in pillar	10	this is either a bug with the minion or a bug in the documentation and i wanted to clarify if this expected behaviour with a schedule in the pillar it triggers the function on salt-minion start yaml schedule highstate function state.highstate minutes 60 this will trigger a highstate when the minion starts which is to me slightly unexpected behaviour i can understand why it would do it but i can t see it documented http://docs.saltstack.com en latest topics jobs schedule.html which has lead to a few head table interfaces during state development .	93
1390248	22634	bretfisher	2015-04-14T05:09:18.000Z	[]	default config dir on smartos is wrong in salt syspaths.py	10	hopefully i ve got this one right on salt syspaths.py line 79 https://github.com saltstack salt blob develop salt syspaths.py#l79 the default config dir is set for smartos to etc salt which is wrong and should be opt local etc salt . this is what s actually specified in the bootstrap smf manifest but the install sticks everything in etc salt due to syspaths.py defaults so the install finishes with services not starting this issue was reported as problem 1 in a bootstrap issue saltstack salt-bootstrap#473 but i think it s actually an issue in salt repo i can work around the issue if i manually move the salt config dir post-install mv etc salt opt local etc ## reproduce 1 create current joyent smartos machine base64 2 curl -o root install salt.sh -l https://bootstrap.saltstack.com 3 bash root install salt.sh git v2015.2.0rc2 4 info running daemons running error salt-minion was not found running error failed to run daemons running error salt-minion was not found running pass -d to bootstrap-salt.sh when bootstrapping for additional debugging information... ## workaround 1 mv etc salt opt local etc 2 svcadm enable salt-minion ## fix 1 add after line 77 in syspaths.py https://github.com saltstack salt blob develop salt syspaths.py#l77 python elif sunos5 in platform config dir os.path.join root dir opt local etc salt ## notes 1 this is likely a solaris issue too but i don t have that os to test 2 sys.platform.lower returns sunos5 3 there are multiple other install blockers with smartos per saltstack salt-bootstrap#473 so i m trying to help that list one at a time if you actually followed my reproduce steps you d hit other install roadblocks first 4 happy to submit a pr if this is really just a two-line fix	292
1390248	22703	xiol	2015-04-15T12:13:17.000Z	[bug;;core;;high severity;;p2;;salt-ssh]	salt-ssh does not work with list matcher	7	hi root@saltmaster # salt --versions salt 2015.2.0rc2-272-g34526d5 python 2.7.5 default jun 17 2014 18 11 42 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.4.4 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 4.0.4 mako not installed i m having trouble using the list matcher with salt-ssh for example my roster file we re autogenerating these which is why the hostname is a uuid 8feb256a-c4a4-4879-a814-eb50de700b2c host 172.16.32.59 port 22 user root passwd password sudo false tty false timeout 60 thin dir var lib acmecorp salt f828da3e-9bf2-4564-8fa9-d931b2ac0554 host 172.16.32.57 port 22 user root passwd password sudo false tty false timeout 60 thin dir var lib acmecorp salt then when trying to perform a list match-against them usr bin salt-ssh --out yaml --no-color --roster-file roster.tmp -l f828da3e-9bf2-4564-8fa9-d931b2ac0554 8feb256a-c4a4-4879-a814-eb50de700b2c state.sls basic cluster.0 both pillar ... i m getting this back no hosts found with target f828da3e-9bf2-4564-8fa9-d931b2ac0554 8feb256a-c4a4-4879-a814-eb50de700b2c of typelist changing the uuids to friendlier names also results in the same error the main normal salt binary has no problem using the list matcher as far as i can tell	184
460078	11627	randing89	2015-04-17T02:05:02.000Z	[component: $compile;;severity: broken expected use;;type: bug]	exception when using watch as isolated scope binding variable in firefox	11	firefox throws error can t convert undefined to object exception when using watch as a isolated scope binding reproduced in firefox 35 and angular 1.4.0-rc.0 see http://plnkr.co edit hu8t5thuimqxjbz2busm p preview	31
1390248	22792	nmadhok	2015-04-17T17:14:38.000Z	[]	sphinx make failing because of a syntax-error present in file	10	sphinx make failing root@nitin-salt-develop make html running sphinx v1.3.1 loading translations en ... done loading pickled environment... done exception occurred file usr lib python2.6 site-packages sphinx ext autosummary init .py line 502 in import by name import modname file root salt salt roster clustershell.py line 41 host addrs h socket.gethostbyname h for h in hosts syntaxerror invalid syntax the full traceback has been saved in tmp sphinx-err-k6gzqf.log if you want to report the issue to the developers please also report this if it was a user error so that a better error message can be provided next time a bug report can be filed in the tracker at https://github.com sphinx-doc sphinx issues . thanks make html error 1 full traceback root@nitin-salt-develop salt cat tmp sphinx-err-k6gzqf.log # sphinx version 1.3.1 # python version 2.6.6 cpython # docutils version 0.11 release # jinja2 version 2.7.3 # last messages # loaded extensions traceback most recent call last file usr lib python2.6 site-packages sphinx cmdline.py line 244 in main opts.warningiserror opts.tags opts.verbosity opts.jobs file usr lib python2.6 site-packages sphinx application.py line 188 in init self init builder buildername file usr lib python2.6 site-packages sphinx application.py line 250 in init builder self.emit builder-inited file usr lib python2.6 site-packages sphinx application.py line 497 in emit results.append callback self args file usr lib python2.6 site-packages sphinx ext autosummary init .py line 564 in process generate options base-path app.srcdir file usr lib python2.6 site-packages sphinx ext autosummary generate.py line 131 in generate autosummary docs name obj parent mod name import by name name file usr lib python2.6 site-packages sphinx ext autosummary init .py line 473 in import by name obj parent modname import by name prefixed name file usr lib python2.6 site-packages sphinx ext autosummary init .py line 502 in import by name import modname file root salt salt roster clustershell.py line 41 host addrs h socket.gethostbyname h for h in hosts syntaxerror invalid syntax	317
507775	10686	w33ble	2015-04-20T19:09:01.000Z	[docs]	clarification examples in disk-based shard allocation watermarks	7	http://www.elastic.co guide en elasticsearch reference current index-modules-allocation.html#disk the docs make this setting pretty ambiguous - it s not really clear how to set a percentage value vs an absolute byte value even just showing example commands from the defaults and values already mentioned would be very helpful such as cluster.routing.allocation.disk.watermark.low 85 and cluster.routing.allocation.disk.watermark.low 500mb as-is it s easy for a user to enter a value like 95 and think they are setting it to 95 when in fact they are setting it to 95 bytes .	86
1390248	22908	karanjad	2015-04-21T18:12:38.000Z	[bug;;core;;fixed pending verification;;high severity;;p3]	add failhard option to salt orchestration	6	feature request say in a long orchestration and one component failed and due to the requirements of the environment it was necessary to stop the entire orchestration at the point of that failure	33
9852918	5171	erisds	2015-04-21T22:54:48.000Z	[beginner;;data;;server]	welcome tour update the user model	6	this issue is part of the welcome tour feature https://github.com tryghost ghost issues 5168 and should be implemented behind a config flag not labs to start with an example of how to do this exists in this pr https://github.com tryghost ghost pull 5115 . --- http://puu.sh hmaun.gif description on the server-side the user model should get a single additional field which stores a jsonobject containing each tour item and whether or not it is seen this data will be passed via the user api as per usual such that ember always knows the state of the currently logged in user s tour spec the user model needs a new field added to it recommended name is tour and it should have the same type and maxlength as value in the settings table the tour field should be nullable and not have a default-value tour items will appear there when they have some data to persist see # . adding new columns to our database-schema in schema.js means we need to ensure that a migration is triggered this means we also need to bump our database version in default-settings.json and update the hashes in the tests that check this doesn t change it will also be necessary to update several api tests and other locations to ensure that the api knows about and properly handles the new tour field note it would be ideal to bundle the additional post field needed for the preview https://github.com tryghost ghost issues 5097 feature into this database-migration the result of this issue should be the new tour field being provided via the user api	269
507775	10719	colings86	2015-04-22T10:34:37.000Z	[:aggregations;;bug;;v2.0.0-beta1]	sampler aggregator cannot be used in terms agg order	9	sampler aggregator is a single-bucket aggregator but if you try to use it as part of the order in a terms aggregation it fails below is a sense script to reproduce javascript post test doc 1 color yellow date 1500000009 weight 105 post test doc 2 color yellow date 1500000008 weight 104 post test doc 3 color yellow date 1500000007 weight 103 post test doc 11 color red date 1500000009 weight 205 get test doc search size 0 query match all sort date order desc aggregations distinctcolors terms field color size 1 order sample max weight.value asc aggregations sample sampler shard size 1 aggs max weight max field weight the search request throws an arraystoreexception org.elasticsearch.transport.remotetransportexception stallior inet 192.168.0.7 9300 indices data read search phase query caused by java.lang.arraystoreexception at java.lang.system.arraycopy native method at org.elasticsearch.search.aggregations.support.aggregationpath.subpath aggregationpath.java 191 at org.elasticsearch.search.aggregations.support.aggregationpath.validate aggregationpath.java 307 at org.elasticsearch.search.aggregations.bucket.terms.internalorder.validate internalorder.java 145 at org.elasticsearch.search.aggregations.bucket.terms.internalorder.validate internalorder.java 138 at org.elasticsearch.search.aggregations.bucket.terms.termsaggregator init termsaggregator.java 141 at org.elasticsearch.search.aggregations.bucket.terms.abstractstringtermsaggregator init abstractstringtermsaggregator.java 39 at org.elasticsearch.search.aggregations.bucket.terms.globalordinalsstringtermsaggregator init globalordinalsstringtermsaggregator.java 75 at org.elasticsearch.search.aggregations.bucket.terms.termsaggregatorfactory executionmode 2.create termsaggregatorfactory.java 70 at org.elasticsearch.search.aggregations.bucket.terms.termsaggregatorfactory.docreateinternal termsaggregatorfactory.java 223 at org.elasticsearch.search.aggregations.support.valuessourceaggregatorfactory.createinternal valuessourceaggregatorfactory.java 57 at org.elasticsearch.search.aggregations.aggregatorfactory.create aggregatorfactory.java 95 at org.elasticsearch.search.aggregations.aggregatorfactories.createtoplevelaggregators aggregatorfactories.java 69 at org.elasticsearch.search.aggregations.aggregationphase.preprocess aggregationphase.java 77 at org.elasticsearch.search.query.queryphase.execute queryphase.java 96 at org.elasticsearch.search.searchservice.loadorexecutequeryphase searchservice.java 296 at org.elasticsearch.search.searchservice.executequeryphase searchservice.java 307 at org.elasticsearch.search.action.searchservicetransportaction searchquerytransporthandler.messagereceived searchservicetransportaction.java 422 at org.elasticsearch.search.action.searchservicetransportaction searchquerytransporthandler.messagereceived searchservicetransportaction.java 1 at org.elasticsearch.transport.transportservice 4.dorun transportservice.java 340 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1145 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 615 at java.lang.thread.run thread.java 745 but if you debug at org.elasticsearch.search.aggregations.support.aggregationpath.subpath aggregationpath.java 191 you can see that the aggregator being tested is of type aggregatorfactory 1 and wraps the sampleraggregator . this is created by the asmultibucketaggregator this context parent call in sampleraggregator factory.createinternal ... . the reason sampleraggregator has to be wrapped is that it s collectors do not take into account the parentbucketordinal . we should update the sampleraggregator including the diversity parts to collect documents foreach parentbucketordinal so that it doesn t need to be wrapped anymore and can be used in ordering like the other single-bucket aggregators	330
460078	11685	godza	2015-04-23T01:14:47.000Z	[component: $compile;;component: forms;;type: bug]	hardcoded option causes error typeerror cannot read property getoptionfromviewvalue of undefined	11	hi in documentation is stated that empty option can be used when using ng-options here is direct quote optionally a single hard-coded option element with the value set to an empty string can be nested into the select element this element will then represent the null or not selected option i used that in 1.3 very heavily and it worked flawlessly but in 1.4 i m getting error typeerror cannot read property getoptionfromviewvalue of undefined just to be clear here is the template i m using html select ng-options option.id as option.name for option in selectable options option value choose an option option select is this planed regression or a bug if this is planed regression is there a workaround for the thing i m trying to accomplish	128
507775	10783	lvernaillen	2015-04-24T13:36:31.000Z	[:search;;adoptme;;enhancement;;low hanging fruit]	support wildcard to retrieve stored fields	6	currently you can retrieve stored fields of a search hit using the fields http://www.elastic.co guide en elasticsearch reference current search-request-fields.html option however you cannot use wildcards suppose i have document with several title fields such as book title chapter title paragraph title section title and i want to have all those title fields returned from a query it would be nice to have something like this fields title query term category quote no need to specify all the fields and when new title fields are added they are automatically returned wildcard is already supported when specifying the fields in a multi match query or when specifying the fields to highlight for example a current workaround is using source-filtering http://www.elastic.co guide en elasticsearch reference current search-request-source-filtering.html which does allow the wildcard source title query term category quote	136
460078	11728	kentcdodds	2015-04-25T20:39:22.000Z	[component: di;;needs: public api;;type: feature]	add isstrictdi to injector	4	i m writing a utility library where i have a use-case to know when strict di is enabled on a given injector . i could really use some reasonable way of knowing without having to do something crazy like javascript function isstrictdi injector try injector.invoke function a return false catch e return true i m thinking that we could just add a line that says instanceinjector.strictdi strictdi right here https://github.com angular angular.js blob 0baa17a3b7ad2b242df2b277b81cebdf75b04287 src auto injector.js#l649 before the instanceinjector is returned i would happily open a pr with tests which would do this just want to make sure this is the correct approach	104
460078	11779	thebelgarion	2015-04-30T21:29:10.000Z	[]	ng-jq only works on html tag	6	i tried the new tag ng-jq to disable trying to use my very old jquery lib div ng-jq ng-app myapp not working html ng-jq ... working in my case i tried to improve a small module in a very old joomla page so changing the layout template is not really a nice way to do it - would be better if i could use ng-jq on the app tag too at least the description stated it not madatory to do it in the html tag tried with 1.4.0-rc.1	88
1390248	23364	pruiz	2015-05-05T12:08:39.000Z	[bug;;high severity;;p3;;riot;;salt-cloud]	unable to destroy host using proxmox cloud there was an error destroying machines 501 server-error method delete nodes pmx1 openvz openvz 100 not implemented	24	hi while testing salt-cloud s proxmox provider i ve found i cant destroy delete a host due to the following error there was an error destroying machines 501 server-error method delete nodes pmx1 openvz openvz 100 not implemented by looking at the request it looks like openvz is being passed twice as part of the resource uri i think i ve spotted the error and i will be sending a pull-req soon let this issue serve as marker for it	80
460078	11859	drarok	2015-05-12T10:35:04.000Z	[component: forms;;needs: feedback;;severity: inconvenient;;type: feature]	allow ng-trim to work on radio buttons	7	i d like to have the option to use ng-trim on radio inputs not just text inputs i m using angular 1.2.x but have confirmed the feature is not available in 1.3.x or 1.4.x jsfiddle example against 1.4.x http://jsfiddle.net rgewfgbl 5	41
1390248	23643	falzm	2015-05-13T09:32:48.000Z	[bug;;fixed pending verification;;help wanted;;high severity;;needs testcase;;p4;;platform;;regression;;state module]	error in iptables module argument --match-set expected 2 argument s	10	hello when upgrading from 2014.7.5 to 2015.5.0 my iptables states fail on the rules using match-set keyword # salt-call state.sls iptables usage salt-call -h -a append -d delete -i insert -r replace -l list -f flush -z zero -n new-chain -x delete-chain -p policy -e rename-chain -p protocol -s source -d destination -j jump -g goto -i in-interface -o out-interface -f fragment -c set-counters -m match --src-type src-type --dst-type dst-type --limit-iface-in limit-iface-in --limit-iface-out limit-iface-out --ahspi ahspi --ahlen ahlen --ahres ahres --bytecode bytecode --cluster-total-nodes cluster-total-nodes --cluster-local-node cluster-local-node --cluster-local-nodemask cluster-local-nodemask --cluster-hash-seed cluster-hash-seed --h-length h-length --mangle-mac-s mangle-mac-s --mangle-mac-d mangle-mac-d --comment comment --connbytes connbytes --connbytes-dir connbytes-dir --connbytes-mode connbytes-mode --label label --connlimit-upto connlimit-upto --connlimit-above connlimit-above --connlimit-mask connlimit-mask --connlimit-saddr connlimit-saddr --connlimit-daddr connlimit-daddr --mark mark --ctstate ctstate --ctproto ctproto --ctorigsrc ctorigsrc --ctorigdst ctorigdst --ctreplsrc ctreplsrc --ctrepldst ctrepldst --ctorigsrcport ctorigsrcport --ctorigdstport ctorigdstport --ctreplsrcport ctreplsrcport --ctrepldstport ctrepldstport --ctstatus ctstatus --ctexpire ctexpire --ctdir ctdir --cpu cpu --sport source port --dport destination port --dccp-types dccp-types --dccp-option dccp-option --src-group src-group --dst-group dst-group --dscp dscp --dscp-class dscp-class --dst-len dst-len --dst-opts dst-opts --ecn-tcp-cwr ecn-tcp-cwr --ecn-tcp-ece ecn-tcp-ece --ecn-ip-ect ecn-ip-ect --espspi espspi --fragid fragid --fraglen fraglen --fragres fragres --fragfirst fragfirst --fragmore fragmore --fraglast fraglast --hashlimit-upto hashlimit-upto --hashlimit-above hashlimit-above --hashlimit-burst hashlimit-burst --hashlimit-mode hashlimit-mode --hashlimit-srcmask hashlimit-srcmask --hashlimit-dstmask hashlimit-dstmask --hashlimit-name hashlimit-name --hashlimit-htable-size hashlimit-htable-size --hashlimit-htable-max hashlimit-htable-max --hashlimit-htable-expire hashlimit-htable-expire --hashlimit-htable-gcinterval hashlimit-htable-gcinterval --hbh-len hbh-len --hbh-opts hbh-opts --helper helper --hl-eq hl-eq --hl-lt hl-lt --hl-gt hl-gt --icmp-type icmp-type --icmpv6-type icmpv6-type --src-range src-range --dst-range dst-range --soft soft --header header --ipvs ipvs --vproto vproto --vaddr vaddr --vport vport --vdir vdir --vmethod vmethod --vportctl vportctl --length length --limit limit --limit-burst limit-burst --mac-source mac-source --mh-type mh-type --sports source-ports --dports destination-ports --ports ports --nfacct-name nfacct-name --genre genre --ttl ttl --log log --uid-owner uid-owner --gid-owner gid-owner --socket-exists socket-exists --physdev-in physdev-in --physdev-out physdev-out --physdev-is-in physdev-is-in --physdev-is-out physdev-is-out --physdev-is-bridged physdev-is-bridged --pkt-type pkt-type --dir dir --pol pol --strict strict --reqid reqid --spi spi --proto proto --mode mode --tunnel-src tunnel-src --tunnel-dst tunnel-dst --next next --quota quota --rateest rateest --rateest1 rateest1 --rateest2 rateest2 --rateest-delta rateest-delta --rateest-bps rateest-bps --rateest-bps1 rateest-bps1 --rateest-bps2 rateest-bps2 --rateest-pps rateest-pps --rateest-pps1 rateest-pps1 --rateest-pps2 rateest-pps2 --rateest-lt rateest-lt --rateest-gt rateest-gt --rateest-eq rateest-eq --rateest-name rateest-name --rateest-interval rateest-interval --rateest-ewma rateest-ewma --realm realm --name name --set set --rsource rsource --rdest rdest --mask mask --rcheck rcheck --update update --remove remove --seconds seconds --reap reap --hitcount hitcount --rttl rttl --loose loose --validmark validmark --accept-local accept-local --invert invert --rt-type rt-type --rt-segsleft rt-segsleft --rt-len rt-len --rt-0-res rt-0-res --rt-0-addrs rt-0-addrs --rt-0-not-strict rt-0-not-strict --chunk-types chunk-types --match-set match-set match-set --return-nomatch return-nomatch --update-counters update-counters --update-subcounters update-subcounters --packets-eq packets-eq --packets-lt packets-lt --packets-gt packets-gt --bytes-eq bytes-eq --bytes-lt bytes-lt --bytes-gt bytes-gt --transparent transparent --nowildcard nowildcard --state state --probability probability --every every --packet packet --algo algo --from from --to to --string string --hex-string hex-string --tcp-flags tcp-flags --syn syn --tcp-option tcp-option --mss mss --datestart datestart --datestop datestop --timestart timestart --timestop timestop --monthdays monthdays --weekdays weekdays --contiguous contiguous --kerneltz kerneltz --utc utc --localtz localtz --tos tos --ttl-eq ttl-eq --ttl-gt ttl-gt --ttl-lt ttl-lt --u32 u32 --condition condition --mac mac --lower-limit lower-limit --upper-limit upper-limit --src-cc source-country --dst-cc destination-country --enabled enabled --disabled disabled --iface iface --dev-in dev-in --dev-out dev-out --up up --down down --broadcast broadcast --loopback loopback --pointtopoint pointtopoint --running running --noarp noarp --arp arp --promisc promisc --multicast multicast --dynamic dynamic --lower-up lower-up --dormant dormant --edk edk --kazaa kazaa --gnu gnu --dc dc --bit bit --apple apple --soul soul --winmx winmx --ares ares --debug debug --flags flags --any any --layer3 layer3 --layer4 layer4 --layer5 layer5 --stealth stealth --synscan synscan --cnscan cnscan --grscan grscan --psd-weight-threshold psd-weight-threshold --psd-delay-threshold psd-delay-threshold --psd-lo-ports-weight psd-lo-ports-weight --psd-hi-ports-weight psd-hi-ports-weight --grow grow --no-change no-change --packets packets --knockports knockports --time time --autoclose autoclose --checkip checkip --type type --checksum-fill checksum-fill --set-class set-class --new new --hashmode hashmode --clustermac clustermac --total-nodes total-nodes --local-node local-node --hash-init hash-init --set-xmark set-xmark --save-mark save-mark --restore-mark restore-mark --and-mark and-mark --or-mark or-mark --xor-mark xor-mark --set-mark set-mark --save save --restore restore --notrack notrack --ctevents ctevents --expevents expevents --zone zone --timeout timeout --to-destination to-destination --random random --persistent persistent --src-pfx src-pfx --dst-pfx dst-pfx --set-dscp set-dscp --set-dscp-class set-dscp-class --ecn-tcp-remove ecn-tcp-remove --hl-set hl-set --hl-dec hl-dec --hl-inc hl-inc --hmark-tuple hmark-tuple --hmark-mod hmark-mod --hmark-offset hmark-offset --hmark-src-prefix hmark-src-prefix --hmark-dst-prefix hmark-dst-prefix --hmark-sport-mask hmark-sport-mask --hmark-dport-mask hmark-dport-mask --hmark-spi-mask hmark-spi-mask --hmark-proto-mask hmark-proto-mask --hmark-rnd hmark-rnd --led-trigger-id led-trigger-id --led-delay led-delay --led-always-blink led-always-blink --log-level log-level --log-prefix log-prefix --log-tcp-sequence log-tcp-sequence --log-tcp-options log-tcp-options --log-ip-options log-ip-options --log-uid log-uid --to-ports to-ports --nflog-group nflog-group --nflog-prefix nflog-prefix --nflog-range nflog-range --nflog-threshold nflog-threshold --queue-num queue-num --queue-balance queue-balance --queue-bypass queue-bypass --queue-cpu-fanout queue-cpu-fanout --rateest-ewmalog rateest-ewmalog --reject-with reject-with --nodst nodst --selctx selctx --add-set add-set --del-set del-set --exist exist --to-source to-source --set-mss set-mss --clamp-mss-to-pmtu clamp-mss-to-pmtu --strip-options strip-options --gateway gateway --set-tos set-tos --and-tos and-tos --or-tos or-tos --xor-tos xor-tos --on-port on-port --on-ip on-ip --tproxy-mark tproxy-mark --ttl-set ttl-set --ttl-dec ttl-dec --ttl-inc ttl-inc --ulog-nlgroup ulog-nlgroup --ulog-prefix ulog-prefix --ulog-cprange ulog-cprange --ulog-qthreshold ulog-qthreshold --addr addr --tname tname --delude delude --tarpit tarpit --set-mac set-mac --prefix prefix --reuse reuse --static static --and-mask and-mask --or-mask or-mask --shift shift --honeypot honeypot --reset reset salt-call error argument --match-set expected 2 argument s rules in the rule set triggering this error are yaml ... - name filter accept in whitelisted ssh table filter chain input match set match-set whitelisted src proto tcp dport ssh jump accept - name filter accept in whitelisted http table filter chain input match set match-set whitelisted src proto tcp dport http jump accept i don t have this error in 2014.7.5 let me know if you need me to provide more details	865
1390248	23714	naemono	2015-05-14T14:43:22.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform;;state module]	file.copy force ignored during highstate but not with salt-call state.sls id	11	during highstate force is ignored comment the target file home deploy .env exists and will not be overwritten state below yaml bash app env file.managed - name home deploy .bash app env - source salt application-base autoscale-base deployment-user bash app env - template jinja - user deploy - group deploy - mode 0644 formatappenv file.replace - name home deploy .bash app env - pattern s - repl - backup false - require - file bash app env removeblanklinesappenv cmd.run - name sed -i.bak d home deploy .bash app env - user deploy - shell bin bash - require - file formatappenv createenv file.copy - name home deploy .env - source home deploy .bash app env - user deploy - group deploy - force true - require - cmd removeblanklinesappenv but run with salt-call state.sls id it functions as expected yaml local ---------- id bash app env function file.managed name home deploy .bash app env result true comment file home deploy .bash app env updated started 14 32 44.099434 duration 28.466 ms changes id formatappenv function file.replace name home deploy .bash app env result true comment changes were made started 14 32 44.132742 duration 4.311 ms id removeblanklinesappenv function cmd.run name sed -i.bak d home deploy .bash app env result true comment command sed -i.bak d home deploy .bash app env run started 14 32 44.140639 duration 126.497 ms changes ---------- pid 16113 retcode 0 stderr stdout ---------- id createenv function file.copy name home deploy .env result true comment copied home deploy .bash app env to home deploy .env started 14 32 44.269203 duration 4.918 ms changes ---------- home deploy .env home deploy .bash app env group deploy user deploy summary ------------ succeeded 4 changed 4 failed 0 ------------ total states run 4 versions yaml deploy@prd-app-050521 salt-call --versions-report salt 2015.5.0 python 2.7.6 default mar 22 2014 22 59 56 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.3.0 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.0.1 raet not installed zmq 4.0.4 mako 0.9.1 debian source package 2015.5.0+ds-1trusty1	340
1390248	23764	es1o	2015-05-15T12:10:18.000Z	[bug;;high severity;;p4;;platform]	source hash from local file is not supported	8	pyobjects salt code archive.extracted dest makedirs true archive format tar user user group user mode 0755 source file tmp file.tar.gz source hash file tmp file.md5 salt-call error comment source hash file file tmp file.md5 contains an invalid hash format it must be in the format hash type hash problem is in salt modules file.py in line protos salt http https ftp swift s3 should be protos salt http https ftp swift s3 file	73
507775	11237	celesteking	2015-05-19T20:00:33.000Z	[:mapping;;adoptme;;bug;;low hanging fruit;;v5.0.0-alpha1]	copy to needs toplevel object	5	you should specify that copy to top.child needs top field defined first otherwise it would throw an error when indexing also i m completely dissatisfied with the documentation on the site	31
9852918	5298	erisds	2015-05-20T17:56:57.000Z	[themes]	5 ways to fix the great jquery debacle no 4 may surprise you	13	it s time to get rid of jquery from ghost s ghost foot helper... ### the problem currently ghost s ghost foot helper includes jquery for everyone many moons ago when ghost s theme api was first born this seemed like a good idea as it seemed to be something the majority of themes would benefit from making it worthwhile to add to core overtime we ve come to realise this wasn t a good decision themes that don t want or need it have no good way to remove it although it is possible to remove using an app apps aren t officially ready and regardless forcing people to install an app to disable something is counter intuitive the result of all this has been many themes not including the required ghost foot helper which means code-injection doesn t work for everyone and that s just the start of the problems ideally jquery should have been opt-in rather than opt-out it s time to fix that ### the solutions 1 just remove it unfortunately many many themes depend on it so just removing jquery from ghost foot would break countless themes with no warning this is a no-go 2 add a jquery false type attribute to ghost foot this would sort of solve the problem but it would leave us supporting this forever it s also still opt-out and it s really ugly let s not do that 3 add a setting or config.js option as with no.2 we don t really want to be supporting this jquery opt-out in up down thing forever we want to solve the problem once and forall 4 move the inclusion of jquery from ghost foot into code-injection now that users can customise content output by ghost foot why not move the script-tag there rather than having it hardcoding into the helper itself then every user has the power to remove or leave it as they see fit 5 leave it as it is eurgh really --- so assuming we re all in agreement that 4 is the awesome solution we ve all been waiting for we first have to give kudos to @johnonolan who thunk it up now to the how ghost foot is a row in the settings table which stores anything that anyone puts in their blog footer http://support.ghost.org use-code-injection #add-custom-code-and-save-your-changes section on the code-injection screen the proposal is to write a special migration function which runs when anyone is upgrading through a specific version of ghost i.e their old version is lower and their new version will be equal or higher . at the moment the only system we have for this sort of thing exists for database-migration therefore it may make sense to tie doing this to a database change of which there are a few in the pipeline . this function will insert the script-tag for jquery into the start of the ghost foot field with a newline after and a comment before saying to only delete the line if the user is sure their theme doesn t require it at the sametime the code can be removed from the ghost foot helper ### moving forward all existing installed blogs will be unaffected by this change jquery will continue to be present and so their themes will continue to work any theme which wasn t including the ghost foot helper also won t get jquery from code-injection so the net effect for existing blogs should be exactly 0 all newly installed blogs however will no longer have jquery included themes that require jquery and do not include it will be missing functionality to mitigate this we will start announcing that this change is going to happen on the dev blog and theme developer mailing lists theme developers will need to update their themes to include jquery	639
8514	20299	chancancode	2015-05-25T21:45:37.000Z	[attached pr;;railties]	bin setup doesn t work out of the box after git-clone	11	the last step of bin setup is to run touch tmp restart https://github.com rails rails blob master railties lib rails-generators rails app templates bin setup#l28 this doesn t seem to work after cloning a rails app restarting application-server touch tmp restart.txt no such file or directory presumably this is because the tmp directory doesn t exists since it is .gitignore d by default 1 we should make it work 2 tmp should probably exists after clone maybe .gitkeep 3 we should probably use rake restart https://github.com rails rails blob 230393a5bdf10089006b7666fa15cb4543a46486 railties lib rails tasks restart.rake#l1-l3 instead of touching the file directly	101
1390248	24301	iggy	2015-06-01T17:17:57.000Z	[bug;;help wanted;;medium severity;;p1;;platform;;state module]	influxdb user and influxdb database states need virtual-functions	8	they should probably not load if the influx module isn t loaded	12
1390248	24358	pengyao	2015-06-03T06:58:38.000Z	[bug;;high severity;;p3;;salt-api;;salt-ssh]	netapi ssh client don t support ssh user and ssh passwd arguments	12	salt-ssh should appoint username and password for ssh connection if not set ssh user and ssh passwd in roster like this bash salt-ssh --user root --passwd root pass test.ping in python api we can do it like this python from salt.client.ssh.client import sshclient client sshclient client.cmd tgt fun test.ping salt user root salt passwd root pass but in netapi have no way to appoint the ssh user and ssh passwd	70
203666	3579	asebastian-r7	2015-06-04T01:03:17.000Z	[]	vsphere fog fails to find nested resource pools	8	we are currently having an issue with cloning to a nested resource pool i believe the root of the problem lies in the getresource pool method not supporting nested resource pools this works bash f fog compute.new provider vsphere etc f.get resource pool birds my cluster my.datacenter id resgroup-28592 name birds configured memory mb 4837888 overall status green cluster my cluster datacenter my.datacenter this does not bash f fog compute.new provider vsphere etc f.get resource pool birds ducks my cluster my.datacenter users asebastian .rvm gems ruby-2.2.2 gems fog-1.30.0 lib fog vsphere requests compute getresource pool.rb 16 in get raw resource pool undefined method resourcepool for nil nilclass nomethoderror from users asebastian .rvm gems ruby-2.2.2 gems fog-1.30.0 lib fog vsphere requests compute getresource pool.rb 6 in getresource pool from resource pool test.rb 11 in initialize from resource pool test.rb 22 in new from resource pool test.rb 22 in main	148
1390248	24407	aboe76	2015-06-04T15:33:10.000Z	[]	please expand salt module random	5	i would like to be able to set my etc crontab minute and hour settings at random foreach virtual-machine # m h dom mon dow user command 17 root cd run-parts --report etc cron.hourly 25 6 root test -x usr sbin anacron cd run-parts --report etc cron.daily 47 6 7 root test -x usr sbin anacron cd run-parts --report etc cron.weekly 52 6 1 root test -x usr sbin anacron cd run-parts --report etc cron.monthly should be come # m h dom mon dow user command random min root cd run-parts --report etc cron.hourly random min random hour root test -x usr sbin anacron cd run-parts --report etc cron.daily random min random hour 7 root test -x usr sbin anacron cd run-parts --report etc cron.weekly random min random hour 1 root test -x usr sbin anacron cd run-parts --report etc cron.monthly only thing within salt templating-engine for files is wempy mako and jinja but none can do an random number from a max number but python self can do this	170
1390248	24440	bechtoldt	2015-06-05T09:38:15.000Z	[bug;;core;;critical;;p1;;transport;;zreleased - beryllium]	tornado assertionerror when starting salt-minion on deb wheezy develop	9	i m trying to the test my changes from #24422 using the latest develop branch . bootstrap-salt.sh -p -m -k -g https://github.com bechtoldt salt.git git refactor es modules master1 downloading unpacking tornado 4.0 master1 running setup.py egg info for package tornado master1 master1 no previously-included directories found matching docs build master1 warning no files found matching tornado test readme master1 downloading unpacking backports.ssl-match-hostname from tornado 4.0 master1 downloading backports.ssl match hostname-3.4.0.2.tar.gz master1 running setup.py egg info for package backports.ssl-match-hostname master1 master1 downloading unpacking certifi from tornado 4.0 master1 running setup.py egg info for package certifi master1 master1 installing collected packages tornado backports.ssl-match-hostname certifi master1 running setup.py install for tornado master1 building tornado.speedups extension master1 gcc -pthread -fno-strict-aliasing -dndebug -g -fwrapv -o2 -wall -wstrict-prototypes -fpic -i usr include python2.7 -c tornado speedups.c -o build temp.linux-x86 64-2.7 tornado speedups.o master1 tornado speedups.c 49 1 warning function-declaration isn t a prototype -wstrict-prototypes master1 gcc -pthread -shared -wl -o1 -wl -bsymbolic-functions -wl -z relro build temp.linux-x86 64-2.7 tornado speedups.o -o build lib.linux-x86 64-2.7 tornado speedups.so master1 master1 no previously-included directories found matching docs build master1 warning no files found matching tornado test readme master1 running setup.py install for backports.ssl-match-hostname master1 master1 running setup.py install for certifi master1 master1 successfully installed tornado backports.ssl-match-hostname certifi # salt-minion --versions salt version salt 2015.5.2-5695-g2c2cc20 dependency versions jinja2 2.6 m2crypto 0.21.1 mako not installed pyyaml 3.10 pyzmq 13.1.0 python 2.7.3 default mar 13 2014 11 03 55 raet not installed zmq 3.2.3 ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.1.10 pycrypto 2.6 system versions dist debian 7.8 machine x86 64 release 3.2.0-4-amd64 system debian 7.8 # pip freeze warning cannot find svn location for distribute 0.6.24dev-r0 jinja2 2.6 m2crypto 0.21.1 markupsafe 0.15 pyyaml 3.10 argparse 1.2.1 backports.ssl-match-hostname 3.4.0.2 certifi 2015.04.28 chardet 2.0.1 ## fixme could not find svn url in dependency links for this package distribute 0.6.24dev-r0 msgpack-python 0.1.10 pycrypto 2.6 python-apt 0.8.8.2 pyzmq 13.1.0 requests 2.0.0 salt 2015.5.2-5695-g2c2cc20 six 1.1.0 tornado 4.2 urllib3 1.7.1 wsgiref 0.1.2 2015-06-05 11 15 14 072 salt.scripts error 25853 minion failed to start traceback most recent call last file usr lib python2.7 dist-packages salt scripts.py line 81 in minion process minion.start file usr lib python2.7 dist-packages salt cli daemons.py line 269 in start self.minion.tune in file usr lib python2.7 dist-packages salt minion.py line 1593 in tune in self.sync connect master file usr lib python2.7 dist-packages salt minion.py line 589 in sync connect master raise six.reraise future exception file usr locallib python2.7 dist-packages tornado gen.py line 879 in run yielded self.gen.send value file usr lib python2.7 dist-packages salt minion.py line 597 in connect master yield self post master init master file usr locallib python2.7 dist-packages tornado gen.py line 242 in wrapper runner result future yielded file usr locallib python2.7 dist-packages tornado gen.py line 817 in init if self.handle yield first yielded file usr locallib python2.7 dist-packages tornado gen.py line 956 in handle yield self.future convert yielded yielded file usr locallib python2.7 dist-packages tornado gen.py line 1022 in convert yielded return multi future yielded file usr locallib python2.7 dist-packages tornado gen.py line 643 in multi future assert all is future i for i in children assertionerror 2015-06-05 11 15 14 073 salt.scripts warning 25853 restarting minion	534
8514	20510	jrochkind	2015-06-10T19:03:58.000Z	[railties]	rails 4.2 engine skeleton testing issues warning previous definition of stats directories was here	14	bash rails -v rails 4.2.1 rails plugin new --mountable rails42 mountable engine ... cd rails42 mountable engine bundle exec rake-test users jrochkind .gem ruby 2.2.2 gems railties-4.2.1 lib rails tasks statistics.rake 4 warning already initialized constant stats directories users jrochkind .gem ruby 2.2.2 gems railties-4.2.1 lib rails tasks statistics.rake 4 warning previous definition of stats directories was here users jrochkind code rails42 mountable engine test dummy db schema.rb doesn t exist yet run rake db migrate to create it then try again if you do not intend to use a database you should instead alter users jrochkind code rails42 mountable engine test dummy config application.rb to limit the frameworks that will be loaded run options --seed 2894 # running . finished in 0.003765s 265.5704 runs s 265.5704 assertions s 1 runs 1 assertions 0 failures 0 errors 0 skips note warning otuput in the above railties-4.2.1 lib rails tasks statistics.rake 4 warning already initialized constant stats directories... railties-4.2.1 lib rails tasks statistics.rake 4 warning previous definition of stats directories was here this seems like something ain t right i should not need to look at that warning in my output every time i run engine tests	196
507775	11665	brwe	2015-06-15T09:49:15.000Z	[:cluster;;adoptme;;bug;;v2.3.0;;v5.0.0-alpha1]	concurrent deletion of indices and master failure can cause indices to be reimported	13	currently a data node deletes indices by evaluating the cluster state if a new cluster state comes in it is compared to the last known cluster state and if the new state does not contain an index that the node has in its last cluster state then this index is deleted this could cause data to be deleted if the data folder of all master nodes was lost #8823 all master nodes of a cluster go down at the sametime and their data folders cannot be recovered a new master is brought up but it does not have any indices in its cluster state because the data was lost because all other node are data nodes it cannot get the cluster state from them too and therefore sends a cluster state without any indices in it to the data nodes the data nodes then delete all their data on the master branch we prevent this now by checking if the current cluster state comes from a different master than the previous one and if so we keep the indices and import them as dangling see #9952 clusterchangedevent . while this prevents the deletion it also means that we might in other cases not delete indices although we should example 1 two masters eligible nodes m1 is master one data node d . 1 m1 m2 and d are on cluster state version 1 that contains and index 1 the index is deleted through the api causing m1 to send cluster state 2 which does not contain the index to m2 and d that should trigger the actual index deletion 1 m1 goes down 1 m2 receives the new cluster state but d does not network issues etc 1 m2 is elected master and sends cluster state 3 to d which again does not contain the index 1 d will not delete the index because the state comes from a different master than cluster state 1 the last one it knows of and will therefore not delete the index and instead import it back into the cluster currently there is no way for a data node to decide if an index should actually be deleted or not if the cluster state that triggers the delete comes from a new master we chose between 1 deleting all data in case a node receives an empty cluster state or 2 run the risk to keep indices around that should actually be deleted we decided for 2 in #9952 just opening this issue so that this behavior is documented	425
460078	12144	kikhtenko	2015-06-17T10:18:38.000Z	[component: $compile;;severity: regression;;type: bug]	isolated scope property for directive is being re-digested in version 1.4.1	11	hi the issue is not reproducible in 1.4.0 and appears only in 1.4.1 as you can see in the link below http://plnkr.co edit kbijflj4sl5kcccypzw7 p preview the problem is when scope property is changed in directive s controller then in the next digest cycle it s being rewritten regards andrew @kikhtenko	51
460078	12163	narretz	2015-06-18T20:36:27.000Z	[prs plz!;;type: docs]	docs guide page for decorators	5	decorators are a pretty nifty part of angular that is currently only documented as part of provide . we should have a guide page that shows some common use cases decorating a core service and decorating a directive probably also a good place to mention some limitations	47
1390248	24827	yermulnik	2015-06-19T14:32:50.000Z	[bug;;high severity;;p2;;platform;;state module]	locale.present doesn t generate locales	5	python jail root#jail salt w 9 j 0 ... salt states salt --version salt 2015.5.2 lithium jail root#jail salt w 9 j 0 ... salt states salt dt-node10 grains.get saltversion dt-node10 2015.5.0 jail root#jail salt w 9 j 0 ... salt states salt dt-node10 state.sls locales dt-node10 ---------- id ru ru.utf8 function locale.present result true comment generated locale ru ru.utf8 started 14 31 14.315425 duration 323.797 ms changes ---------- locale ru ru.utf8 summary ------------ succeeded 1 changed 1 failed 0 ------------ total states run 1 jail root#jail salt w 9 j 0 ... salt states salt dt-node10 cmd.run locale -a fgrep -c ru ru dt-node10 0 jail root#jail salt w 9 j 0 ... salt states	116
507775	11876	bleskes	2015-06-25T14:26:00.000Z	[:snapshot/restore;;adoptme;;bug]	recovery api reports wrong reused file bytes during snapshot restore	10	the snapshot restore procedure copies over all the bytes the output however is note reused in bytes total in bytes index size total in bytes 4390745019 reused in bytes 4390745019 recovered in bytes 31053339 percent 0.7 files total 136 reused 0 recovered 3 percent 2.2 total time in millis 131455 source throttle time in millis 0 target throttle time in millis 0	62
1390248	24996	danlsgiga	2015-06-26T16:51:43.000Z	[bug;;core;;fixed pending verification;;high severity;;p2;;team core]	--failhard option not working as expected	6	the --failhard parameter for the salt command is supposed to stop batch execution upon first bad return this is not happening even when failhard true in the master config quick example salt -b 1 --failhard nginx cmd.run systemctl restart nginx is executing in all targetted systems regardless of the error return-code it should stop the batch execution at the first failed execution	62
9852918	5492	erisds	2015-06-27T11:04:11.000Z	[in progress;;server]	require-tree refactor or replacewith dependency or both	7	in core server there s a file called require-tree.js which will load a directory of directories or files and also has some code for parsing a package.json file it s used mainly for loading content themes and content apps figuring out what s in there and whether it s valid hence the lumping together of package.json stuff . it s a bit of a mishmash of directory-reading code validation messaging it s also kinda weirdly used to load all the model files in core server models index.js . essentially it seems to me to be a bit of an iceberg - it points at a whole bunch of stuff that could be refactored cleaned up every time i look at it i end up on an alice-in-wonderland style tour of bits of our codebase that need cleaning up - but it s very very difficult to break down into small well-spec d issues perhaps we should replace some of the directory-reading bits with dependencies and put custom-tools in core server utils or perhaps we should look more carefully at how to group together code that deals with themes and apps i m sure there are modules out there for reading directories and i ve seen one for validating package.json files if we do need our own tools they should probably be in core server utils and be unit tested i m sure there are small bits that can be teased easily out so i thought i d leave this issue here as a route in to finding things to improve and an issue to tag against in prs	268
1390248	25040	yi9	2015-06-29T18:20:29.000Z	[bug;;core;;fixed pending verification;;grains;;high severity;;multi-master;;p3;;zreleased - boron]	grains.get can t get minion s etc salt grains value in multi-master set up	14	root@test-master # salt tst03 grains.setval yitest test tst03.domain.com ---------- yitest test root@test-master salt # cat etc salt grains ossize 30g ramsize 2g yitest test root@test-master # salt tst03 grains.get yitest tst03.domain.com versions report root@test-master # salt tst03 test.versions report salt 2015.5.2 python 2.6.6 r266 84292 jan 22 2014 01 49 05 jinja2 2.2.1 m2crypto 0.20.2 msgpack-python 0.4.6 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.5.0 raet not installed zmq 4.0.5 mako not installed as you can see grains.get can t retrieve the grain s value which is already set up in minion successfully in our minion configuration file we define the multiple masters as below we think the error was because grains master function can t return list but only return one value minion configuration master - test-master.domain.com - test-master02.domain.com grains core.py return master opts .get master other than this multi master works good with us so far as an initial test any suggestions thanks yi	163
460078	12249	kimx	2015-07-01T03:31:56.000Z	[component: forms;;component: ngmessages;;resolution: duplicate]	ng-form cannot show message remove item from arry	8	hello when i upgrade version from 1.3.16 to 1.4.1 i occur some errors ng-message cannot show but if i downgrade to angular-messages .1.3.16 it can be work when some input has validation in ng-form it cannot be remove from an array.i found the problem cause by when inject module of ng-animate e.g angular.module app ngmessages nganimate see plunker http://plnkr.co edit mui24ia2yyww0tyoderd please help me thanks a lot	67
460078	12259	jeffbcross	2015-07-02T05:21:25.000Z	[branch: 1.4.x;;component: $compile;;origin: google;;severity: regression]	troubleshoot angular-material breakage with do not write @-bound properties commit	10	troubleshoot angular-material breakage with https://github.com angular angular.js commit 8a1eb1625c080445ce1e519762e1f2d4fd842b72 which was reverted this spec is failing https://github.com angular-material blob 786b0ed3652b7460c2c802efa1aa79972bd96f5d src components chips contact-chips.spec.js#l46 with this error error compile nonassign expression used with directive mdautocomplete is non-assignable http://errors.angularjs.org 1.4.2-build.4088+sha.4da1cc3 compile nonassign p0 p1 mdautocomplete minerr @ material temp angular.js 68 12 initializedirectivebindings parentset @ material temp angular.js 8705 1 parentvaluewatch@ material temp angular.js 8718 19 regularinterceptedexpression@ material temp angular.js 14227 16 constantwatch@ material temp angular.js 14208 16 rootscopeprovider this get scope.prototype digest@ material temp angular.js 15674 34 rootscopeprovider this get scope.prototype apply@ material temp angular.js 15950 13 buildchips @ material src components chips contact-chips.spec.js 98 7 invoke@ material temp angular.js 4452 14 workfn@ material temp angular-mocks.js 2420 11 angular.mock.inject@ material temp angular-mocks.js 2392 30 buildchips@ material src components chips contact-chips.spec.js 96 5 @ material src components chips contact-chips.spec.js 51 23 invoke@ material temp angular.js 4452 14 workfn@ material temp angular-mocks.js 2420 11 angular.mock.inject@ material temp angular-mocks.js 2391 25 buildchips@ material src components chips contact-chips.spec.js 96 5 @ material src components chips contact-chips.spec.js 51 23 invoke@ material temp angular.js 4452 14 workfn@ material temp angular-mocks.js 2420 11 angular.mock.inject@ material temp angular-mocks.js 2391 25 @ material src components chips contact-chips.spec.js 46 27 jasmineinterface.describe@ material node-modules karma-jasmine lib boot.js 59 14 @ material src components chips contact-chips.spec.js 45 5 jasmineinterface.describe@ material node-modules karma-jasmine lib boot.js 59 14 @ material src components chips contact-chips.spec.js 36 3 jasmineinterface.describe@ material node-modules karma-jasmine lib boot.js 59 14 @ material src components chips contact-chips.spec.js 1 1 cc @thomasburleson @caitp	251
460078	12266	crisbeto	2015-07-03T12:22:37.000Z	[]	nganimate messing with validation classes	5	since 1.4.0 nganimate has been messing with the way ng-valid ng-invalid classes are being applied here s a plunker with an example forked from the official email example http://plnkr.co edit thmri4lrfovumofsmeli p preview to reproduce try entering any random value whose length is divisble by 3 e.g 123 . note that the input and the form have the ng-valid class in addition to ng-invalid-email even though the value isn t a valid email the correct behavior is for them to both be ng-invalid . the problem gets solved if nganimate gets commented out from the dependencies	96
9852918	5519	blackxored	2015-07-05T04:39:21.000Z	[bug;;importer]	emoji or unicode in general doesn t get imported	9	i ve exported my settings since i recently migrated from sqlite to rds and emojis didn t get imported back update hmm is not only about the importing it s also when i save them back i wonder if there s a misconfiguration on my end i ve tried setting charset in the connection config no luck	57
460078	12287	jerryorta-dev	2015-07-07T11:42:18.000Z	[component: misc core;;type: bug]	angular.js 1.4 isfunction is not defined in loader.js	8	loading the seed-app with index-async.html loader.js throws an error uncaught referenceerror isfunction is not defined . i will have a pull-request to fix loader.js	24
1390248	25229	rmatulat	2015-07-08T08:05:48.000Z	[bug;;high severity;;p3;;platform;;state module]	module git.latest kills target directory when test true	8	hi i have an issue running a single state with test true not behaving as expected the state contains a git.latest state with - force true . while running the state from the commandline with test true the target directory will be deleted thats not what i would expect while in testmode statefile yaml salt master config git.latest - name http://gitlab.example.com saltstack salt-master-etc-salt.git - target etc salt - user root - force true called like bash salt saltminion state.sls saltmaster test true saltenv dev we are on 2015.5.2 kind regards ralf	91
1390248	25479	alexandrsushko	2015-07-16T13:48:27.000Z	[]	multiple mount.mounted of one device	5	i need to mount one dir with -o bind to several places and make this mount persistent mount.mounted behaviour according to the docs is to write to fstab if persist option is set true or no persistent is set but if state looks like this for i in range 1 10 mnt dir i mount - mounted - device some dir - fstype none - mkmnt true - persist true - opts bind endfor salt rewrites fstab entries for some dir changing the target as i increments every state run and after all only the last mount is written to the fstab some dir mnt dir9 none bind 0 0 salt version is 2015.5.3 commit f0f512a log of state.sls execution info running state mnt dir1 at time 16 36 39.543683 info executing state mount.mounted for mnt dir1 info executing command mount -l in directory root info executing command blkid in directory root info persist update info completed state mnt dir1 at time 16 36 39.658869 ... info running state mnt dir2 at time 16 36 40.170830 info executing state mount.mounted for mnt dir2 info executing command mount -l in directory root info executing command blkid in directory root info persist update info completed state mnt dir2 at time 16 36 40.250208 ... ---------- id mnt dir1 function mount.mounted result true comment target was already mounted updated the entry in the fstab started 16 36 39.543683 duration 115.186 ms changes ---------- persist update ... ---------- id mnt dir2 function mount.mounted result true comment target was already mounted updated the entry in the fstab started 16 36 40.170830 duration 79.378 ms changes ---------- persist update ...	274
1390248	25492	hernanc	2015-07-16T16:40:13.000Z	[bug;;help wanted;;high severity;;p1;;platform]	docker-py mem limit has been moved to host config in api version 1.19 error	14	hello i m trying to set up a docker-container in a minion and getting this error on docker.installed comment we did not get any expected answer from docker traceback most recent call last file usr lib python2.7 dist-packages salt modules dockerio.py line 640 in create container cpuset cpuset file usr locallib python2.7 dist-packages docker client.py line 237 in create container volume driver file usr locallib python2.7 dist-packages docker utils utils.py line 546 in create container config mem limit has been moved to host config in api version 1.19 invalidversion mem limit has been moved to host config in api version 1.19 the error is being triggered in https://github.com docker docker-py blob master docker utils utils.py#l544 if mem limit is not none raise errors.invalidversion mem limit has been moved to host config in api version 1.19 so i got around it by adding mem limit null to my docker.installed app-container docker.installed ... - mem limit null however it d be great to have this fixed thanks the minion has docker-py 1.3.0 installed and this is my master s versions report bash salt --versions-report salt 2015.5.2 python 2.7.6 default jun 22 2015 17 58 13 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.3.0 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.0.1 raet not installed zmq 4.0.4 mako 0.9.1 debian source package 2015.5.2+ds-1trusty1	225
460078	12365	langdonx	2015-07-16T19:57:00.000Z	[component: di]	provide.value to support functions	4	i came across this in the ngdoc comments provide.value halfof function value return-value 2 but it doesn t seem to be implemented i m not entirely sure how it would accept the value argument anyway but i wanted it specifically to provide my controllers with a non-singleton value to aid what i think is tremendously in unit-testing by providing a new value to each component that requests the dependency edit i ve made the necessary changes by keeping track of the provider type in providercache and modifying createinternalinjector invoke to get the result of the function if the provider type is value . it seemed almost too easily and makes me think there s a reason this wasn t implemented already is there something i m not aware of	129
2935735	11416	pabliqe	2015-07-18T01:54:47.000Z	[starter bug]	enter key behavior on extension manager s search-box	8	## how 1 open extension manager 2 write something in the search-box 3 press enter to search but window closes ## why because this is the user behavior when writing a search-box even without user-testing this you can rest on well-known patterns that you use everyday you write something on chrome s address-bar and press enter to go for it you write on google-search box and you press enter to get results also with live-search . same here on github even when the live-search feature is enable the user could not be aware of this feature because of keypress timeouts delayed server responses or even for looking at the keyboard while writing so once he is done writing will press enter to send the request image https://cloud.githubusercontent.com assets 1827527 8753292 cb4ff55a-2c90-11e5-92b7-33c859c342c4.png	131
1390248	25813	whytewolf	2015-07-29T00:08:34.000Z	[bug;;core;;fixed pending verification;;high severity;;p1]	debconf.set throwing exception in 2015.8.0rc2	5	trying to use the current rc for dev work and ran into this bug on a state that was working mysql setup debconf.set - name mysql-server - data mysql-server root password type string value pillar sql root password mysql-server root password again type string value pillar sql root password here is the trace from the exception ctrl.wolfcloud.bad4.us the minion function caused an exception traceback most recent call last file usr lib python2.7 dist-packages salt minion.py line 1045 in thread return return data func args kwargs file usr lib python2.7 dist-packages salt modules state.py line 698 in sls ret st .state.call high high file usr lib python2.7 dist-packages salt state.py line 2119 in call high ret dict list disabled.items + list self.call chunks chunks .items file usr lib python2.7 dist-packages salt state.py line 1651 in call chunks running self.call chunk low running chunks file usr lib python2.7 dist-packages salt state.py line 1819 in call chunk self mod init low file usr lib python2.7 dist-packages salt state.py line 635 in mod init self.states 0 . 1 .format low state low fun # pylint disable w0106 file usr lib python2.7 dist-packages salt utils lazy.py line 93 in getitem raise keyerror key keyerror debconf.set this is on a brand new minion	207
507775	12546	ppf2	2015-07-29T22:16:40.000Z	[:search;;adoptme;;enhancement;;low hanging fruit;;v5.0.0-alpha3]	only nodes against a node attribute not shuffling requests between nodes	11	reproducible using 1.7.1 and 5.0 alpha 2 https://gist.github.com ppf2 a5a04d94cc7e0fc3859e not sure if only nodes pod a is the right way to specify the value but it certainly complains about only nodes bogus name a and only nodes pod bogus value so far not seeing it shuffle between the nodes sharing the same node attribute	55
9852918	5617	morficus	2015-07-31T01:16:40.000Z	[fix wanted;;i18n]	i18n harvesting server-side strings	4	## the problem ghost is currently pretty much uk-based english-language only and has barely any features to account for timezones locales languages alphabets keyboard layouts or anything else that isn t utc english in either the admin or in themes even the usa folks luck out sorry all this is set to change with full support for multiple locales and languages across the admin and your blog posts src #3801 ## the solution see #5345 for full details the first phase of the multi-part rollout is to removeall strings that are hard-coded in the app and put them in a centralized location referred to as harvesting . at the end of phase 1 english would still be the only language supported in ghost and there would be no noticeable change to the end-user but it will put things in a place where translations can start taking place but this is a big job and no one person can do it all alone unless you re brave and have lots of free time each piece of the string harvesting can be done separately and referencing this issue which make a few good small issues for either beginners or folks that want to contribute but may not have a lot of time free time this commit is to help demonstrate how to go about harvesting strings and replacing it with the proper i18n function https://github.com morficus ghost commit a1559cde068f1861bf672e66ef2354c4d1fb6288 ps this particular issue is focused only on harvesting string that are server-side there will be another issue for client-side strings ## tasks to grab a task just leave a comment below indicating which you will be working on places that have lots of strings across many files - core server api - core server data places with a healthy amount but not too many files - core server models - core server helpers - core server middleware - core server apps places that have a small amount of strings that need harvesting - core server controllers - core server config - core server permissions - core server utils - core server ghost-server.js - core server index.js - core server mail.js - core server require-tree.js - core server update-check.js	366
1390248	26011	rodriguezsergio	2015-08-04T20:55:11.000Z	[bug;;documentation;;medium severity;;p3;;state module]	states.virtualenv modules.virtualenv	2	this is part documentation update and part feature request in the docs it reads also accepts any kwargs that the virtualenv module will http://docs.saltstack.com en latest ref states all salt.states.virtualenv mod.html however if you scroll up and read the list of accepted arguments - pip true will not work even though it is defined here http://docs.saltstack.com en latest ref modules all salt.modules.virtualenv mod.html pip false install pip after creating a virtual-environment implies distribute true the work-around here being that you can just pass - distribute true but i thought it would be worth mentioning the docs should read accepts almost any kwargs stuck out tongue output from the salt-minion version 2015.5.2 shows what you might expect warnings pip is an invalid keyword-argument for virtualenv.managed . edit definitely nitpicking here since the default behavior for virtualenv apparently seems to install pip by default now	143
1390248	26024	jpic	2015-08-05T10:27:06.000Z	[bug;;high severity;;p3;;platform;;salt-cloud]	lxc conf unset in cloud.profile is ignored	7	consider this cloud.profiles debian container provider yourtest image debian bridge lxcbr0 ssh username root password foobar network profile nic profile debian auto true lxc conf unset - lxc.network.ipv4.gateway minion master 10.0.7.193 master port 4506 creating a container with salt-cloud -l trace -p debian container xtest results in this configuration in var lib lxc xtest config # template used to create this container usr share lxc templates lxc-debian # parameters passed to the template # for additional config options please look at lxc.container.conf 5 lxc.rootfs var lib lxc xtest rootfs # common configuration lxc.include usr share lxc config debian.common.conf # container specific configuration lxc.mount var lib lxc xtest fstab lxc.utsname xtest lxc.arch amd64 lxc.autodev 1 lxc.kmsg 0 lxc.start.auto 1 lxc.network.type veth lxc.network.name eth0 lxc.network.flags up lxc.network.link lxcbr0 lxc.network.hwaddr ac de 48 68 4a 69 lxc.network.ipv4.gateway auto i was expecting the lxc.network.ipv4.gateway line to be absent salt-cloud -l trace output debug reading configuration from etc salt-cloud debug reading configuration from etc salt master debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug reading configuration from etc salt cloud.providers debug reading configuration from etc salt cloud.profiles trace none of the required configuration sections logstash udp handler and logstash zmq handler were found the in the configuration not loading the logstash logging handlers module debug configuration filepath etc salt-cloud trace trying pysss.getgrouplist for root trace trying generic group list for root trace group list for user root info salt-cloud starting trace parallels.avail sizes has been marked as not supported removing from the list of supported cloud functions debug could not lazyload parallels.avail sizes trace parallels.avail locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded parallels.avail locations trace proxmox.avail sizes has been marked as not supported removing from the list of supported cloud functions debug lazyloaded proxmox.avail sizes trace saltify.destroy has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.destroy trace saltify.avail sizes has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail sizes trace saltify.avail images has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail images trace saltify.avail locations has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail locations trace rackspace.reboot has been marked as not supported removing from the list of supported cloud functions debug lazyloaded rackspace.reboot trace openstack.list locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded openstack.list locations trace rackspace.list locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded rackspace.list locations debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 51.978752 trace get event received tag salt event new client data stamp 2015-08-05t10 23 51.978752 debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local trace func get cli event returns debug lazyloaded local cache.get load debug get iter returns for jid 20150805122352020451 sent to set yourtest will timeout at 12 24 02.022821 debug jid 20150805122352020451 return from yourtest debug jid 20150805122352020451 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122352065500 sent to set yourtest will timeout at 12 24 02.067903 debug jid 20150805122352065500 return from yourtest debug jid 20150805122352065500 found all minions set yourtest debug lazyloaded jobs.lookup jid debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 52.103628 trace get event received tag salt event new client data stamp 2015-08-05t10 23 52.103628 debug sending event - data fun runner.jobs.lookup jid jid 20150805122352102832 user unknown stamp 2015-08-05t10 23 52.104822 debug error loading runners.nacl libnacl importerror perhaps missing python libnacl package debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded jinja.render debug lazyloaded yaml.render debug lazyloaded gpg.render debug lazyloaded local cache.get jid debug lazyloaded nested.output trace data yourtest true debug sending event - data jid 20150805122352102832 return yourtest true success true stamp 2015-08-05t10 23 52.810359 user unknown fun runner.jobs.lookup jid debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded local cache.prep jid info runner completed 20150805122352102832 debug could not lazyload lxc.optimize providers debug the lxc cloud driver is unable to be optimized yourtest true trace parallels.avail sizes has been marked as not supported removing from the list of supported cloud functions debug could not lazyload parallels.avail sizes trace parallels.avail locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded parallels.avail locations trace proxmox.avail sizes has been marked as not supported removing from the list of supported cloud functions debug lazyloaded proxmox.avail sizes trace saltify.destroy has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.destroy trace saltify.avail sizes has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail sizes trace saltify.avail images has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail images trace saltify.avail locations has been marked as not supported removing from the list of supported cloud functions debug could not lazyload saltify.avail locations trace rackspace.reboot has been marked as not supported removing from the list of supported cloud functions debug lazyloaded rackspace.reboot trace openstack.list locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded openstack.list locations trace rackspace.list locations has been marked as not supported removing from the list of supported cloud functions debug lazyloaded rackspace.list locations debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 53.482025 trace get event received tag salt event new client data stamp 2015-08-05t10 23 53.482025 debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local trace func get cli event returns debug lazyloaded local cache.get load debug get iter returns for jid 20150805122353532663 sent to set yourtest will timeout at 12 24 03.535748 debug jid 20150805122353532663 return from yourtest debug jid 20150805122353532663 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122353578449 sent to set yourtest will timeout at 12 24 03.581190 debug jid 20150805122353578449 return from yourtest debug jid 20150805122353578449 found all minions set yourtest debug lazyloaded jobs.lookup jid debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 53.606093 trace get event received tag salt event new client data stamp 2015-08-05t10 23 53.606093 debug sending event - data fun runner.jobs.lookup jid jid 20150805122353605380 user unknown stamp 2015-08-05t10 23 53.607193 debug error loading runners.nacl libnacl importerror perhaps missing python libnacl package debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded jinja.render debug lazyloaded yaml.render debug lazyloaded gpg.render debug lazyloaded local cache.get jid debug lazyloaded nested.output trace data yourtest true debug sending event - data jid 20150805122353605380 return yourtest true success true stamp 2015-08-05t10 23 54.197328 user unknown fun runner.jobs.lookup jid debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded local cache.prep jid info runner completed 20150805122353605380 debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 54.889531 trace get event received tag salt event new client data stamp 2015-08-05t10 23 54.889531 debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local trace func get cli event returns debug lazyloaded local cache.get load debug get iter returns for jid 20150805122354940065 sent to set yourtest will timeout at 12 24 04.942609 debug jid 20150805122354940065 return from yourtest debug jid 20150805122354940065 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122354998771 sent to set yourtest will timeout at 12 24 05.001656 debug jid 20150805122354998771 return from yourtest debug jid 20150805122354998771 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355045146 sent to set yourtest will timeout at 12 24 05.047622 debug jid 20150805122355045146 return from yourtest debug jid 20150805122355045146 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355180921 sent to set yourtest will timeout at 12 24 05.183242 debug jid 20150805122355180921 return from yourtest debug jid 20150805122355180921 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355316724 sent to set yourtest will timeout at 12 24 05.319652 debug jid 20150805122355316724 return from yourtest debug jid 20150805122355316724 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355453274 sent to set yourtest will timeout at 12 24 05.455427 debug jid 20150805122355453274 return from yourtest debug jid 20150805122355453274 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355577788 sent to set yourtest will timeout at 12 24 05.580254 debug jid 20150805122355577788 return from yourtest debug jid 20150805122355577788 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355723145 sent to set yourtest will timeout at 12 24 05.725913 debug jid 20150805122355723145 return from yourtest debug jid 20150805122355723145 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355859089 sent to set yourtest will timeout at 12 24 05.861981 debug jid 20150805122355859089 return from yourtest debug jid 20150805122355859089 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122355995303 sent to set yourtest will timeout at 12 24 05.997634 debug jid 20150805122355995303 return from yourtest debug jid 20150805122355995303 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356130491 sent to set yourtest will timeout at 12 24 06.132783 debug jid 20150805122356130491 return from yourtest debug jid 20150805122356130491 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356265889 sent to set yourtest will timeout at 12 24 06.268452 debug jid 20150805122356265889 return from yourtest debug jid 20150805122356265889 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356401630 sent to set yourtest will timeout at 12 24 06.403833 debug jid 20150805122356401630 return from yourtest debug jid 20150805122356401630 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356546976 sent to set yourtest will timeout at 12 24 06.549261 debug jid 20150805122356546976 return from yourtest debug jid 20150805122356546976 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356682484 sent to set yourtest will timeout at 12 24 06.684744 debug jid 20150805122356682484 return from yourtest debug jid 20150805122356682484 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356817835 sent to set yourtest will timeout at 12 24 06.819852 debug jid 20150805122356817835 return from yourtest debug jid 20150805122356817835 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122356962888 sent to set yourtest will timeout at 12 24 06.965254 debug jid 20150805122356962888 return from yourtest debug jid 20150805122356962888 found all minions set yourtest trace func get cli event returns debug get iter returns for jid 20150805122357097909 sent to set yourtest will timeout at 12 24 07.099837 debug jid 20150805122357097909 return from yourtest debug jid 20150805122357097909 found all minions set yourtest debug lazyloaded jobs.lookup jid debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 57.122646 trace get event received tag salt event new client data stamp 2015-08-05t10 23 57.122646 debug sending event - data fun runner.jobs.lookup jid jid 20150805122357122199 user unknown stamp 2015-08-05t10 23 57.123337 debug error loading runners.nacl libnacl importerror perhaps missing python libnacl package debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded jinja.render debug lazyloaded yaml.render debug lazyloaded gpg.render debug lazyloaded local cache.get jid debug lazyloaded nested.output trace data yourtest frozen running test memory-limit 0 private ipv4 ips 10.1.6.3 127.0.0.1 private ips 10.1.6.3 fe80 216 3eff fe22 a51d 127.0.0.1 1 nics hwaddr 00 16 3e 22 a5 1d link lxcbr0 type veth memory free 0 private ipv6 ips fe80 216 3eff fe22 a51d 1 public ips public ipv4 ips ips 10.1.6.3 fe80 216 3eff fe22 a51d 127.0.0.1 1 state running public ipv6 ips ipv6 ips fe80 216 3eff fe22 a51d 1 size 918812796 config var lib lxc test config ipv4 ips 10.1.6.3 127.0.0.1 rootfs var lib lxc test rootfs xk memory-limit 0 private ipv4 ips 10.1.6.12 127.0.0.1 private ips 10.1.6.12 fe80 aede 48ff fe38 f938 127.0.0.1 1 nics hwaddr ac de 48 38 f9 38 link lxcbr0 flags up name eth0 type veth memory free 0 private ipv6 ips fe80 aede 48ff fe38 f938 1 public ips public ipv4 ips ips 10.1.6.12 fe80 aede 48ff fe38 f938 127.0.0.1 1 state running public ipv6 ips ipv6 ips fe80 aede 48ff fe38 f938 1 size 918812796 config var lib lxc xk config ipv4 ips 10.1.6.12 127.0.0.1 rootfs var lib lxc xk rootfs stopped ww private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 84 6b 33 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc ww config ipv4 ips rootfs var lib lxc ww rootfs x private ipv4 ips private ips nics name eth0 ipv4.gateway auto flags up hwaddr ac de 48 bd f0 cf link lxcbr0 type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc x config ipv4 ips rootfs var lib lxc x rootfs xko private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 4b dd a0 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc xko config ipv4 ips rootfs var lib lxc xko rootfs w private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 77 cf 55 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc w config ipv4 ips rootfs var lib lxc w rootfs y private ipv4 ips private ips nics name eth0 ipv4.gateway auto flags up hwaddr ac de 48 d2 76 9c link lxcbr0 type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc y config ipv4 ips rootfs var lib lxc y rootfs yourtest true yourtest ---------- frozen ---------- running ---------- test ---------- config var lib lxc test config ips - 10.1.6.3 - fe80 216 3eff fe22 a51d - 127.0.0.1 - 1 ipv4 ips - 10.1.6.3 - 127.0.0.1 ipv6 ips - fe80 216 3eff fe22 a51d - 1 memory free 0 memory-limit 0 nics ---------- hwaddr 00 16 3e 22 a5 1d link lxcbr0 type veth private ips - 10.1.6.3 - fe80 216 3eff fe22 a51d - 127.0.0.1 - 1 private ipv4 ips - 10.1.6.3 - 127.0.0.1 private ipv6 ips - fe80 216 3eff fe22 a51d - 1 public ips public ipv4 ips public ipv6 ips rootfs var lib lxc test rootfs size 918812796 state running xk ---------- config var lib lxc xk config ips - 10.1.6.12 - fe80 aede 48ff fe38 f938 - 127.0.0.1 - 1 ipv4 ips - 10.1.6.12 - 127.0.0.1 ipv6 ips - fe80 aede 48ff fe38 f938 - 1 memory free 0 memory-limit 0 nics ---------- flags up hwaddr ac de 48 38 f9 38 link lxcbr0 name eth0 type veth private ips - 10.1.6.12 - fe80 aede 48ff fe38 f938 - 127.0.0.1 - 1 private ipv4 ips - 10.1.6.12 - 127.0.0.1 private ipv6 ips - fe80 aede 48ff fe38 f938 - 1 public ips public ipv4 ips public ipv6 ips rootfs var lib lxc xk rootfs size 918812796 state running stopped ---------- w ---------- config var lib lxc w config ips ipv4 ips ipv6 ips nics ---------- flags up hwaddr ac de 48 77 cf 55 ipv4.gateway auto link lxcbr0 name eth0 type veth private ips private ipv4 ips private ipv6 ips public ips public ipv4 ips public ipv6 ips rootfs var lib lxc w rootfs size none state stopped ww ---------- config var lib lxc ww config ips ipv4 ips ipv6 ips nics ---------- flags up hwaddr ac de 48 84 6b 33 ipv4.gateway auto link lx debug sending event - data jid 20150805122357122199 return yourtest frozen running test memory-limit 0 private ipv4 ips 10.1.6.3 127.0.0.1 private ips 10.1.6.3 fe80 216 3eff fe22 a51d 127.0.0.1 1 nics hwaddr 00 16 3e 22 a5 1d link lxcbr0 type veth memory free 0 private ipv6 ips fe80 216 3eff fe22 a51d 1 public ips public ipv4 ips ips 10.1.6.3 fe80 216 3eff fe22 a51d 127.0.0.1 1 state running public ipv6 ips ipv6 ips fe80 216 3eff fe22 a51d 1 size 918812796 config var lib lxc test config ipv4 ips 10.1.6.3 127.0.0.1 rootfs var lib lxc test rootfs xk memory-limit 0 private ipv4 ips 10.1.6.12 127.0.0.1 private ips 10.1.6.12 fe80 aede 48ff fe38 f938 127.0.0.1 1 nics hwaddr ac de 48 38 f9 38 link lxcbr0 flags up name eth0 type veth memory free 0 private ipv6 ips fe80 aede 48ff fe38 f938 1 public ips public ipv4 ips ips 10.1.6.12 fe80 aede 48ff fe38 f938 127.0.0.1 1 state running public ipv6 ips ipv6 ips fe80 aede 48ff fe38 f938 1 size 918812796 config var lib lxc xk config ipv4 ips 10.1.6.12 127.0.0.1 rootfs var lib lxc xk rootfs stopped ww private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 84 6b 33 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc ww config ipv4 ips rootfs var lib lxc ww rootfs x private ipv4 ips private ips nics name eth0 ipv4.gateway auto flags up hwaddr ac de 48 bd f0 cf link lxcbr0 type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc x config ipv4 ips rootfs var lib lxc x rootfs xko private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 4b dd a0 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc xko config ipv4 ips rootfs var lib lxc xko rootfs w private ipv4 ips private ips nics name eth0 ipv4.gateway auto link lxcbr0 hwaddr ac de 48 77 cf 55 flags up type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc w config ipv4 ips rootfs var lib lxc w rootfs y private ipv4 ips private ips nics name eth0 ipv4.gateway auto flags up hwaddr ac de 48 d2 76 9c link lxcbr0 type veth private ipv6 ips public ips public ipv4 ips ips state stopped public ipv6 ips ipv6 ips size none config var lib lxc y config ipv4 ips rootfs var lib lxc y rootfs success true stamp 2015-08-05t10 23 57.668635 user unknown fun runner.jobs.lookup jid debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded local cache.prep jid info runner completed 20150805122357122199 cbr0 name eth0 type veth private ips private ipv4 ips private ipv6 ips public ips public ipv4 ips public ipv6 ips rootfs var lib lxc ww rootfs size none state stopped x ---------- config var lib lxc x config ips ipv4 ips ipv6 ips nics ---------- flags up hwaddr ac de 48 bd f0 cf ipv4.gateway auto link lxcbr0 name eth0 type veth private ips private ipv4 ips private ipv6 ips public ips public ipv4 ips public ipv6 ips rootfs var lib lxc x rootfs size none state stopped xko ---------- config var lib lxc xko config ips ipv4 ips ipv6 ips nics ---------- flags up hwaddr ac de 48 4b dd a0 ipv4.gateway auto link lxcbr0 name eth0 type veth private ips private ipv4 ips private ipv6 ips public ips public ipv4 ips public ipv6 ips rootfs var lib lxc xko rootfs size none state stopped y ---------- config var lib lxc y config ips ipv4 ips ipv6 ips nics ---------- flags up hwaddr ac de 48 d2 76 9c ipv4.gateway auto link lxcbr0 name eth0 type veth private ips private ipv4 ips private ipv6 ips public ips public ipv4 ips public ipv6 ips rootfs var lib lxc y rootfs size none state stopped debug generating minion keys for xtest debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 58.276321 trace get event received tag salt event new client data stamp 2015-08-05t10 23 58.276321 debug sending event - data profile none event starting create stamp 2015-08-05t10 23 58.277472 name xtest provider yourtest lxc debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug lazyloaded lxc.cloud init debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 58.395673 trace get event received tag salt event new client data stamp 2015-08-05t10 23 58.395673 debug sending event - data fun runner.lxc.cloud init jid 20150805122358394891 user unknown stamp 2015-08-05t10 23 58.396567 debug error loading runners.nacl libnacl importerror perhaps missing python libnacl package debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug missing configuration file root .saltrc debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 58.450641 trace get event received tag salt event new client data stamp 2015-08-05t10 23 58.450641 trace func get cli event returns debug lazyloaded local cache.get load debug get iter returns for jid 20150805122358456970 sent to set yourtest will timeout at 12 24 18.459556 debug jid 20150805122358456970 return from yourtest debug jid 20150805122358456970 found all minions set yourtest info searching for lxc hosts debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf debug using cached minion id from etc salt minion id test cloud.local debug missing configuration file root .saltrc debug masterevent pub socket uri ipc var run salt master master event pub.ipc debug masterevent pull socket uri ipc var run salt master master event pull.ipc debug sending event - data stamp 2015-08-05t10 23 58.544313 trace get event received tag salt event new client data stamp 2015-08-05t10 23 58.544313 debug lazyloaded local cache.get load debug get iter returns for jid 20150805122358550385 sent to set yourtest will timeout at 12 24 03.552342 debug jid 20150805122358550385 return from yourtest debug jid 20150805122358550385 found all minions set yourtest info creating container s xtest on host yourtest trace func get cli event returns debug get iter returns for jid 20150805122359015827 sent to set yourtest will timeout at 12 33 59.018112 debug jid 20150805122359015827 return from yourtest debug jid 20150805122359015827 found all minions set yourtest debug get iter returns for jid 20150805122359040916 sent to set yourtest will timeout at 12 33 59.043471 debug jid 20150805122359040916 return from yourtest debug lazyloaded nested.output trace data suffix progress event message comment errors ordereddict yourtest ordereddict xtest comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start nlxc-start to get more details run the container in foreground mode nlxc-start additional information can be obtained by setting the --logfile and --logpriority options changes init create container created config container configuration updated name xtest yourtest ping status false done result false debug sending event - data message comment errors ordereddict yourtest ordereddict xtest comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start nlxc-start to get more details run the container in foreground mode nlxc-start additional information can be obtained by setting the --logfile and --logpriority options changes init create container created config container configuration updated name xtest yourtest ping status false done result false stamp 2015-08-05t10 24 09.542561 debug lazyloaded nested.output trace data comment errors ordereddict yourtest ordereddict xtest comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start nlxc-start to get more details run the container in foreground mode nlxc-start additional information can be obtained by setting the --logfile and --logpriority options changes init create container created config container configuration updated name xtest yourtest ping status false done result false debug sending event - data jid 20150805122358394891 return comment errors ordereddict yourtest ordereddict xtest comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start nlxc-start to get more details run the container in foreground mode nlxc-start additional information can be obtained by setting the --logfile and --logpriority options changes init create container created config container configuration updated name xtest yourtest ping status false done result false success true stamp 2015-08-05t10 24 09.569766 user unknown fun runner.lxc.cloud init debug reading configuration from etc salt-cloud debug including configuration from etc salt minion.d schedule.conf debug reading configuration from etc salt minion.d schedule.conf debug including configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt minion.d f defaults.conf debug reading configuration from etc salt-cloud debug including configuration from etc salt master.d f defaults.conf debug reading configuration from etc salt master.d f defaults.conf debug including configuration from etc salt master.d reactor.conf debug reading configuration from etc salt master.d reactor.conf trace lspci could not be found in the following search-path usr local sbin usr local bin usr sbin usr bin sbin bin warning although dmidecode was found in path the current user cannot execute it grains output might not be accurate trace device sda does not report itself as an ssd debug lazyloaded local cache.prep jid info runner completed 20150805122358394891 debug lazyloaded nested.output event ---------- message ---------- comment done errors ---------- yourtest ---------- xtest ---------- changes ---------- init ---------- create container created ---------- config container configuration updated comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start lxc-start to get more details run the container in foreground mode lxc-start additional information can be obtained by setting the --logfile and --logpriority options name xtest ping status false result false yourtest suffix progress comment done errors ---------- yourtest ---------- xtest ---------- changes ---------- init ---------- create container created ---------- config container configuration updated comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start lxc-start to get more details run the container in foreground mode lxc-start additional information can be obtained by setting the --logfile and --logpriority options name xtest ping status false result false yourtest xtest ---------- error error while creating xtest changes ---------- comment name xtest result false runner return ---------- comment done errors ---------- yourtest ---------- xtest ---------- changes ---------- init ---------- create container created ---------- config container configuration updated comment unable to stop container error changing state for container xtest using command lxc-start -d -n xtest lxc-start the container failed to start lxc-start to get more details run the container in foreground mode lxc-start additional information can be obtained by setting the --logfile and --logpriority options name xtest ping status false result false yourtest of course the container doesn t start if i remove the lxc.network.ipv4.gateway line in the config then it does start hence my attempt at using lxc conf unset	5943
460078	12513	ryanhendry	2015-08-06T14:31:58.000Z	[]	unterminated statement in nganimate breaking minification	6	there is an unterminated statement here https://github.com angular angular.js blob 32d3cbb3aadf71492102f9318fcac570fb60bef8 src nganimate shared.js#l72 which is breaking minification for me	20
507775	12700	ppf2	2015-08-06T17:45:10.000Z	[:search;;adoptme;;bug;;low hanging fruit;;v5.0.0-alpha3]	multiple node spec does not work with only nodes search preference	11	have 4 nodes 3 are sharing the node attribute b and 1 is using the node attribute a per node specification https://www.elastic.co guide en elasticsearch reference current cluster.html#cluster-nodes the following works the following returns 3 nodes curl -xget http://localhost 9200 nodes pod b pretty the following returns 1 node curl -xget http://localhost 9200 nodes pod a pretty the following returns 4 nodes curl -xget http://localhost 9200 nodes pod b pod a pretty however the only nodes specification for search preference does not work https://www.elastic.co guide en elasticsearch reference current search-request-preference.html#search-request-preference curl -xget http://localhost 9200 only node test search preference only nodes pod b pod a error illegalargumentexception no data node with critera pod b pod a found status 500 what is the right syntax for the argument to use multiple node attributes as part of only nodes search preference	139
460078	12537	levin81	2015-08-10T10:39:20.000Z	[component: $compile;;frequency: low;;severity: confusing;;type: docs]	no error when using controlleras in directive without an isolated scope	11	using controlleras inside a directive without an isolated scope doesn t work - as is intended only problem is that there is no error in the console in the case of this scenario it will just fail the entire application	40
1390248	26164	nmadhok	2015-08-10T13:56:04.000Z	[bug;;fixed pending verification;;high severity;;p3;;riot;;salt-cloud]	vmware cloud driver create-function fails with error if image is not specified under profile	14	the vmware cloud driver fails to create a vm if image is not specified under the profile here s the error error the required image provider configuration setting is missing from the vmware-oel6.6 profile which is configured under the vcenter01 alias error the required image provider configuration setting is missing from the vmware-oel6.6 profile which is configured under the vcenter01 alias the driver does not require the image argument to be specified currently as it does cloning using clonefrom argument the image argument may be added sometime in future and in that case it will be optional to either specify image or specify cloneform argument	105
8514	21223	ledowong	2015-08-13T15:47:14.000Z	[]	ar has-one belongs to dependent callback loop and raiseerror	9	i just upgrade my project from rails 4.1.12 to 4.2.3 then some record raising error when i try to destroy them activerecord activerecorderror cannot update a destroyed record ## can be reproduce like this ### two database tables i am using mysql class createcars activerecord migration def change create-table cars do t t.references engine t.timestamps null false end end end class createengines activerecord migration def change create-table engines do t t.timestamps null false end end end ### models class car activerecord base # arr i know it should be has-one engine... just demo the bug... belongs to engine dependent destroy end if i destroy the car i want the engine destroy as well class engine activerecord base has-one car dependent nullify end if i destroy the engine i want to keep the car just set engine id to null ### test in console create car andengine with relationship c car.new e engine.new e.save c.engine e c.save try to destroy car c car.last c.destroy ### sql log 0.7ms begin sql 0.9ms delete from cars where cars . id 3 engine load 1.4ms select engines . from engines where engines . id 3 limit 1 4.8ms rollback activerecord activerecorderror cannot update a destroyed record what i think 1 delete car from db 2 trigger car s dependent destroy engine 3 load engine from db 4 try to set car s engine id to null... but car is destroyed.... i am not sure if this is a bug or i shouldn t write the code in models like this...	256
1390248	26453	bobrik	2015-08-19T09:27:39.000Z	[execution module;;feature;;p3;;platform]	ipset avoid adding ranges every time	6	salt 2015.5.0 python 2.7.9 default mar 1 2015 12 57 24 jinja2 2.7.3 m2crypto 0.21.1 msgpack-python 0.4.6 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.11 ioflo not installed pyzmq 14.7.0 raet not installed zmq 4.0.5 mako not installed ipset state does not play well with ranges ip1-ip2 . the problem is in ipset.check state ivan@master etc salt salt sudo salt minion ipset.check hey 123.45.67.57-123.45.67.58 minion false ivan@master etc salt salt sudo salt minion ipset.check hey 123.45.67.57 minion true ivan@master etc salt salt sudo salt minion ipset.check hey 123.45.67.58 minion true ipset command itself cannot do that ivan@minion sudo ipset test hey 123.45.67.57-123.45.67.58 ipset v6.23 from-to ip range is not allowed in command test with set type hash ip and family inet i think we should split ranges and do check for every element cc @alberts	137
1390248	26478	rasathus	2015-08-19T17:41:31.000Z	[bug;;execution module;;high severity;;p4;;platform]	nested upstart services are not supported	6	upstart allows the use of subfolders within etc init as per the manpage http://manpages.ubuntu.com manpages trusty man5 init.5.html for example a configuration file etc init rc-sysinit.conf is named rc-sysinit while a configuration file etc init net apache.conf is named net apache salt does not currently support this as iter service names performs a simple for line in glob.glob etc init .conf to ascertain available services and so states the service is not available . i intend to make a pull-request to address this shortly	84
1390248	26559	rallytime	2015-08-21T17:29:50.000Z	[bug;;core;;high severity;;p2]	critical error stack-trace on develop from #26399	7	i pulled the latest develop this morning and the following occurs when just doing a simple test.ping # salt nt-u14 test.ping critical failed to load grains defined in grain file opts.opts in function function opts at 0x7fe2047a1c08 error traceback most recent call last file root saltstack salt salt loader.py line 622 in grains ret fun file root saltstack salt salt grains opts.py line 12 in opts if opts .get grain opts false or pillar .get grain opts false attributeerror bool object has no attribute get nt-u14 true git-bisect points to 54ad6532f2a74f2beccfeda1645248166ace85a4 from pr #26399 as the problem commit causing this issue after reverting the commit the stacktrace dissapears # git-revert 54ad6532f2a74f2beccfeda1645248166ace85a4 develop 48dc1b4 revert make grains and salt available for log handler modules 1 file changed 5 deletions - # salt nt-u14 test.ping nt-u14 true @s0undt3ch i am not sure why that change is causing this but can you take a look when you get a moment master # salt --versions salt version salt 2015.8.0-309-g48dc1b4 dependency versions jinja2 2.7.3 m2crypto 0.21.1 mako 0.9.1 pyyaml 3.11 pyzmq 14.0.1 python 2.7.6 default mar 22 2014 22 59 56 raet not installed tornado 4.2 zmq 4.0.4 ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.4 pycrypto 2.6.1 timelib 0.2.4 system versions dist ubuntu-14.04 trusty machine x86 64 release 3.13.0-30-generic system ubuntu-14.04 trusty minion # salt nt-u14 test.versions report nt-u14 salt 2015.5.5-5-g1ac8287 python 2.7.6 default mar 22 2014 22 59 56 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.3.0 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.5.0 raet not installed zmq 4.0.5 mako not installed tornado not installed timelib not installed dateutil not installed	277
1390248	26574	jfindlay	2015-08-21T22:15:18.000Z	[bug;;core;;high severity;;p4]	minion stacktrace on top file yaml syntax-error	7	### configs saltstack li1105-12 master # cat srv salt top.sls base - state1 ### commands python-traceback li1105-12 master # salt jmoney-master state.show top jmoney-master the minion function caused an exception traceback most recent call last file root salt salt minion.py line 1173 in thread return return data func args kwargs file root salt salt modules state.py line 1045 in show top top st .get top file root salt salt state.py line 2436 in get top tops self.get tops file root salt salt state.py line 2313 in get tops saltenv saltenv file root salt salt template.py line 79 in compile template ret render input data saltenv sls render kwargs file root salt salt renderers yaml.py line 50 in render data load yaml data loader get yaml loader argline file usr lib python2.7 dist-packages yaml init .py line 71 in load return loader.get single data file usr lib python2.7 dist-packages yaml constructor.py line 37 in get single data node self.get single node file usr lib python2.7 dist-packages yaml composer.py line 36 in get single node document self.compose document file usr lib python2.7 dist-packages yaml composer.py line 55 in compose document node self.compose node none none file usr lib python2.7 dist-packages yaml composer.py line 84 in compose node node self.compose mapping node anchor file usr lib python2.7 dist-packages yaml composer.py line 127 in compose mapping node while not self.check event mappingendevent file usr lib python2.7 dist-packages yaml parser.py line 98 in check event self.current event self.state file usr lib python2.7 dist-packages yaml parser.py line 439 in parse block mapping key expected block end but found r token.id token.start mark parsererror while parsing a block mapping in unicode-string line 1 column 1 base expected block end but found block sequence start in unicode-string line 3 column 5 - state1 ### versions yaml li1105-12 master # salt jmoney-master test.versions report jmoney-master salt 2015.5.5-9-g5a32664 python 2.7.9 default mar 1 2015 12 57 24 jinja2 2.7.3 m2crypto 0.21.1 msgpack-python 0.4.2 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.11 ioflo not installed pyzmq 14.4.0 raet not installed zmq 4.0.5 mako 1.0.0 tornado not installed timelib not installed dateutil not installed	354
460078	12656	wesleycho	2015-08-22T21:36:48.000Z	[branch: 1.4.x;;component: nganimate;;frequency: high;;severity: regression;;type: bug]	nganimate assumes transition is linear instead of using the value in css	12	there are two scenarios which are not being caught - the easing function in css when the transition is specified in the transition css property and the easing function if it is specified in the transition-timing-function property here http://plnkr.co edit d4s7pevbprhejwwaqdsz p preview is a stripped down example of the transition-timing-function situation here is a plnkr http://plnkr.co edit 5arawp5jscu3igrlwj1l p preview a stripped down example of the transition situation note that animatecss animate as well it turns out assumes that the easing function is linear instead of ease here this is a regression from 1.3.x	95
460078	12675	fcaballero	2015-08-25T16:50:53.000Z	[component: $parse;;severity: regression]	angular 1.4.4 parse assign function does not return the value set	11	hi guys i was using angular 1.3.15 and i had this code javascript function getdataroot data expression var getter parse expression return getter data getter.assign data var data details orderid console.log getdataroot data details should return orderid console.log getdataroot data address should return a new object the function above always returned a value either an existing or a new one object because getter.assign always returned the value set now i have upgraded to angular 1.4.4 and getter.assign no longer return anything here is an example http://plnkr.co edit oqq0flonohr3zvzovbeh p preview just change the versions and you will see the issue cheers fabi n	103
8514	21383	jeremyf	2015-08-26T12:52:44.000Z	[]	actioncontroller testsession #fetch fails even if #key exists	8	the following rails code fails with a keyerror exception under test ruby class applicationcontroller actioncontroller base def user strategy # at this point session user strategy email user identifying value hello@world.com if session.key user strategy session.fetch user strategy end end end when i check the session s keys session.keys i get an array of strings if i access session user strategy i get the expected email value however if i use session.fetch user strategy i get the keyerror exception this appears to be a rails 4.2.4 regression as the code worked under rails 4.2.3 .	95
1390248	26773	styro	2015-08-30T09:31:45.000Z	[bug;;high severity;;p3;;platform;;windows]	salt-call minor breakage on windows	5	salt 2015.5.2 on windows 2012r2 doesn t prevent the command working just sprinkles ugly tracebacks throughout the output eg python-traceback traceback most recent call last file c salt bin scripts salt-call line 11 in module salt call file c salt bin lib site-packages salt scripts.py line 227 in salt call client.run file c salt bin lib site-packages salt cli call.py line 67 in run self.exit os.ex ok attributeerror module object has no attribute ex ok looks like there s a few exitcode stragglers still using os ex instead of salt.defaults.exitcodes.ex	90
1390248	26850	jfindlay	2015-09-02T17:30:09.000Z	[bug;;core;;critical;;fixed pending verification;;p2;;salt-ssh;;zreleased - beryllium]	salt-ssh error on 2015.8	4	@basepi @cachedout ### commands if i switch to 2015.8.0rc3 the following command works python-traceback root@localhost # salt-ssh jmoney-centos-7-2 -i test.ping jmoney-centos-7-2 ---------- retcode 1 stderr critical unable to import msgpack or msgpack pure python modules error an un-handled exception was caught by salt s global exceptionhandler nameerror name msgpack is not defined traceback most recent call last file tmp .root c87ee6 salt salt-call line 4 in module salt call file tmp .root c87ee6 salt salt scripts.py line 325 in salt call import salt.cli.call file tmp .root c87ee6 salt salt cli call.py line 6 in module from salt.utils import parsers file tmp .root c87ee6 salt salt utils parsers.py line 26 in module import salt.config as config file tmp .root c87ee6 salt salt config.py line 39 in module import salt.utils.sdb file tmp .root c87ee6 salt salt utils sdb.py line 9 in module import salt.loader file tmp .root c87ee6 salt salt loader.py line 28 in module import salt.utils.event file tmp .root c87ee6 salt salt utils event.py line 80 in module import salt.payload file tmp .root c87ee6 salt salt payload.py line 52 in module if not hasattr msgpack exceptions nameerror name msgpack is not defined traceback most recent call last file tmp .root c87ee6 salt salt-call line 4 in module salt call file tmp .root c87ee6 salt salt scripts.py line 325 in salt call import salt.cli.call file tmp .root c87ee6 salt salt cli call.py line 6 in module from salt.utils import parsers file tmp .root c87ee6 salt salt utils parsers.py line 26 in module import salt.config as config file tmp .root c87ee6 salt salt config.py line 39 in module import salt.utils.sdb file tmp .root c87ee6 salt salt utils sdb.py line 9 in module import salt.loader file tmp .root c87ee6 salt salt loader.py line 28 in module import salt.utils.event file tmp .root c87ee6 salt salt utils event.py line 80 in module import salt.payload file tmp .root c87ee6 salt salt payload.py line 52 in module if not hasattr msgpack exceptions nameerror name msgpack is not defined stdout ### versions yaml root@localhost # salt-ssh --versions salt version salt 2015.8.0rc3-1123-gf68ba28 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.10 pyzmq 14.3.1 python 2.7.5 default jun 17 2014 18 11 42 raet not installed tornado 4.1 zmq 3.2.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.0.1406 core machine x86 64 release 4.1.5-x86 64-linode61 system centos linux 7.0.1406 core	434
9852918	5797	erisds	2015-09-02T21:52:12.000Z	[admin-client;;fix wanted]	revisit gravatar aspect of image component on setup signup	9	during the buildout of zelda the behaviour of the gravatar tied to the email fields on setup signup changed such that the gravatar request isn t fired until the field is de-focused this doesn t give the same instant effect it had when it was first implemented the change was made in order to reduce the number of requests made but i think this can be improved to only fire the request only once the email the user has typed is valid checking the validation as the user is typing could be debounced as well i think there may be room to revisit validations as well in this regard tying certain operations like clearing an error on an invalid email to occur whilst the user is typing that s probably for another issue though	134
507775	13340	clement-tourriere	2015-09-04T08:37:57.000Z	[:fielddata;;adoptme;;bug;;v2.0.0]	problem with geo point and script fields fielddata fields	9	hi using fielddata fields with geo point raises an exception when running at least two instances of elasticsearch to reproduce it - run two instances of elasticsearch on the same machine - run the gist https://gist.github.com clement-tourriere 8d06a0985f859666ae532 - you maybe need to run the search request twice to see the error a patch could be https://gist.github.com clement-tourriere 2aa7219bd1da96393cbd for more information i have create a thread here with another geo point problem https://discuss.elastic.co t problems-with-geo-point-type-and-doc-values 28256	77
1390248	26913	imchairmanm	2015-09-04T18:00:42.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform;;team core]	manage.bootstrap runner quotation escape bug	5	hello when using salt-run manage.bootstrap ... i m receiving the following error file string line 1 import urllib print urllib.urlopen https://bootstrap.saltstack.com .read syntaxerror invalid syntax the issue appears to be a buggy quotation escape in runners manage.py . around the script name	42
507775	13494	costin	2015-09-10T22:08:12.000Z	[:search;;feature;;v5.0.0-alpha4]	parallel concurrent reads	3	this is generalization of https://github.com elastic elasticsearch issues 9483 ## problem for libraries that want to read-data from elasticsearch in a parallel concurrent multi-threaded way one needs to split the target aka data in es into independent chunks which then can be consumed individually ## current approach es doesn t offer a proper api to achieve this the current approach implies understanding the shards topology which can be tricky and the incorrect granularity to determine the chunks followed by a hacky attempt of locking down a read to a certain chunk which unfortunately is problematic when trying to read aliases or multiple indexes across the same shards and what issue https://github.com elastic elasticsearch issues 9483 tried to fix . ## desired behavior the user ideally would simply request the number of splits chunks for a given query and get back the number of possible partitions readers ids which then the consumer can start using to get back the results so for example the user could ask for 10 chunks for a given index es in turn would decide whether it can and how to best create these splits likely the chunks requested will not match the index topology such as shards so a split might spread across multiple shards while another might readonly a subset of a shard this would be similar to the scan scroll approach where the initial query returns a scroll id which in turn returns the results going a step further the user could specify the granularity needed such as nodes or shards to bound the parallelism based on the actual topology of the target index indices the user should not have to deal with the actual partition or follow-up connection rather it would have the relevant information already computed by es the chunk should contain locality information - on what node ip is the data retrieved from	312
1390248	27217	nasenbaer13	2015-09-18T07:52:51.000Z	[bug;;file servers;;fixed pending verification;;high severity;;p3;;platform]	gitfs cleans up wrong directories	5	when running a file recurse state copying some files fails because the wrong directory is cleaned up sep 17 18 55 12 debug lazyloaded local cache.clean old jobs sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug updating fileserver for git pillar module sep 17 18 55 12 debug could not lazyload config.merge sep 17 18 55 12 debug updating git fileserver cache sep 17 18 55 12 debug gitfs removed old cachedir var cache salt master gitfs gitfs sep 17 18 55 12 info wrote new gitfs remote map to var cache salt master gitfs remote map.txt sep 17 18 55 12 debug set lock for file repo.git sep 17 18 55 12 debug gitfs is fetching from file repo.git sep 17 18 55 12 error error in function filehash sep 17 18 55 12 traceback most recent call last sep 17 18 55 12 file usr lib python2.7 dist-packages salt master.py line 1379 in run func sep 17 18 55 12 ret getattr self func load sep 17 18 55 12 file usr lib python2.7 dist-packages salt fileserver init .py line 528 in filehash sep 17 18 55 12 fnd self.find file load path load saltenv sep 17 18 55 12 file usr lib python2.7 dist-packages salt fileserver init .py line 482 in find file sep 17 18 55 12 fnd self.servers fstr path saltenv kwargs sep 17 18 55 12 file usr lib python2.7 dist-packages salt fileserver gitfs.py line 143 in find file sep 17 18 55 12 return gitfs.find filepath tgt env tgt env kwargs sep 17 18 55 12 file usr lib python2.7 dist-packages salt utils gitfs.py line 2100 in find file sep 17 18 55 12 with salt.utils.fopen lk fn w+ as fp sep 17 18 55 12 file usr lib python2.7 dist-packages salt utils init .py line 1208 in fopen sep 17 18 55 12 fhandle open args kwargs sep 17 18 55 12 ioerror errno 2 no such file or directory var cache salt master gitfs gitfs hash path to my file.jinja.lk sep 17 18 55 12 debug removed lock for file repo.git the crucial line here is gitfs removed old cachedir var cache salt master gitfs gitfs which removes the gitfs directory	428
1390248	27294	stenstad	2015-09-22T10:35:31.000Z	[carbon;;feature;;p1;;riot;;salt-cloud;;team riot;;zd;;zreleased - 2016.3.3]	salt-cloud should support openstack identitiy v3 for authentication	8	hi libcloud started supporting openstack identity v3 in august 2014 it would be really awesome if the salt-cloud integration was updated the current situation is that users can t use salt-cloud to deploy on openstack based clouds using v3 features like domains	42
460078	12936	nosideeffects	2015-09-24T16:03:08.000Z	[component: $compile;;type: bug]	ng-if as base element of replaced directive destroys isolate-scope	9	example https://jsfiddle.net 01mfdjwm 1	4
9852918	5882	tonyeung	2015-09-27T05:00:16.000Z	[admin-client;;bug;;css;;fix wanted]	the gravatar placeholder still shows up if the image has transparency	11	i m not sure if this is the case on the hosted version but the self hosted version shows my gravatar superimposed on top of the placeholder image capture https://cloud.githubusercontent.com assets 1285514 10121300 b7dfb2b0-64aa-11e5-8892-ad85d69183b3.png	34
460078	13005	wesleycho	2015-10-03T08:56:45.000Z	[branch: 1.4.x;;branch: 1.5.x;;component: nganimate;;frequency: low;;severity: broken expected use;;type: bug]	animate.flush does not flush animatecss animations in queue	8	we have an issue in https://github.com angular-ui-bootstrap pull 4493 where it turns out that animate.flush does not flush the animations queued up by animatecss so the expanddone callback in the promise chain never fires in the collapse directive which is causing some testing problems in particular the .then callback in the promise returned by animatecss ... .start never gets called because there is no mechanism in ngmock for flushing out the queued animation	73
1390248	27655	gracinet	2015-10-03T14:24:29.000Z	[]	postgres local cache handling of success	6	there s an inconsistency in salt.returners.postgres local cache . the schema suggested in the documentation says that success is a non-required boolean create-table salt returns added timestamp-with-timezone default now fun text notnull jid varchar 20 notnull return text notnull id text notnull success boolean but returner does otherwise # salt guarantees that there will be fun jid return and id but not # success success unknown if success in load success load success none would be the appropriate value to give psycopg2	82
460078	13021	jwgmeligmeyling	2015-10-06T15:11:29.000Z	[component: $compile;;severity: broken expected use;;type: bug]	behaviour bindtocontroller in child scope versus isolated scope	8	i was playing around with the bindtocontroller option for directives i stumbled upon a seemingly strange difference between the behaviour using a child scope compared to an isolated scope when i use an isolated scope an new scope is created for the directive but changes to the bound controller attributes are forwarded to the parent scope yet when i use a child scope instead my example breaks using bindtocontroller using child scopes should be allowed according to http://blog.thoughtram.io angularjs 2015 01 02 exploring-angular-1.3-bindtocontroller.html#improvements-in-14 the code js restrict e scope controller foodirctrl controlleras vm bindtocontroller name template div input ng-model vm.name div working demo https://jsfiddle.net tthtznn2 the version using a child scope js restrict e scope true controller foodirctrl controlleras vm bindtocontroller name template div input ng-model vm.name div demo http://jsfiddle.net ydld1e00 the changes to name are forwarded to the child scope but not to the parent scope this in contrast to binding to an isolated scope where the changes are forwarded to the old scope why is this as copied from http://stackoverflow.com questions 32972354 behaviour-bindtocontroller-in-child-scope-versus-isolated-scope	175
1390248	27737	mpaolini	2015-10-07T01:21:58.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p4;;pillar;;team core]	name param never mentioned in pillar ext git documentation	9	see here https://docs.saltstack.com en latest ref pillar all salt.pillar.git pillar.html#configuring-git-pillar-for-salt-releases-2015-8-0-and-later name is never mentioned but is required when two remotes have the same url from the source valid parameters are env root ssl verify user password pubkey privkey passphrase insecure auth name	42
1390248	27779	jbouse	2015-10-08T02:54:52.000Z	[documentation;;feature;;fixed pending verification;;returners;;team core]	doc hipchat returner documentation update	5	when using v2 api the api-key needs to be assigned to the room with the label set to what you would set hipchat.from name to the v2 api disregards the from in the data sent for the room notification completely and uses the label assigned through the hipchat controlpanel	49
460078	13049	sevdog	2015-10-08T10:56:30.000Z	[component: nganimate;;type: docs]	add documentation for structural option in animatecss service	8	the structural option for animatecss service is undocumented on the service page https://docs.angularjs.org api nganimate service animatecss but is used in the animation examples https://docs.angularjs.org api nganimate . to find out what this option do you must go to the source code of the service this feature should be documented for better knowledge	53
507775	14112	clintongormley	2015-10-14T13:15:37.000Z	[:query dsl;;adoptme;;deprecation;;v2.2.0]	deprecate the missing query in favour of a negated exists query	11	the missing query is implemented as a negation of the exists query but it is trappy when used with nested documents it can detect docs with nested docs which are missing a field but cannot detect docs which have no nested docs instead by using an exists filter inside the nested block and placing the negation outside it things work as expected see #3495 for a full example to avoid this trap we should deprecate the missing filter in favour of using an exists filter where the user can place the negation where appropriate	94
1390248	28060	loveisgrief	2015-10-17T15:45:12.000Z	[]	default paths for test environment	5	hello while setting up the test environment i ran into the issue of running the non-dev version salt instead of the development version in my virtualenv the docs state https://docs.saltstack.com en latest topics development hacking.html#changing-default-paths you can do that but not with the right command docs bash generate salt syspaths 1 pip --global-option --salt-root-dir path to your virtualenv install -e . salt # the path to the salt git-clone from above which returns usage pip command options no such option --global-option the correct command is bash generate salt syspaths 1 pip install --global-option --salt-root-dir path to your virtualenv -e . salt # the path to the salt git-clone from above cheers	111
1390248	28193	renataogarcia	2015-10-22T01:26:38.000Z	[bug;;execution module;;high severity;;p3;;platform]	glusterfs.created - valueerror too many values to unpack	8	glusterfs.created returns the following error an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1560 in call cdata kwargs file usr lib python2.7 dist-packages salt states glusterfs.py line 123 in created if isinstance salt glusterfs.status name dict file usr lib python2.7 dist-packages salt modules glusterfs.py line 243 in status brick port online pid line.split 1 valueerror too many values to unpack this is caused because newer versions https://bugzilla.redhat.com show bug.cgi id 1188685 of gluster outputs an additional column for the rdma port status of volume wealth-resources gluster process tcp-port rdma port online pid ------------------------------------------------------------------------------ brick wpbtweb1 mnt wealth-resources brick 49152 0 y 13561 brick wpbtweb2 mnt wealth-resources brick 49153 0 y 15713 nfs server on localhost 2049 0 y 15734 self-heal daemon on localhost n a n a y 15740 nfs server on wpbtweb1 2049 0 y 13582 self-heal daemon on wpbtweb1 n a n a y 13587 task status of volume wealth-resources ------------------------------------------------------------------------------ there are no active volume tasks using gluster 3.7 and salt 2015.5.3	176
9852918	6014	vdemedes	2015-10-27T08:37:59.000Z	[]	bug error when creating a post without title	8	### issue summary when using ghost api and sending a post without title to ghost api v0.1 posts it crashes with the following error img width 442 alt screenshot 2015-10-27 at 9 19 00 am src https://cloud.githubusercontent.com assets 697676 10752690 cad990cc-7c8b-11e5-9c1b-aa219a132156.png ### steps to reproduce 1 get an access-token for the api - go to your blog s dashboard ghost - open console in developer-tools - execute the following javascript and copy the output without quotes js json.parse localstorage ghost session .secure.access token 2 try to create a blog post without title fill out access-token and host variables and execute the following bash script in your terminal bash access-token your access-token obtained in step 1 host hostname of your blog e.g rick.ghost.io curl -x post -d posts markdown -h authorization bearer access-token -h content-type application json https host ghost api v0.1 posts note there is also a node.js version https://gist.github.com vdemedes 9b1210e656f194dacf7d . request fails with 500 status code and returns the output displayed at the top of this issue here s the full stacktrace from server logs typeerror cannot read property trim of undefined at saving users vdemedes projects ghost core server models post.js 141 44 at onsaving users vdemedes projects ghost core server models base index.js 67 41 at triggerevents users vdemedes projects ghost node-modules bookshelf node-modules trigger-then trigger-then.js 35 67 at events.triggerthen users vdemedes projects ghost node-modules bookshelf node-modules trigger-then trigger-then.js 61 34 at events.triggerthen users vdemedes projects ghost node-modules bookshelf node-modules trigger-then trigger-then.js 51 37 at null anonymous users vdemedes projects ghost node-modules bookshelf lib model.js 212 19 from previous event at null anonymous users vdemedes projects ghost node-modules bookshelf lib model.js 178 8 from previous event at function.add users vdemedes projects ghost core server models base index.js 371 22 at function.add users vdemedes projects ghost core server models post.js 544 41 at modelquery users vdemedes projects ghost core server api posts.js 172 38 at runtask users vdemedes projects ghost core server utils pipeline.js 8 24 at users vdemedes projects ghost core server utils pipeline.js 15 32 at processimmediate as immediatecallback timers.js 367 17 ### what s causing it post model does not check if title is empty or not and runs .trim on it https://github.com tryghost ghost blob master core server models post.js#l141 js this.set title this.get title .trim ### solution validate input before it reaches the model or replace title with untitled if it s missing ### technical details - ghost version master - latest commit 407db8d2f37131f0136bdeea63180c2c91ef5d33 - client os os x 10.9 - server os os x 10.9 - node version v0.12.7 - browser - - database sqlite	435
460078	13179	dcherman	2015-10-27T16:14:23.000Z	[component: nganimate;;severity: confusing;;type: bug]	nganimate cannot re-enable animations with animate.enabled	6	if you are a descendant of an element that potentially called animate.enabled elem false you cannot re-enable animations on yourself by calling animate.enabled elem true it looks like when you do the latter the element is simply removed from the internal hashmap rather than having a value toggled as a result the while-loop that checks whether or not animations are enabled for a given element only considers whether or not a parent is disabled not whether or not it s explicitly enabled http://jsfiddle.net rogqp47y 8	85
1390248	28527	oro	2015-11-03T16:16:23.000Z	[bug;;execution module;;high severity;;p3;;riot]	boto rds.create needs storage type which does not exist in boto.rds2 create db instance	14	root@salt # salt-call boto rds.create myrds 10 standard db.t2.micro mysql sqlusr sqlpass key mykey keyid mykeyid region eu-central-1 passed invalid arguments create db instance takes at most 26 arguments 27 given . usage create an rds cli example to create an rds salt myminion boto rds.create myrds 10 db.t2.micro mysql sqlusr sqlpass also note that the example does not specify standard however omitting this parameter yields passed invalid arguments create takes at least 7 non-keyword arguments 6 given . this is due to boto not exposing the storage type-parameter see https://github.com boto boto pull 2794 but boto rds.create passing this parameter to boto @ https://github.com saltstack salt blob 2015.8 salt modules boto rds.py#l174 i tried simply removing this parameter but ran into a error failed to create rds myrds however i only played around for 10 minutes which is possibly my fault it seems like the example shows the presumably correct way of handling this via boto not boto3 which seems to already have this parameter included root@salt # salt --versions-report salt version salt 2015.8.1 dependency versions jinja2 2.8 m2crypto 0.20.2 mako not installed pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 jul 23 2015 15 22 56 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy 3.2.2 dateutil 2.4.2 gitdb 0.6.4 gitpython 1.0.1 ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser 2.14 pycrypto 2.6.1 pygit2 0.20.3 python-gnupg not installed smmap 0.9.0 timelib not installed system versions dist centos 6.7 final machine x86 64 release 2.6.32-573.1.1.el6.x86 64 system centos 6.7 final	260
507775	14489	jpountz	2015-11-03T18:06:07.000Z	[:search;;adoptme;;breaking;;low hanging fruit]	refuse to load fields from source when using the fields option	11	spin-off from #14474 the fields option is intended to load stored fields however it will try to load these fields from the source if they are not stored this causes confusion because then eg wildcards don t work we should deprecate the ability to load fields from source and remove it in 3.0	53
1644196	13881	jiahao	2015-11-05T04:45:54.000Z	[]	fatal bad revision origin julialang master on make	8	on the julia.mit.edu machine ubuntu-15.04 with git 2.1.4 installed make now emits two new fatal messages on master git-pull make remote counting objects 50 done ... 2 files changed 12 insertions + 2 deletions - fatal bad revision origin julialang master fatal not a valid objectname origin perl base version git.jl.phony julia usr lib julia inference0.ji ... the build-process appears to proceed normally do we need to bump the version of git that is officially supported	76
460078	13313	javeme	2015-11-16T07:22:07.000Z	[component: filters;;frequency: low;;prs plz!;;severity: inconvenient;;type: bug]	unable to watch the changes of the property of an object which is used by filterfilter	16	unable to watch the changes of the property of an object which is used by filterfilter object to search scope.search something... watch the object scope watch search function newvalue oldvalue do action results filter list search ... true the in the function filterfilter represents any property however it represents built-in variable in the function equals watch . how to resolve the conflict between them filterfilter https://github.com angular angular.js blob master src ng filter filter.js#l235 equals watch https://github.com angular angular.js blob master src angular.js#l992 smart-table https://github.com lorenzofox3 smart-table blob master src sttable.js#l122	91
1390248	28951	claudiupid	2015-11-17T08:58:31.000Z	[bug;;high severity;;p3;;platform]	cloudlinux 7 changes	3	some info about the system i am running first # salt-call grains.get os local cloud # cat etc redhat-release cloudlinux release 7.1 vladimir komarov # salt-call --versions-report salt version salt 2015.8.1 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default jun 24 2015 00 41 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 7.1 vladimir komarov machine x86 64 release 3.10.0-233.1.2.lve1.3.33.4.el7.x86 64 system cloudlinux 7.1 vladimir komarov packages install and services restart failed on this system i had to edit the minion code in order to get things running grep -nr cloudlinux grep -v softlayer grains core.py 846 cloudserve cloudlinux grains core.py 862 cloudlinux redhat modules rh service.py 50 cloudlinux modules service.py 31 cloudlinux i replaced all cloudlinux entries with cloud this fixed things for me i will not make a pull-request with this change since it is a trivial one and i don t think this is the correct fix	208
1390248	29252	mitar	2015-11-29T02:26:46.000Z	[bug;;documentation;;fixed pending verification;;medium severity;;p1;;state module;;team core]	reload modules is not documented for the pkg state	9	it seems that reload modules exists also for pkg.installed but it is not documented while it is documented for cmd.run .	21
507775	15102	jimferenczi	2015-11-30T10:38:15.000Z	[:mapping;;adoptme;;breaking]	rename default similarity into classic and map default module to classic	11	to avoid default default definition to prepare for the bm25 default switch in lucene 6.0	15
1390248	29286	harlanbarnes	2015-11-30T22:11:34.000Z	[bug;;core;;fixed pending verification;;high severity;;p1;;returners;;team core]	can t disable job cache	5	hi - first off thanks forall everyone does on this software it is greatly appreciated my issue is that we seem to be unable to disable our job cache our salt version is salt 2015.5.4 lithium our master configuration looks like this worker threads 10 open mode true job cache false keep jobs 0 fileserver backend - git gitfs provider gitpython gitfs remotes - git+ssh git@github.com notourrealcompany salt.git gitfs base master pillar roots base - srv pillar my process to recreate is stop the salt-master process removeall directories in var cache salt master jobs start up the salt-master process lots of directories uuids jids return to the var cache salt master jobs directory our use-case here is that we have similar symptoms to #10443 and we don t see or don t currently understand what the job cache provides us we ve filled up our disk a couple of times and were looking for a more permanent solution than adding a cron-task to remove older files in the cache thanks again harlan	172
9852918	6165	erisds	2015-12-03T11:45:07.000Z	[epic;;feature]	feature internal tags - tags for structure workflow	8	we ve made pretty huge progress in terms of all the new tag features that were outlined in tags 101 https://github.com tryghost ghost wiki tags-101 as well as massively overhauling all of the uis related to tags one feature we ve not looked at adding yet is adding two levels of visibility so that we can have a concept of hidden tags this feature has been referred to as private tags however i think it may be a good idea to not use the word private as everywhere else private data explicitly refers to data that you must be authenticated to see draft posts vs published and this idea is not related to auth i m using hidden as that s the name of the column in the database but system or internal might work too ## problem at the moment every tag you add to a post is the same they all get listed on a post when it is published and also get their own tag page archive that lists out all of the posts this makes perfect sense for tags which are meant to be a front-facing taxonomy but limits the system so that tags cannot be used for workflow or structure the idea of hidden tags is to make tags also useful for workflow and structure use cases example 1 i want to tag a post with needs-review once i ve finished writing it so my editor can pick it up at the moment you can do this but you have to remember to remove the tag before publishing and there is also not a good way to view all the posts marked with need-review in the admin panel example 2 i want to implement link-posts which just link out to another site using a tag to mark my link posts so that my theme can handle them differently i can tag all these posts as link and handle this in my theme however i also get link output in the tags list and all of these posts appear on tag link which isn t ideal ## implementation to solve this tags being set to hashtag will have two major impacts 1 there will not be a page at tag slug for this tag 2 this tag will not be output by the tags helper the tag will still be returned by the api like any other tag and available to theme meaning it will still be possible to use #has tag #hashtagname to check if the tag is set on a post one minor potential confusion point will be that any theme which has opted to cycle through tags manually rather than use the tags helper will show hidden tags these themes will need updating with a unless hashtag condition inside their tag loops ### creating hashtags when adding tags in the editor there s only a way to specify the name rather than the type of tag to combat this and make adding hidden tags quick easy it would be great if this could be controlled using a simple prefix e.g #needs-review . any tag that has a # at the start of the name should automatically be marked as a hashtag to resolve naming clashes in slugs between hidden and non-hidden tags with similar names i think it would make sense to prefix the slugs for any hidden tags auto-created with a # with hash- . so if i already have link-tag and i create a #link tag the slug for the first would be link and for the second hash-link etc ### filtering in the admin ui to really complete the power of this new feature we need to be able to filter posts by tags in the admin ui there are two aspects to this which i can think of 1 showing posts which match by tag as well as title in the autocomplete search-box 2 being able to get from a tag to a filtered content screen list of the posts that match that tag i think there are a couple of potential investigations spikes to do here around what can be done with the autocomplete search content screen - can we list posts by tag in the autocomplete results can we make it so that pressing enter on a term rather than clicking an item in the dropdown results in a filtered content screen list how does it feel to have this result in a filter rather than a direct go-to-resource action as it does now ## tasks prep - x add labs flag for internal tags - x rework the server-side labs utility to be synchronous so that tags doesn t become async - bonus get config override working for client-side labs again - x update db to have visibility property when the labs flag is checked - add new checkbox to tag management screen to mark unmark a tag as hashtag - x filter the result from tags to not include hashtags - x return a 404 from tags slug for hashtags - x create tags starting with # as a hashtag in the tag input component - x display hashtags in the content list other - spike on the autocomplete content list filter to see what works easily and if there are any dependencies or other requirements here cleanup - remove labs flag - add proper tests for 404 tag and tags.read with hash parameter	909
1390248	29422	xiol	2015-12-04T10:21:44.000Z	[bug;;core;;high severity;;p3;;salt-ssh]	salt-ssh json render failed - dumping password as string in output	11	hi bit of a strange one here and i ve not been able to get to the bottom of it - or figured out how to reliably replicate it salt-ssh occasionally gets itself into a state where it will randomly output the password used for sshing to the server into the json output it s trying to render causing a render failure when it s doing this it will always output the password at the end of the json output but i ve also found that it appears random in the output for example error json render failed for local fun args var lib acme salt salt state.tgz test none pkg sum 953bb413acfa01c1e9a65c7e5258f449 hash type md5 jid 20151204095708560039 return ... snip ... file - var www vhosts - var www vhosts -directory comment directory var www vhosts is in the correct state thepassword name var www vhosts start time 09 57 34.040038 result true duration 0.823 run num 52 changes ... snip ... retcode 0 fun state.pkg id sid1000000 out highstate thepassword i ve tried removing the thin dir on the remote and also disabling keeping the thin dir just in case but it still happens i m not sure what triggers it but i m unable to make it stop doing this there s nothing else that stands out in the debug output that i believe it related to this versions info salt version salt 2015.8.3 dependency versions jinja2 2.8 m2crypto not installed mako 1.0.2 pyyaml 3.11 pyzmq not installed python 2.7.10 default oct 14 2015 16 09 02 raet not installed tornado 4.2.1 zmq not installed cffi 1.1.2 cherrypy not installed dateutil 2.2 gitdb not installed gitpython not installed ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python 1.3.4 pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist ubuntu-15.10 wily machine x86 64 release 4.2.0-19-generic system ubuntu-15.10 wily	323
1390248	29423	l13t	2015-12-04T10:50:50.000Z	[bug;;execution module;;high severity;;p3;;platform]	iptables and match-set with two parameters	6	i have such configuration yaml iptables outsidein rule11 iptables.append - table filter - match - comment - set - chain outsidein - jump accept - proto - match-set - www-vip dst - cl www-dewlt-staging src - comment outsidein 11 dewlt-staging http https access to www-vip when i run salt-call with debug option i m getting next output for this rule bash sbin iptables -t filter -c outsidein -m comment -m set --comment outsidein 11 dewlt-staging http https access to www-vip --match-set www-vip dst cl www-dewlt-staging src --jump accept as i can see iptables state and module doesn t proceed match-set with multiple parameters any ideas or proposals how it can be fixed	112
1390248	29451	githubcdr	2015-12-04T21:08:03.000Z	[beacon;;bug;;core;;fixed pending verification;;high severity;;p1;;regression]	2015.8.3 pillar beacons bugged	4	hi after upgrading to 2015.8.3 i get the following error spamming journald my beacons are configured in pillar and worker in previous versions critical the beacon errored traceback most recent call last file usr lib python2.7 site-packages salt minion.py line 1699 in handle beacons beacons self.process beacons self.functions file usr lib python2.7 site-packages salt minion.py line 359 in process beacons return self.beacons.process b conf file usr lib python2.7 site-packages salt beacons init .py line 55 in process interval self determine beacon config mod interval b config file usr lib python2.7 site-packages salt beacons init .py line 105 in determine beacon config config config mod mod .get val false attributeerror list object has no attribute get root@flaim # salt skynet.eigenhuis.lan pillar.item beacons --out yaml skynet.eigenhuis.lan beacons btmp diskusage - 80 - interval 43200 load - 1m - 2.0 - 3.0 - 5m - 2.0 - 3.5 - 15m - 2.1 - 3.0 network info eth0 - type greater - errin 50 - errout 50 - dropin 50 - dropout 50 wtmp root@flaim # salt-minion --versions-report salt version salt 2015.8.3 dependency versions jinja2 2.8 m2crypto 0.21.1 mako 1.0.1 pyyaml 3.11 pyzmq 14.7.0 python 2.7.6 default jun 22 2015 17 58 13 raet 0.6.3 tornado 4.2.1 zmq 4.1.2 cffi 0.8.6 cherrypy 3.2.2 dateutil 1.5 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo 1.3.7 libnacl 1.4.3 msgpack-pure 0.1.3 msgpack-python 0.4.6 mysql-python 1.2.5 pycparser 2.10 pycrypto 2.6.1 pygit2 0.23.2 python-gnupg not installed smmap 0.8.2 timelib 0.2.4 system versions dist ubuntu-14.04 trusty machine x86 64 release 3.13.0-71-generic system ubuntu-14.04 trusty i tried changing the config and clearing the cache but the error stays	265
1390248	29525	apergos	2015-12-08T16:14:09.000Z	[bug;;core;;fixed pending verification;;high severity;;p3]	master config setting ping on rotate is broken if minion data cache is disabled	14	with this setting as true the master should ping all connected minions after key rotation if the minion data cache is disabled in the master then this setting does nothing it should be fixed so that it behaves even without that cache how to reproduce install 2014.7.5 or later version of salt master and minion on a host make sure you ve accepted the key and you can test.ping the host be sure that the host has a real ip rather than 127.0.0.1 or this test will break for other reasons set minion data cache false in the master config file set ping on rotate true in the master config file start up eventlisten.py re start the master re start the minion test.ping to be sure the minion is happy in etc salt pkl master minions copy the local key to some other name like myjunk.org salt-key -d myjunk.org see that no test.ping is sent even though there is a rotate aes event in the evenlisten output comparing with working behavior you can then repeat the above after changing the file salt utils master.py in the function ping all connected minions replace the lines py ckminions salt.utils.minions.ckminions opts client.cmd list ckminions.connected ids test.ping expr form list with py client.cmd test.ping when you inspect the results of the above test you will see that a test.ping is generated this time right after key rotation as we expect the 2 commits to look at https://github.com cachedout salt commit 09cab7fb3c43b8b72f479bfff0f8daaf1112da32 and https://github.com saltstack salt commit f076895365935bb21bda738028c0c2d64d667cc1	253
1390248	29585	job	2015-12-09T23:03:42.000Z	[]	cidr argument in salt.modules.network.ip addrs6 is broken	7	the cidr argument to salt.modules.network.ipaddrs6 appears to be broken the documentation states providing a cidr via cidr 2000 3 will return only the addresses which are within that subnet however i observed the following on a server with ipv6 on eth0 root@master01 # ip -6 addr show 1 lo loopback up lower up mtu 16436 inet6 1 128 scope host valid lft forever preferred lft forever 2 eth0 broadcast multicast up lower up mtu 1500 qlen 1000 inet6 2001 1af8 4013 24 64 scope global valid lft forever preferred lft forever inet6 fe80 5054 ff fe09 681 64 scope link valid lft forever preferred lft forever if i execute the following command root@master01 # salt-call network.ip addrs6 cidr 2000 3 warning usr lib python2.7 dist-packages salt utils network.py 951 deprecationwarning support for ip in subnet has been deprecated and will be removed in salt boron please use in subnet instead error invalid cidr 2001 1af8 4013 24 error invalid cidr fe80 5054 ff fe09 681 local root@master01 # i would expect 2001 1af8 4013 24 to be returned instead of nothing and these invalid cidr errors	186
9852918	6197	iolo	2015-12-10T09:48:07.000Z	[bug]	failed to import schema with mysql utf8mb4 charset encoding	9	it looks like email column of users table and token column of accesstokens and refreshtokens table by the mysql official document https://dev.mysql.com doc refman 5.6 en charset-unicode-upgrading.html indexed varchar should be 191 or smaller number of characters see also http://stackoverflow.com questions 20123824 how-can-i-alter-an-indexed-varchar255-from-utf8-to-utf8mb4-and-still-stay-unde this is a simple patch diff diff --git a core server data schema.js b core server data schema.js index 1ce4bbf..66cefc2 100644 --- a core server data schema.js +++ b core server data schema.js @@ -27 7 +27 7 @@ var db name type string maxlength 150 nullable false slug type string maxlength 150 nullable false unique true password type string maxlength 60 nullable false - email type string maxlength 254 nullable false unique true validations isemail true + email type string maxlength 191 nullable false unique true validations isemail true image type text maxlength 2000 nullable true cover type text maxlength 2000 nullable true bio type string maxlength 200 nullable true @@ -182 14 +182 14 @@ var db accesstokens id type increments nullable false primary true - token type string nullable false unique true + token type string maxlength 191 nullable false unique true user id type integer nullable false unsigned true references users.id client id type integer nullable false unsigned true references clients.id expires type biginteger nullable false refreshtokens id type increments nullable false primary true - token type string nullable false unique true + token type string maxlength 191 nullable false unique true user id type integer nullable false unsigned true references users.id client id type integer nullable false unsigned true references clients.id expires type biginteger nullable false fyi full debug logs here migrations database initialisation required for version 004 migrations creating tables... migrations creating table posts migrations creating table users error er too long key specified key was too long max key length is 767 bytes error er too long key specified key was too long max key length is 767 bytes at query.sequence packettoerror home deploy ghost ghost node-modules mysql lib protocol sequences sequence.js 30 14 at query.errorpacket home deploy ghost ghost node-modules mysql lib protocol sequences query.js 82 18 at protocol parsepacket home deploy ghost ghost node-modules mysql lib protocol protocol.js 202 24 at parser.write home deploy ghost ghost node-modules mysql lib protocol parser.js 62 12 at protocol.write home deploy ghost ghost node-modules mysql lib protocol protocol.js 37 16 at socket anonymous home deploy ghost ghost node-modules mysql lib connection.js 72 28 at emitone events.js 77 13 at socket.emit events.js 169 7 at readableaddchunk stream readable.js 146 16 at socket.readable.push stream readable.js 110 10 at tcp.onread net.js 523 20 -------------------- at protocol enqueue home deploy ghost ghost node-modules mysql lib protocol protocol.js 110 48 at connection.query home deploy ghost ghost node-modules mysql lib connection.js 165 25 at home deploy ghost ghost node-modules knex lib dialects mysql runner.js 42 16 at trycatcher home deploy ghost ghost node-modules bluebird js main util.js 26 23 at promise resolvefromresolver home deploy ghost ghost node-modules bluebird js main promise.js 480 31 at new promise home deploy ghost ghost node-modules bluebird js main promise.js 70 37 at runner mysql anonymous home deploy ghost ghost node-modules knex lib dialects mysql runner.js 41 10 at runner mysql.trycatcher home deploy ghost ghost node-modules bluebird js main util.js 26 23 at runner mysql query home deploy ghost ghost node-modules bluebird js main method.js 15 34 at runner mysql anonymous home deploy ghost ghost node-modules knex lib runner.js 125 15 at runner mysql.trycatcher home deploy ghost ghost node-modules bluebird js main util.js 26 23 at runner mysql.query home deploy ghost ghost node-modules bluebird js main method.js 15 34 at runner mysql anonymous home deploy ghost ghost node-modules knex lib runner.js 134 19 at runner mysql.trycatcher home deploy ghost ghost node-modules bluebird js main util.js 26 23 at reductionpromisearray promisefulfilled home deploy ghost ghost node-modules bluebird js main reduce.js 109 18 at promise settlepromiseat home deploy ghost ghost node-modules bluebird js main promise.js 586 26 at promise settlepromises home deploy ghost ghost node-modules bluebird js main promise.js 697 14 at async drainqueue home deploy ghost ghost node-modules bluebird js main async.js 123 16 at async drainqueues home deploy ghost ghost node-modules bluebird js main async.js 133 10 at immediate.async.drainqueues as onimmediate home deploy ghost ghost node-modules bluebird js main async.js 15 14 at processimmediate as immediatecallback timers.js 383 17	716
1390248	29727	oeuftete	2015-12-15T22:20:19.000Z	[bug;;execution module;;fixed pending verification;;high severity;;p1;;platform]	dockerng.running does not pull image as documented	7	according to https://docs.saltstack.com en latest ref states all salt.states.dockerng.html#salt.states.dockerng.running t his state will pull the image if it is not present . however this doesn t seem to be the case text sudo salt-call -l info state.single dockerng.running name hello image ubuntu-14.04 cmd bin echo hello world info loading fresh modules for state activity info running state hello at time 22 12 37.878405 info executing state dockerng.running for hello error an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1594 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1491 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states dockerng.py line 1411 in running image id salt dockerng.inspect image image id file usr lib python2.7 dist-packages salt modules dockerng.py line 2176 in inspect image ret client wrapper inspect image name file usr lib python2.7 dist-packages salt modules dockerng.py line 601 in wrapper return wrapped args salt.utils.clean kwargs kwargs file usr lib python2.7 dist-packages salt modules dockerng.py line 867 in client wrapper exc.explanation commandexecutionerror error 404 no such image ubuntu-14.04 info completed state hello at time 22 12 37.884175 local ---------- id hello function dockerng.running result false comment an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1594 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1491 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states dockerng.py line 1411 in running image id salt dockerng.inspect image image id file usr lib python2.7 dist-packages salt modules dockerng.py line 2176 in inspect image ret client wrapper inspect image name file usr lib python2.7 dist-packages salt modules dockerng.py line 601 in wrapper return wrapped args salt.utils.clean kwargs kwargs file usr lib python2.7 dist-packages salt modules dockerng.py line 867 in client wrapper exc.explanation commandexecutionerror error 404 no such image ubuntu-14.04 started 22 12 37.878405 duration 5.77 ms changes summary for local ------------ succeeded 0 failed 1 ------------ total states run 1 total runtime 5.770 ms text sudo salt-call --versions-report salt version salt 2015.8.3 dependency versions jinja2 2.8 m2crypto 0.21.1 mako not installed pyyaml 3.10 pyzmq 14.0.1 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.3 zmq 4.0.4 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 3.13.0-55-generic system ubuntu-14.04 trusty the version of docker-py is 1.4.0 .	448
1390248	29796	vutny	2015-12-17T15:56:03.000Z	[bug;;core;;fixed pending verification;;high severity;;outputters;;p2;;team core]	fail to use highstate outputter explicitly	6	hi i ve configured the master to use custom output module and it works great when i tired to get back to highstate outputter once for a while it failed miserably # salt --out highstate state.highstate error nested output failed traceback most recent call last file usr lib python2.7 site-packages salt output init .py line 43 in try printout return get printout nested opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get error nested output failed traceback most recent call last file usr lib python2.7 site-packages salt output init .py line 43 in try printout return get printout nested opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get error nested output failed traceback most recent call last file usr lib python2.7 site-packages salt output init .py line 43 in try printout return get printout nested opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 137 in format host schanged ctext format changes ret changes file usr lib python2.7 site-packages salt output highstate.py line 421 in format changes opts file usr lib python2.7 site-packages salt output init .py line 164 in out format return try printout data out opts file usr lib python2.7 site-packages salt output init .py line 46 in try printout return get printout raw opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get error nested output failed traceback most recent call last file usr lib python2.7 site-packages salt output init .py line 43 in try printout return get printout nested opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get error an un-handled exception was caught by salt s global exceptionhandler attributeerror list object has no attribute get traceback most recent call last file usr bin salt line 10 in module salt main file usr lib python2.7 site-packages salt scripts.py line 454 in salt main client.run file usr lib python2.7 site-packages salt cli salt.py line 204 in run self output ret ret out file usr lib python2.7 site-packages salt cli salt.py line 303 in output ret salt.output.display output ret out self.config file usr lib python2.7 site-packages salt output init .py line 86 in display output display data try printout data out opts file usr lib python2.7 site-packages salt output init .py line 46 in try printout return get printout raw opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 137 in format host schanged ctext format changes ret changes file usr lib python2.7 site-packages salt output highstate.py line 421 in format changes opts file usr lib python2.7 site-packages salt output init .py line 164 in out format return try printout data out opts file usr lib python2.7 site-packages salt output init .py line 46 in try printout return get printout raw opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get traceback most recent call last file usr bin salt line 10 in module salt main file usr lib python2.7 site-packages salt scripts.py line 454 in salt main client.run file usr lib python2.7 site-packages salt cli salt.py line 204 in run self output ret ret out file usr lib python2.7 site-packages salt cli salt.py line 303 in output ret salt.output.display output ret out self.config file usr lib python2.7 site-packages salt output init .py line 86 in display output display data try printout data out opts file usr lib python2.7 site-packages salt output init .py line 46 in try printout return get printout raw opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 137 in format host schanged ctext format changes ret changes file usr lib python2.7 site-packages salt output highstate.py line 421 in format changes opts file usr lib python2.7 site-packages salt output init .py line 164 in out format return try printout data out opts file usr lib python2.7 site-packages salt output init .py line 46 in try printout return get printout raw opts data .rstrip file usr lib python2.7 site-packages salt output highstate.py line 85 in output return format host host hostdata 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in format host key lambda k data k .get run num 0 file usr lib python2.7 site-packages salt output highstate.py line 129 in lambda key lambda k data k .get run num 0 attributeerror list object has no attribute get by the way i ve got the same bunch of tracebacks when i tried to set the output highstate option in the master s config file # salt --versions-report salt version salt 2015.8.1 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default jun 24 2015 00 41 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 0.8.6 cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser 2.10 pycrypto 2.6.1 pygit2 0.21.4 python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.1.1503 core machine x86 64 release 3.10.0-229.7.2.el7.x86 64 system centos linux 7.1.1503 core	1189
507775	15521	navneet-lyra	2015-12-17T21:22:28.000Z	[:query dsl;;adoptme;;bug]	minimum should match ignored when number of should clauses smaller	10	for programmatically-generated queries you sometimes want to apply min-match constraints on your bool should clauses is there thinking behind why minimum should match is ignored when the number of should clauses is lesser than it to be clear i m looking for the behavior where the following query returns 0 results query bool should match all elizabeth match all smith minimum should match 3 we re using a query-understanding pipeline which should get 0 results from one of the programmatically generated queries if there isn t enough support in the query to make the match however that is not currently happening right now any way i can resolve this in the current set up or would this be a feature bug request	122
1390248	30078	boltronics	2015-12-30T07:34:53.000Z	[]	salt-key --local key.finger can return an invalid fingerprint	8	i was debugging a deployment script for salt-cloud and wanted to manually accept a key on a master after a failure so as per the docs i ran salt-key --local key.finger on the minion and for this minion i got pre 4d 36 2c 6e d3 20 3f 2a 8f 53 ab 3d 99 81 de 7d pre . then i used salt-key to check the master and it was asking me to accept the fingerprint pre 96 14 36 fd 4c a2 32 82 d0 e6 f3 e2 1c be 9e 5a pre . this had me worried so i immediately took a closer look based on the old issue #3706 i ran the command to manually calculate the checksum sudo cat etc salt pki minion minion.pub grep -v begin grep -v end md5sum 150e3f6c687fab0e7e6a18e0b5d5ff49 - at this point i was less worried andmore confused so next i looked at the minion.pub file and found the problem sudo tail -n 4 etc salt pki minion minion.pub tlhrcyvpa65zrwim3i8ocjphdulcrkokjwuavsq4qwof8gvbm1pht69spnibiv7b tqidaqab -----end public key----- for some reason salt generated the key on this host with a trailing whitespace no idea why since my salt-cloud deploy script simply executes echo vm pub key etc salt pki minion.pub to generate it but regardless it causes key.finger to bork when this situation is encountered salt 2014.1.13-3-gb325b92 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.3.0 msgpack-pure not installed pycrypto 2.6 pyyaml 3.10 pyzmq 13.1.0 zmq 3.2.3 same versions applicable to both minion and master	255
507775	15858	jzbahrai	2016-01-08T16:05:27.000Z	[:query dsl;;bug;;discuss]	minimum should match for one word query	7	the following is a search query the term full name uses a synonym analyzer the synonym expand file has the synonym rice arroz now if we run the validate query we get the below results get products v2 product validate query explain query bool must match full name query rice fuzziness 1 minimum should match 3 90 should match-phrase name query rice slop 50 valid true shards total 1 successful 1 failed 0 explanations index products v2 valid true explanation filtered + full name arroz 1 full name rice 1 2 name arroz name rice - cache type product both rice and arroz are position 1 the minimum should match doesn t get applied to the position but the number of words in position 1 let s say the synonym file has another synonym brown sugar brownsugar the following is the result of the validate query calling brownsugar valid true shards total 1 successful 1 failed 0 explanations index products v4 valid true explanation filtered + full name brownsugar 1 full name brown 1 full name sugar 1 2 name brownsugar brown sugar 50 - cache type product in this case the minimum to match is applied based on positions brownsugar and brown are position 1 sugar is position 2 the minimum should match gets applied as 2 if minimum should match gets applied based on the number of positions there are i believe the above example for rice should have minimum should match should be 1 and not 2 this is a problem in the way es handles minimum should match for one word synonyms	266
1390248	30250	mbarrien	2016-01-09T08:28:27.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform;;state module]	npm.bootstrap state runs even when test true	7	title captures it all... ran test true and it actually installed packages code for npm bootstrap at https://github.com saltstack salt blob develop salt states npm.py#l263 never checks opts test . not good	32
1390248	30258	rallytime	2016-01-10T15:57:36.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p3;;team core]	changes dictionary return should be mentioned in test state docs	10	the test state https://docs.saltstack.com en latest ref states writing.html#test-state section of the writing states https://docs.saltstack.com en latest ref states writing.html doc doesn t contain an example of the changes dictionary the changes dictionary often contains a lot of helpful information that should be included in the test true functionality when people are writing states the example should contain this information	60
1390248	30286	tkunicki	2016-01-12T10:29:22.000Z	[bug;;high severity;;p3;;riot;;salt-cloud]	salt-cloud ec2 spot requests fail with userdata file in config or profile	12	with salt-cloud and the ec2 driver use of userdata file results in an error with attempts to use spot instance requests it appears the use of userdata is not specified w spot prefix parameter in ec2.py https://github.com saltstack salt blob develop salt-cloud clouds ec2.py#l1620 replacing params userdata base64.b64encode userdata with params spot prefix + userdata base64.b64encode userdata resolved the issue on my install a pr will be coming unless someone beats me to it...	74
8514	23058	afn	2016-01-14T19:58:32.000Z	[activesupport;;attached pr]	set backtrace is called with the wrong arguments	8	with activesupport-5.0.0.beta1 and ruby 2.3.0 i get the following error if i set config.active support.deprecation raise and i have deprecations in my app ... activesupport-5.0.0.beta1 lib activesupport deprecation behaviors.rb 16 in set backtrace backtrace must be arrayofstring typeerror the reason is that set backtrace is being called https://github.com rails rails blob 27eccc27cbe987be04bb97b49aff1d7fd118634c activesupport lib activesupport deprecation behaviors.rb#l12 with the return-value of caller locations https://github.com rails rails blob 491f488f5ac4e50abfbd1a434971e41e48aa2f15 activesupport lib activesupport deprecation reporting.rb#l17-l20 which is an array of thread backtrace location . i guess the fix would be to modify behaviors.rb ruby e.set backtrace callstack.map to s although it seems silly to me that set backtrace can t be called with caller locations directly so maybe a ruby bug would be in order too	124
9852918	6361	erisds	2016-01-19T09:32:38.000Z	[fix wanted;;server]	update bluebird dependency	3	ghost currently depends on bluebird v2.10.2 bluebird has progressed on to v3.0.6 which has a number of fixes improvements and deprecations see what s new in 3.0 http://bluebirdjs.com docs new-in-bluebird-3.html for a summary of the deprecations and breaking changes as part of the upgrade of the dependency the codebase needs to be combed for breaking changes and deprecations and these should also be updated to use the newer tools or features note we now use a convention for the title line in a commit-message changing a dependency deps bluebird@3.0.x closes #6361 - summary of - things that were - changed	100
460078	13854	thorn0	2016-01-27T00:51:55.000Z	[component: $compile;;frequency: moderate;;severity: inconvenient;;type: feature]	feature request make one-way expression bindings for components	8	see http://teropa.info blog 2015 10 18 refactoring-angular-apps-to-components.html#replace-two-way-binding-with-one-way-binding there seems to be little value in the ability of components to change values in the parent scope via two-way -bindings @ -bindings are one-way but they can be used only for string values it d be logical to introduce a new kind of one-way bindings for expressions of any type or to change the behavior of -bindings for components defined with the component method .	73
9852918	6406	erisds	2016-01-27T18:45:23.000Z	[config;;server]	add use a global blog timezone	6	it s time clock10 for us to finally add proper timezone support to ghost the original main issue for this with a great deal of discussion is here https://github.com tryghost ghost issues 1265 other related issues which may or may not be helpful - add timezone dropdown to settings #2360 - determine the best list of time zones for use in ghost #2359 - an ancient pr #2387 ## the timezone problem the problem we face with timezones revolves almost entirely around published dates take the following scenario - a user in utc-8 san fran opens their post settings menu and sets the published at date to be 8pm on dec 31st 2015 - ghost correctly stores that as 4am jan 1st 2016 utc - the blog is set to use casper which doesn t have localisation in the theme - they share their post straight away and all the readers see it marked as published in the future this gets more confusing when post scheduling comes into play take the example of a san fran startup blog they like to publish posts at lunchtime for their readership which is mostly also in san fran they hire a writer in singapore who is in utc+8 - the writer creates their post and sets the published at date to be 12 30pm lunchtime on feb 1st 2016 a date that is in the future . - ghost correctly stores that as 4 30am feb 1st 2016 utc - the scheduler will publish the post at 4 30am feb 1st 2016 utc which lunchtime in singapore but for the san fran readership that s 8 30pm on the previous day - meanwhile the post itself will output on the frontend saying it was posted at 4 30am there are two underlying problems here 1 there s no way to tell ghost what timezone to use when outputting a date in your theme other than using localisation in the theme http://dev.ghost.org local-dates-themes or anywhere else that a date might be output 2 when you set a date in the psm there s no way to know whether that s using your timezone the server s timezone or the blog s timezone which doesn t exist yet . it actually uses your own timezone but then stores utc which makes things work sort of correctly but is confusing we re going to solve this the same way that twitter tumblr wp slack etc all do add a setting to the general settings and use this to output all dates everywhere including when setting the published at date ## the timezone setting the timezone setting itself will take the form of a dropdown list exactly the same as you see in tumblr or slack tumblr http://puu.sh mllvy.png - the setting should exist under general settings in the ghost admin - this setting should be a dropdown list - the format should be utc offset list of cities just like tumblr - the list should contain exactly the same entries as tumblr - the default should be gmt london the closest real tz to utc and the middle of the list - the text under the dropdown should read the localtime here is currently hh mm am pm - the time should reflect the tz selected and should ideally tick over each minute like on buffer ## the post settings menu in the post settings menu the datepicker needs to be updated to use the new global blog timezone instead of the user s timezone that means if i m in utc+2 and i login to my blog which is set to gmt when i create a new draft the psm should show me the time in gmt not in utc+2 equally if i set a post to publish at 2pm this should be 2pm gmt not 2pm utc+2 i.e.12pm gmt ## the date helper there are actually 2 date helpers in ghost - core server helpers date.js - used in themes - core client app helpers gh-format-timeago.js - used in the admin panel both of the date helpers need to be updated to take the timezone into account as a result the date output should always be correct according to the blog s timezone	709
1644196	14858	simondanisch	2016-01-30T01:34:15.000Z	[bug]	fieldnames broken for tuples	4	t tuple float32 float32 nfields t 2 although tuples don t have fields so fieldnames t results in a boundserror	20
460078	13900	robstove	2016-01-30T17:05:47.000Z	[]	proposal for one-way binding option	5	i d like to propose a way to allow directives to support one-way binding currently this is not an option and the only way to capture data from parent scope is by using two-way binding or binding binding would work but creates a semantic issue because it is expression based to solve this a new binding option needs to be added so that we can do something like this scope myonewayproperty - when the one-way binding option is specified this indicates that the scope property should be replaced with the evaluated value from parent scope scope.myonewayproperty parse scope.myonewayproperty scope parent with this option we can now pass objects to a directive without the need for two watches and without having function callback semantic	123
507775	16364	tlrx	2016-02-02T10:11:57.000Z	[:allocation;;test;;v5.0.0-alpha1]	indexshardtests.teststressrelocated fails	2	the test indexshardtests.teststressrelocated fails on master timeout while trying to acquire a primary relocation lock on shard http://build-us-00.elastic.co job es core master oracle 6 4540	25
507775	16408	pierrre	2016-02-03T10:44:06.000Z	[:scripting;;bug;;low hanging fruit]	fields is missing in hit if script field returns a null value	12	i use elasticsearch 2.2 1.7 with this query json script fields test script return null elasticsearch 1.7 returns json index xxx type yyy id 51a79adcb5d07a18fc522160 score 1 fields test null elasticsearch 2.2 returns json index xxx type yyy id 51a79adcb5d07a18fc522160 score 1 is it a bug or a feature	49
1390248	30946	rallytime	2016-02-05T18:04:32.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p1;;team core]	update saltstack git policy documentation	5	the documentation of the saltstack git policy https://docs.saltstack.com en latest topics development git index.html page seems to be out of date or at the very least confusing in regards to the which salt branch https://docs.saltstack.com en latest topics development contributing.html#which-salt-branch docs in terms of how contributions should be made in terms of bugfixes and feature additions see this comment https://github.com saltstack salt pull 30879#issuecomment-180058972 and this comment https://github.com saltstack salt pull 30879#issuecomment-180059990 for more information this is also related to issue #30605 - these docs should all be consistent thank you to @rhansen for pointing out this discrepancy	98
507775	16550	gpstathis	2016-02-09T18:11:59.000Z	[:parent/child;;bug]	has child query forces default similarity	6	d j vu of #4977 on 2.2.0 the has child query seems to only use the default similarity when scoring child documents even the built-in non-default similarities don t seem to be picked up see the curl statements below for reproducing i reached out to @imotov who confirmed this issue on master . no promises on a pr this time but we ll start looking into it and see how far we can get curl statements for reproducing # delete index curl -xdelete http://localhost 9200 has child similarity test pretty true # create index with proper parent-child mappings curl -xput http://localhost 9200 has child similarity test pretty true -d settings index number of shards 1 number of replicas 0 mappings author properties name type string post parent type author properties content type string # add data curl -xput http://localhost 9200 has child similarity test author 1 pretty true -d name george p stathis curl -xput http://localhost 9200 has child similarity test post 1 parent 1 pretty true -d content lorem-ipsum dolor sit amet curl -xput http://localhost 9200 has child similarity test post 2 parent 1 pretty true -d content lorem-ipsum dolor sit amet again echo echo sleep for two secs to allow for indexing sleep 2 # search posts directly echo echo run query against child docs curl http://localhost 9200 has child similarity test post search pretty 1 -d query query-string default field content query lorem-ipsum grep score echo echo two docs should have matched with scores 0.61871845 and 0.53033006 # search with has child echo echo run same query as has child query in sum mode curl http://localhost 9200 has child similarity test search pretty 1 -d query has child type post query query-string query lorem-ipsum score mode total grep score echo echo one parent doc should have matched with score 1.1490486 i.e 0.61871845 + 0.53033006 sleep 5 # delete index echo echo start over and re-index posts using bm25 similarity curl -xdelete http://localhost 9200 has child similarity test pretty true # create index with proper parent-child mappings curl -xput http://localhost 9200 has child similarity test pretty true -d settings index number of shards 1 number of replicas 0 mappings author properties name type string post parent type author properties content type string similarity bm25 # add data curl -xput http://localhost 9200 has child similarity test author 1 pretty true -d name george p stathis curl -xput http://localhost 9200 has child similarity test post 1 parent 1 pretty true -d content lorem-ipsum dolor sit amet curl -xput http://localhost 9200 has child similarity test post 2 parent 1 pretty true -d content lorem-ipsum dolor sit amet again echo echo sleep for another two secs to allow for indexing sleep 2 # search posts directly echo echo run query against child docs curl http://localhost 9200 has child similarity test post search pretty 1 -d query query-string default field content query lorem-ipsum grep score echo echo note two docs should now have matched with scores 0.80081946 and 0.67905 because we are using bm25 # search with has child echo echo run same query as has child query in sum mode curl http://localhost 9200 has child similarity test search pretty 1 -d query has child type post query query-string query lorem-ipsum score mode total grep score echo echo note one parent doc matched but with with score 1.1490486 which is the sum of the child doc scores as computed by the default similarity i.e 0.61871845 + 0.53033006 not bm25 with bm25 the expected parent doc score should have been 0.80081946 + 0.67905 1.47986946	590
460078	14006	lucienbertin	2016-02-11T12:47:15.000Z	[browser: ie9;;frequency: low;;severity: broken expected use;;type: bug]	remaining call to console.log breaks ie9	6	in angular.bind.js https://github.com angular angular.js blob master src angular.bind.js there is a call to console.log but window.console only exists when the devtools are open in ie9 reference http://stackoverflow.com questions 5472938 does-ie9-support-console-log-and-is-it-a-real-function	31
1390248	31137	jeffreyctang	2016-02-11T18:03:51.000Z	[bug;;execution module;;help wanted;;high severity;;p3;;platform]	logrotate creates .bak files in etc logrotate.d which logrotate reads	10	platform ubuntu 14.04.3 lts salt version salt 2015.8.3 beryllium when editting a file in etc logrotate.d the logrotate module creates a .bak file the logrotate program will read this extra file which can be very confusing the call to file.psed should be file.replace with backup false for logrotate.d files	49
1390248	31229	eykd	2016-02-15T23:17:46.000Z	[bug;;execution module;;fixed pending verification;;high severity;;p3;;platform;;regression;;state module;;team core]	git.latest broken behavior in 2015.8.x on older git	8	we rely heavily on git.latest for deploying our web properties after upgrading from 2014.7.x to 2015.8.x this month i ve begun witnessing very strange behavior on ubuntu precise with git 1.7.9.5 here are steps to reproduce the problem as i experienced it starting with 2014.7.x and then upgrading to 2015.8.x ## steps to reproduce ### locally set up the vm on step-1 tag git-clone https://gist.github.com bd959cbabe91aa690e17.git weird-git cd weird-git git-checkout step-1 vagrant up vagrant ssh ### on the vm check the state of the vm after the highstate cd opt stuff django git-branch # should be stable 1.4.x # master # stable 1.4.x git-log -1 # should be 5864e1f8e91d31d914c27885240ea6e065b38fd4 logout ### locally switch to step-2 tag git-checkout step-2 vagrant ssh ### on the vm upgrade salt to v2015.8.5 and run the highstate sudo sh root install salt.sh -p git v2015.8.5 sudo salt-call state.highstate cd opt stuff django git-branch # is still stable 1.4.x git-log -1 # should be 57671dd0b91ed4def9c7a49c486944f4e98fed9d head of stable 1.5.x note the branches now # master # origin stable 1.5.x # stable 1.4.x first of all this is just weird and breaks my expectations of common git conventions when i checkout a branch i expect the local branch to be the name of the branch i checked out not whatever branch i was on ### run the highstate again here s where it gets weird sudo salt-call state.highstate # this will fail on the django state ok so fix that manually git-checkout 57671dd0b91ed4def9c7a49c486944f4e98fed9d git-branch -d stable 1.4.x git-branch -d origin stable 1.5.x sudo salt-call state.highstate # this will fail again on the django state # fatal cannot setup tracking information starting point is not a branch ok so i guess we need to use that new branch option on the state right logout ### locally git-checkout step-3 vagrant ssh ### on the vm sudo salt-call state.highstate # success fistpump sudo salt-call state.highstate # failure whaaaa # fatal a branch named origin stable 1.5.x already exists i ve also been able to produce behavior where a branch deploys an old revision and not the head when switching between branchs but i m not sure how to reproduce it	360
8514	23710	dhh	2016-02-16T15:00:38.000Z	[actionpack;;attached pr]	mark the start of rendering in the log	8	it would be helpful to know in the log when rendering of the view-templates started so you can quickly glance and see which sql and other calls are happening in the controller and which are being triggered in the view i propose processing by my navigation chatscontroller#index as html person load 0.2ms select people . from people where people . personable id 950737458 and people . personable type user limit 1 view - recording load 0.2ms select recordings . from recordings where recordings . id 9007199254741011 limit 1 rendered my navigation chats bookmark.html.erb 3.6ms completed 200 ok in 529ms views 24.8ms activerecord 30.1ms	103
1390248	31270	4001982248998	2016-02-17T13:14:43.000Z	[bug;;confirmed;;high severity;;p2;;platform;;state module]	acl.present typeerror on subsequent runs	5	# description i think i have hit a bug with setting linux file acls acls are set correctly albeit a change is not reported but subsequent runs throw a typeerror example salt tmp testdir acl.present - acl type user - acl name root - perms r-x when executed this sets acls correctly note that no change is being reported green text salt id tmp testdir function acl.present result true comment permissions will be applied started 14 01 36.454709 duration 71.794 ms changes when executed a second time this error is thrown red text salt id tmp testdir function acl.present result false comment an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1624 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1491 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states linux acl.py line 77 in present if user acl name octal sum octal.get i i for i in perms typeerror unsupported operand type s for + int and str started 14 09 49.598612 duration 37.613 ms changes # versions ## master salt salt --versions-report salt version salt 2015.8.5 dependency versions jinja2 2.7.3 m2crypto not installed mako not installed pyyaml 3.11 pyzmq 14.4.0 python 2.7.9 default mar 1 2015 12 57 24 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 0.8.6 cherrypy not installed dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist debian 8.3 machine x86 64 release 3.16.0-4-amd64 system debian 8.3 ## minion salt salt-minion --versions-report salt version salt 2015.8.5 dependency versions jinja2 2.7.2 m2crypto not installed mako 0.9.1 pyyaml 3.10 pyzmq 14.0.1 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy not installed dateutil 1.5 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 3.13.0-77-generic system ubuntu-14.04 trusty	380
8514	23766	rthbound	2016-02-18T21:37:21.000Z	[actionpack;;attached pr]	params not processed properly when contenttype is application vnd.api+json as of c4d90b7	12	oddly this bug report script https://gist.github.com rthbound 09463c89a243d00a5ab8 does not fail even though application vnd.api+json is not registered as a mime type i really hoped to produce a failure with the bug report template i can show this bug by generating a fresh rails app as follows mkdir recreate bug echo 2.3.0 recreate bug .ruby-version cd recreate bug echo source https://rubygems.org gemfile echo gem rails github rails rails gemfile gem install bundler --no-ri --no-rdoc bundle rails new --api --force . sed -i s gem rails gem rails github rails rails g gemfile bundle spring stop rails g scaffold bug rake db migrate echo mime type.unregister json config initializers mime types.rb echo mime type.register application json json w text x-json application jsonrequest application vnd.api+json config initializers mime types.rb rails s now just curl curl -xpost -h content-type application vnd.api+json http://localhost 3000 bugs -d maybe a bug true your server window should show that it wasn t processed properly processing by bugscontroller#create as parameters bug i pushed an app created this way includes a testcase to https://github.com rthbound una-otra ...	178
1390248	31343	mkuchin	2016-02-19T02:36:22.000Z	[bug;;fixed pending verification;;high severity;;p3;;platform;;state module]	dockerng.volume present fails if no volume exists on minion	9	trying to execute state jenkins-volume dockerng.volume present - name jenkins on the minion with no volumes docker-volume ls driver volume name finishes with error ---------- id jenkins-volume function dockerng.volume present name jenkins result false comment an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1682 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1583 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states dockerng.py line 2153 in volume present volumes v for v in salt dockerng.volumes volumes if v name name typeerror nonetype object is not iterable started 03 33 11.542971 duration 4.582 ms changes ---------- id jenkins function dockerng.running result false comment one or more requisite failed jenkins.jenkins-volume started duration changes	130
1390248	31402	vutny	2016-02-22T10:31:16.000Z	[expected behavior;;packaging;;platform;;team platform;;won't fix for now]	repo systemd-python required package is missing from rhel7 archive	9	hello i would like to install salt-minion from salt corporate repo https://repo.saltstack.com yum redhat 7 x86 64 latest on my rhel7 ec2 instance without any subscriptions enabled . my ami id is ami-2051294a . i ve configured the repo repo-saltstack-el7 name saltstack el7 repo baseurl https://repo.saltstack.com yum rhel7 skip if unavailable true gpgcheck 1 gpgkey https://repo.saltstack.com yum rhel7 saltstack-gpg-key.pub https://repo.saltstack.com yum rhel7 base rpm-gpg-key-centos-7 enabled 1 enabled metadata 1 and disabled all other repositories trying to install sh # yum repolist loaded plugins amazon-id rhui-lb search-disabled-repos repo id repo name status repo-saltstack-el7 saltstack el7 repo 77 repolist 77 # yum install salt-minion loaded plugins amazon-id rhui-lb search-disabled-repos resolving dependencies -- running transaction check --- package salt-minion.noarch 0 2015.8.7-1.el7 will be installed -- processing dependency salt 2015.8.7-1.el7 for package salt-minion-2015.8.7-1.el7.noarch -- running transaction check --- package salt.noarch 0 2015.8.7-1.el7 will be installed -- processing dependency systemd-python for package salt-2015.8.7-1.el7.noarch -- finished dependency-resolution error package salt-2015.8.7-1.el7.noarch repo-saltstack-el7 requires systemd-python you could try using --skip-broken to work around the problem you could try running rpm -va --nofiles --nodigest after i downloaded and installed systemd-python package manually the installation of salt-minion succeeded please upload systemd-python from centos7 to saltstack corp repo for redhat 7 to make salt fully installable ping @dmurphy18 thanks in advance	210
1390248	31430	the-loeki	2016-02-23T12:36:23.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p4;;team core]	salt coding-style regarding absolute imports	5	https://docs.saltstack.com en latest topics development conventions style.html#absolute-imports reads although absolute imports seems like an awesome idea please do not use it etc i m really wondering if that s still accurate practically all modules and certainly the new ones do absolute import now and w regards to py3 compat isn t that a necessity anyway	55
8514	23844	jrafanie	2016-02-24T05:00:32.000Z	[activerecord;;attached pr;;with reproduction steps]	regression saving in an after-create with a uniqueness validation	9	currently on master if you save a record in an after-create on a model with a uniqueness validation the validation always fails this was previously working in 5.0.0.beta2 and also works on rails 4.2.5 i have git bisected this to https://github.com rails rails pull 23581 note from #23581 changing from id to id was breaks after-create and after save callbacks because id was trails id for these callbacks in other words the id was value is the pre-save pre-create value in my example below id was is nil in the after-create while id is not nil full recreation script and output is here https://gist.github.com jrafanie 083fff24b2c1532d2545 with rails master because id was is nil the validation query from the gist above looks like this topic exists 0.1ms select 1 as one from topics where topics . title and topics . id is notnull limit title test limit 1 note the topics . id where-clause doesn t exclude itself the just saved object so the validation fails with gem rails 5.0.0.beta2 the validation works correctly by issuing the following query topic exists 0.1ms select 1 as one from topics where topics . title and topics . id limit title test id 1 limit 1 note the topics . id where-clause excludes itself the just saved object so the validation passes i have hacked the change from #23581 to use the id if id was is nil and all tests pass clearly this isn t correct but i wanted to try the easiest thing diff diff --git a activerecord lib activerecord validations uniqueness.rb b activerecord lib activerecord validations uniqueness.rb index 13053be..4a80cda 100644 --- a activerecord lib activerecord validations uniqueness.rb +++ b activerecord lib activerecord validations uniqueness.rb @@ -18 7 +18 7 @@ module activerecord relation build relation finder class table attribute value if record.persisted if finder class.primary key - relation relation.where.not finder class.primary key record.id was + relation relation.where.not finder class.primary key record.id was record.id else raise unknownprimarykey.new finder class can not validate uniqueness for persisted record without primary-key end	338
1390248	31465	whiteinge	2016-02-24T17:28:13.000Z	[core;;feature;;fixed pending verification]	feature request fire master-side event when updated minion grains are pushed to master	13	it is useful to know when the master-side cache is updated	11
1390248	31513	uppfinnarn	2016-02-26T16:28:03.000Z	[bug;;high severity;;p2;;platform;;state module]	dockerng.image present with build cannot have require watch	8	### expected behavior specifying require or watch on a dockerng.image present with a build parameter should make it trigger according to watch and order according to require . ### actual behavior specifying require or watch along with build makes the state crash an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1624 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1491 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states dockerng.py line 2223 in mod watch return image present name kwargs typeerror image present got an unexpected keyword-argument reqs ### steps to reproduce issue yaml python-pip pkg.installed docker-py pip.installed - require - pkg python-pip some path dockerfile file.managed - source salt thing dockerfile - template jinja - require - file some path local thing pillar thing version dockerng.image present - build some path - force true - require - pip docker-py - watch - file some path dockerfile ### versions report salt version salt 2015.8.7 dependency versions jinja2 2.7.3 m2crypto not installed mako 1.0.0 pyyaml 3.11 pyzmq 14.4.0 python 2.7.9 default mar 1 2015 12 57 24 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 0.8.6 cherrypy not installed dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist debian 8.3 machine x86 64 release 3.16.0-4-amd64 system debian 8.3	258
9852918	6574	erisds	2016-03-02T16:24:16.000Z	[data;;fix wanted;;server]	use transactions for migrations fixtures	5	following on from the work in https://github.com tryghost ghost pull 6572 i think it would be a great improvement if we switched to using transactions for migrations fixtures back in ye olde days it wasn t possible to use transactions for schema operations see https://github.com tryghost ghost issues 586 however knex had a lot of changes to transactions around 0.8.0 and knex migrations use transactions see changelog http://knexjs.org #changelog which make me believe it may be possible now although not documented as much as possible it would be a significant improvement to have data migrations and fixtures wrapped in a transaction any failure to complete a task should then result in the whole transaction failing with a clear error message this would help to prevent blogs from ending up in weird half-way states	133
1390248	31645	ntr0	2016-03-03T08:58:15.000Z	[bug;;execution module;;fixed pending verification;;high severity;;p2;;platform]	salt.modules.gpg.create key sets bogus passphrase	5	### description of issue question due to the fact that gpg.create key and other methods use salt pillar.item gpg passphrase instead of pillar.get created gpg keys will have the passphrase gpg passphrase intended passphrase . ### setup just mocking up the sls and pillar state sls user-gpg module.run - name gpg.create key - key type rsa - key length 2048 - name real users autokey - name comment generated by salt - name email salt pillar.get gpg email - use passphrase true - user salt pillar.get gpg user pillar yaml gpg passphrase password gpg user name email mail@domain.com ### steps to reproduce issue include debug logs if possible and relevant ### versions report provided by running salt --versions-report yaml salt version salt 2015.8.7 dependency versions jinja2 2.7.3 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default nov 20 2015 02 00 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 1.1.2 cherrypy not installed dateutil not installed gitdb 0.6.4 gitpython 1.0.1 ioflo not installed libgit2 0.21.0 libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python 1.2.3 pycparser 2.14 pycrypto 2.6.1 pygit2 0.21.4 python-gnupg not installed smmap 0.9.0 timelib not installed system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-229.14.1.el7.x86 64 system centos linux 7.2.1511 core i have already fixed this locally and will provide the fix asap regards ntr0	224
507775	16975	bobrik	2016-03-06T21:25:36.000Z	[:cat api;;adoptme;;enhancement]	built-in sorting in cat apis	5	while using sort 1 is great and all more often than not i find myself using browser for cat apis it s easy to bookmark and reuse unfortunately cat indices v and similar endpoints have undefined order of rows and it is not always convenient moreover v makes using sort 1 less convenient since header is sorted too i suggest adding another parameter to sort on any column list it would accept the same thing as h . example request to sort on index time curl -s http://127.0.0.1 9200 cat indices v h index pri docs indexing.index time s indexing.index time	101
507775	17025	samcday	2016-03-09T06:33:21.000Z	[:logging;;adoptme;;bug;;low hanging fruit;;v2.3.2]	slowlogs no longer include index name	6	elasticsearch version 2.2.0 jvm version 1.8.0 40 os version osx and ubuntu-15.04 description of the problem including expected versus actual behavior unless i m completely and utterly blind which is a distinct possibility it seems that both indexing and query slowlogs no longer include the name of the index that the operation was running against this makes them almost entirely useless for us since we have several hundred indices in our cluster . steps to reproduce 1 generate some queries indexing requests that triggers a slowlog 2 look at the slowlog 3 scratch your head and wonder why the type is present but not the index . provide logs if relevant an example slowlog from 2.2.0 2016-03-09 16 26 15 225 trace index.indexing.slowlog.index took 4.4ms took millis 4 type test id avnadew0jks5u4prorcx routing source name vlucas phpdotenv version 1.0.3 type library description loads environment-variables from .env to getenv env and server automagically keywords env dotenv environment homepage http://github.com vlucas phpdotenv license bsd authors name vance lucas email vance@vancelucas.com homepage http://www.vancelucas.com require php 5.3.2 require-dev phpunit phpunit autoload psr-0 dotenv src an example slowlog from 1.7.5 2016-03-09 16 31 42 346 warn index.indexing.slowlog.index prowler slowtest 1 took 95.7ms took millis 95 type test id avnaeumovixyp lagadk routing source name vlucas phpdotenv version 1.0.3 type library description loads environment-variables from .env to getenv env and server automagically keywords env dotenv environment homepage http://github.com vlucas phpdotenv license bsd authors name vance lucas email vance@vancelucas.com homepage http://www.vancelucas.com require php 5.3.2 require-dev phpunit phpunit autoload psr-0 dotenv src	253
1390248	31851	rhansen	2016-03-12T23:40:23.000Z	[bug;;core;;fixed pending verification;;high severity;;p3;;runners;;team core]	error using module.run - saltutil.runner - state.orchestrate the following arguments are missing fun	13	### description of issue if i create a state file that uses module.run to execute saltutil.runner to execute state.orchestrate i get the following error master ---------- id orchestrate function module.run name saltutil.runner result false comment the following arguments are missing fun started 18 17 12.237399 duration 0.817 ms changes ### setup etc salt master yaml file roots base - salt base states pillar roots base - salt base pillar module dirs - salt modules salt base states foo.sls yaml orchestrate module.run - name saltutil.runner - m name state.orchestrate - kwargs mods orchestrate salt base states orchestrate.sls yaml uptime salt.function - tgt - name cmd.run - arg - uptime ### steps to reproduce issue configure as described above and run the following on the master sudo salt master state.sls foo this assumes the master is also a minion with minion id master ### versions report salt version salt 2015.8.7 dependency versions jinja2 2.7.2 m2crypto not installed mako 0.9.1 pyyaml 3.10 pyzmq 14.4.0 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy not installed dateutil 1.5 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 4.2.0-30-generic system ubuntu-14.04 trusty	235
1390248	31975	rajvidhimar	2016-03-18T05:04:26.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p3;;team core]	docstrings not reflected in the salt documenation	7	recently i opened a pull-request which added to the junos execution module introduced junos state modules and manipulated the junos grains modules the pr was merged and closed https://github.com saltstack salt pull 31817 eventhough extensive docstrings were added in the junos state and execution modules the documentation doesn t seem to be updated also junos state module is completely missing from the documentation list https://docs.saltstack.com en latest ref modules all salt.modules.junos.html#module-salt.modules.junos did i miss something is there something that needs to be done from my side	86
1390248	31983	bberberov	2016-03-18T16:24:57.000Z	[info needed]	dockerng.create volume returns error requires a docker-api version of at least 1.21	12	i am trying to use salt to manage docker volumes ### steps to reproduce issue in my test environment i have a master and a minion on the same machine docker is running as daemon all other docker commands run correctly running this salt dockerng.create volume my volume returns error this function requires a docker-api version of at least 1.21 api version in use is 1.20 ### versions report salt --versions-report salt version salt 2015.8.7 dependency versions jinja2 2.7.2 m2crypto not installed mako 0.9.1 pyyaml 3.10 pyzmq 14.0.1 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy not installed dateutil 2.4.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 4.4.0-13-generic system ubuntu-14.04 trusty docker version client version 1.10.3 api version 1.22 go version go1.5.3 git-commit 20f81dd built thu mar 10 15 54 52 2016 os arch linux amd64 server version 1.10.3 api version 1.22 go version go1.5.3 git-commit 20f81dd built thu mar 10 15 54 52 2016 os arch linux amd64 pip show docker-py --- name docker-py version 1.7.2 location usr locallib python2.7 dist-packages requires requests six websocket-client	227
1390248	32044	scoreunder	2016-03-22T13:25:07.000Z	[bug;;core;;fixed pending verification;;high severity;;multi-master;;p1;;regression;;team core]	multiple masters throwing warnings key master with value ... has an invalid type of list a str is required for this value	22	### description of issue question multiple-master support is documented here https://docs.saltstack.com en latest topics tutorials multimaster.html however in recent versions of salt a warning is thrown when multiple masters are used victory root# salt-call saltutil.sync all warning key master with value ... list of masters here ... has an invalid type of list a str is required for this value i don t know if this is indicative of a complete failure though because our main master is fairly reliable so it s never had a need to fallback to the backup it does imply at least that specifying multiple masters is an error which goes against the documentation ### setup in etc salt minion.d masters.conf yaml master - salt-master - salt-master-2 ### steps to reproduce issue 1 run salt-call test.ping or some equally trivial salt call ### versions report salt version salt 2016.3.0rc1-2506-g5096d33 dependency versions jinja2 2.8 m2crypto 0.21.1 mako 1.0.1 pyyaml 3.11 pyzmq 15.2.0 python 2.7.5 default mar 9 2014 22 15 05 raet not installed tornado 4.3 zmq 4.1.4 cffi not installed cherrypy not installed dateutil 1.5 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python 1.2.5 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist machine x86 64 release 13.4.0 system darwin version 10.9.5 x86 64 this seems to be a regression since 2015.8.7 . tested on archlinux too and experiencing the same	250
9852918	6625	windyo	2016-03-22T14:43:28.000Z	[api;;bug]	url field is undefined when restricting returned fields via the api	11	### issue summary when querying a posts list with the api the url field returns undefined if the fields to be returned have been specified interestingly if one wants to construct a full list of post urls with no further information a list of all fields except the url is returned ### steps to reproduce this first query returns a list of all posts with all their fields .get ghost.url.api posts limit all .done function data var allposts data.posts console.log allposts the following query which should return exactly the same thing returns all fields except url and author . .get ghost.url.api posts limit all fields id uuid title slug markdown html image featured page status language meta-title meta description created at created by updated at updated by published at published by author url .done function data var allfields data.posts console.log allfields the author can be added by using include author so this may be a feature and not a bug using the syntax author id also returns the expected result to test what happens if a list of urls needs to be generated the following query can be used .get ghost.url.api posts limit all fields url .done function data var urlquery data.posts console.log urlquery ### technical details - ghost version 0.7.8 - node version 2.14.7 - browser os all tested - database sqlite3	223
507775	17245	imotov	2016-03-22T15:17:45.000Z	[:geo;;test]	test geoshapequerytests.testshapefilterwithrandomgeocollection timesout in 2.x	5	reproduces on my machine in 2.x branch with the following seed mvn clean test -pdev -pl org.elasticsearch elasticsearch -dtests.seed 4d404f5eec9a9625 -dtests.class org.elasticsearch.search.geo.geoshapequerytests see the last failure at https://elasticsearch-ci.elastic.co job elastic+elasticsearch+2.x+periodic 159 console	32
9852918	6629	bioball	2016-03-22T19:20:52.000Z	[]	don t mutate process.env.node env	5	i m working on an express app that builds ghost into a subroute and am having issues with ghost mutating process.env.node env . i d like to suggest that something like this be done instead js stage.js module.exports process.env.node env development then anywhere that needs to know the current env would just do js var stage require . stage this way consumers of ghost don t get weird side-effects	69
1644196	15624	eschnett	2016-03-25T15:10:09.000Z	[]	substring reports out-of-bounds error for empty ranges	7	i encounter this error when remaking the documentation after adding more documentation to base # genstdlib info loading docstrings from modules info parsing external documentation error loaderror boundserror attempt to access at index 15 14 in getindex substring asciistring unitrange int64 at . abstractarray.jl 0 i think this is due to an error in substring . this works julia x 3 2 this should have the same result but doesn t julia substring x 1 1 3 2 error boundserror attempt to access x at index 3 2 in getindex substring asciistring unitrange int64 at users eschnett julia05nt lib julia sys-debug.dylib -1 in eval module any at users eschnett julia05nt lib julia sys-debug.dylib -1	114
1644196	15654	andreasnoack	2016-03-28T14:31:08.000Z	[]	cumsum cumprod wrong when dim n	6	discovered by @shashi jl julia cumprod 2 2 1-element array int64 1 4 julia cumprod 1 2 3 4 3 2x2 array int64 2 1 4 9 16 cc @timholy	30
1390248	32198	goatjam	2016-03-28T23:55:35.000Z	[blocker;;bug;;fixed pending verification;;high severity;;p2;;platform;;regression;;state module;;zreleased - boron]	state pkg.installed was not found in sls	7	since updating to 2015.8.8 i am unable to process pkg.installed states ### setup sls top.sls base - test test.sls htop pkg - installed ### steps to reproduce issue highstate on above two sls files yaml output id htop function pkg.installed result false comment state pkg.installed was not found in sls test reason pkg virtual returned false ### versions report yaml salt version salt 2015.8.8 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako 0.9.1 pyyaml 3.10 pyzmq 14.0.1 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy 3.2.2 dateutil 1.5 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist linuxmint 17.2 rafaela machine x86 64 release 3.16.0-38-generic system linuxmint 17.2 rafaela note linuxmint uses the stand ubuntu-14.04 repository forall non-desktop related stuff # workaround i have reverted back to 2015.5.10 and the problem no longer exists	179
8514	24359	glebm	2016-03-29T14:47:49.000Z	[activerecord;;attached pr]	remove index fails to find expression index on postgresql	9	### steps to reproduce ruby require bundler setup require activerecord activerecord base.establish connection postgres postgres@localhost 5432 test activerecord base.connection.tap do conn conn.create table a table t t.text a column conn.exec query create index expr index on a table lower a column conn.remove index a table name expr index end ### expected behavior the index should be removed works correctly in rails 4.1 and 4.2 but not rails 5 ### actual behavior argumenterror no indexes found on a table with the options provided ### system-configuration rails version 5.0.0.beta3 ruby version mri 2.3.0	91
1390248	32229	seanjnkns	2016-03-29T23:43:21.000Z	[bug;;execution module;;fixed pending verification;;high severity;;p2;;platform;;state module]	2015.8.8.2 pkg.installed fails to update packages with epoch	8	### description of issue question ### setup using a state file similar to the following works unless it s an update openstack-neutronpkgs pkg.installed - skip suggestions true - pkgs - openstack-neutron pillar pkgs openstack-neutron - openstack-neutron-common pillar pkgs openstack-neutron-common - openstack-neutron-ml2 pillar pkgs openstack-neutron-ml2 - python-neutron pillar pkgs python-neutron where pillar information for these packages looks like so pkgs openstack-neutron 1 7.0.3-1.el7 openstack-neutron-common 1 7.0.3-1.el7 openstack-neutron-linuxbridge 1 7.0.3-1.el7 openstack-neutron-ml2 1 7.0.3-1.el7 python-neutron 1 7.0.3-1.el7 previously on the openstack liberty release these were version 1 7.0.1-1.el7 and the version installed on the applicable openstack servers ### steps to reproduce issue define in pillar a version for a package that has the epoch on it perhaps choose an older package or one that you know has an update for it and confirm the older version is currently installed on the minion update the pillar information to utilize the new version and issue a highstate for the minion you ll get an error like so id openstack-neutronpkgs function pkg.installed result false comment the following packages failed to install update openstack-neutron-common 1 7.0.3-1.el7 openstack-neutron 1 7.0.3-1.el7 openstack-neutron-ml2 1 7.0.3-1.el7 python-neutron 1 7.0.3-1.el7 the following packages were already installed python-novaclient 1 2.30.1-1.el7 which python-neutronclient 3.1.0-1.el7 started 17 18 59.393256 duration 3662.715 ms changes however if i go and manually update these and then issue a salt-call state.highstate on the minion or similar from the master it s fine if i remove the rpm completely and do the highstate it ll work too just updating will fail ### versions report salt version salt 2015.8.8.2 dependency versions jinja2 2.7.3 m2crypto 0.21.1 mako 0.8.1 pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default nov 20 2015 02 00 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 0.8.6 cherrypy 3.2.2 dateutil 1.5 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl 1.4.3 msgpack-pure not installed msgpack-python 0.4.7 mysql-python 1.2.3 pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.2.1511 core machine x86 64 release 4.1.15.bs.ufd system centos linux 7.2.1511 core	345
1390248	32260	jagguli	2016-03-31T06:39:21.000Z	[bug;;high severity;;p1;;platform;;state module]	git.latest unboundlocalerror local variable desired upstream referenced before assignmen	9	### description of issue question an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1626 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1492 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states git.py line 630 in latest desired upstream unboundlocalerror local variable desired upstream referenced before assignment ### setup git.latest called with nonexistant rev ### steps to reproduce issue include debug logs if possible and relevant ### versions report provided by running salt --versions-report . please also mention any differences in master minion versions salt version salt 2016.3.0-291-gdcfee8e dependency versions jinja2 2.8 m2crypto not installed mako not installed pyyaml 3.11 pyzmq 15.2.0 python 2.7.9 default mar 1 2015 12 57 24 raet not installed tornado 4.3 zmq 4.1.2 cffi 1.5.2 cherrypy 5.1.0 dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 0.24.0 libnacl not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python 1.2.3 pycparser 2.14 pycrypto 2.6.1 pygit2 0.24.0 python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist debian 8.3 machine x86 64 release 3.16.0-4-amd64 system linux version debian 8.3	192
1390248	32327	joakimkarlsson	2016-04-04T13:30:15.000Z	[bug;;critical;;grains;;p4;;platform;;team platform;;zreleased - boron]	salt-minion fails to start on windows	6	### description of issue question on one of our virtual windows servers the salt-minion fails to start the reason is that the following line fails to calculate the total amount of physical memory available https://github.com saltstack salt blob develop salt grains core.py#l416 on this particular machine one of the objects returned from wmi lacks the capacity property python import wmi wmi c wmi.wmi x.capacity for x in wmi c.win32 physicalmemory u 4160749568 none u 671088640 this prevents memdata from casting each entry to int and then calculate the sum to get a total amount of ram memory the following works however python import win32api win32api.globalmemorystatus totalphys 68716363776l note that summing the valid values from calling wmi doesn t add up to the value returned by globalmemorystatus which matches the amount of physical memory actual available on that machine i don t know enough wmi or running windows in virtual environments to know why one of the entries returned doesn t report any capacity or if that is even valid this particular machine has had no other problems though i d suggest changing memdata to use win32api.globalmemorystatus instead as this uses the win32 api directly unless there are other differences between wmi and the win32 api that makes this unfeasable the salt-minion has version 2015.8.8	214
507775	17614	colings86	2016-04-08T09:44:22.000Z	[:aggregations;;breaking;;discuss]	remove support for sorting terms aggregation by ascending count	9	we try to be as flexible as possible when it comes to sorting terms aggregations however sorting by anything but by term or descending count makes it very hard to return the correct top buckets and counts which is disappointing to users for this reason we should remove the ability to sort the terms aggregation by ascending count split out from https://github.com elastic elasticsearch issues 17588	66
9852918	6691	jaswilli	2016-04-08T16:28:54.000Z	[]	can t install ghost npm package w recent versions of npm@3	11	### issue summary unable to install the ghost npm package with npm version 3 it appears as though the preinstall script has run afoul of the way that npm 3 behaves after a cursory look at what s going on it appears as though it gets into an endless recursive install and just keeps on trying to npm-install semver over and over ### steps to reproduce 1 in an otherwise unused directory do an npm-install ghost . ### technical details - ghost version 0.7.8 npm package - node version 4.4.x - browser os os x linux - database n a	100
1390248	32446	sel-fish	2016-04-08T20:15:15.000Z	[blocker;;bug;;core;;execution module;;fixed pending verification;;high severity;;p3;;team core;;zd;;zreleased - boron]	salt saltutil.wheel minions.connected not work	5	i tried to get all the connected minions from the master there are several ways i can do that such as salt-run manage.up or write a python script use salt.wheel.minions.connected . but i run a command like below salt saltutil.wheel minions.connected it seems the minions receive the command and execute then of course return none . it confused me that the document https://salt.readthedocs.org en stable ref modules all salt.modules.saltutil.html#salt.modules.saltutil.wheel about salt.modules.saltutil.wheel said execute a wheel module this function must be run on the master and i did run this command on the master the version of salt i am using is salt 2015.8.5 beryllium .	105
1390248	32452	nicholascapo	2016-04-08T22:54:17.000Z	[bug;;core;;fixed pending verification;;high severity;;p2;;team core]	cmd.run all with --batch and --failhard gives no output on failure	11	when using cmd.run all with --batch and --failhard if a failure occurs the output from that minion is not displayed expected sudo salt --batch 1 --failhard minion cmd.run all not a command executing run on minion2 minion2 ---------- pid 11525 retcode 127 stderr bin sh 1 not a command not found stdout error minions returned with non-zero exit-code got sudo salt --batch 1 --failhard minion cmd.run all not a command executing run on minion1 error minions returned with non-zero exit-code ------------------------------------------------ sudo salt --versions-report salt version salt 2015.8.8.2 dependency versions jinja2 2.7.3 m2crypto not installed mako not installed pyyaml 3.11 pyzmq 14.4.0 python 2.7.9 default mar 1 2015 12 57 24 raet not installed tornado 4.2.1 zmq 4.0.5 cffi 0.8.6 cherrypy not installed dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 not installed python-gnupg 0.3.6 smmap 0.8.2 timelib not installed system versions dist debian 8.4 machine x86 64 release 3.16.0-4-amd64 system debian 8.4	173
1390248	32455	sjmh	2016-04-08T23:57:06.000Z	[bug;;riot;;team riot]	pam external auth in 2016.3 causes pam tally to register failed logins	12	### description of issue question when using the pam external auth in 2016.3-rc2 successful logins via salt will cause invalid logins to be registered by pam tally2 resulting in the account eventually being locked ### setup please provide relevant configs and or sls files be sure to remove sensitive info . 2016.3 rc2 master with external auth pam external auth pam shajducko - i@role provserver - test ### steps to reproduce issue include debug logs if possible and relevant root@itmlabsaltdev00 # pam tally2 --user shajducko login failures latest failure from shajducko 0 root@itmlabsaltdev00 # su - shajducko shajducko@itmlabsaltdev00 salt -a pam prov test.ping username shajducko password itmlabprovdev01.corplab.intuit.net true shajducko@itmlabsaltdev00 logout root@itmlabsaltdev00 # pam tally2 --user shajducko login failures latest failure from shajducko 1 04 08 16 16 56 08 unknown ### versions report provided by running salt --versions-report . please also mention any differences in master minion versions salt version salt 2016.3.0rc2 dependency versions jinja2 2.2.1 m2crypto 0.20.2 mako not installed pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 nov 21 2013 10 50 32 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil 1.4.1 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 6.5 santiago machine x86 64 release 2.6.32-431.el6.x86 64 system linux version redhat enterprise linux server 6.5 santiago	251
1390248	32456	sjmh	2016-04-09T00:06:17.000Z	[bug;;critical;;fixed pending verification;;riot;;team riot;;zreleased - boron]	external auth pam tokens -t do not work in salt 2016.3 rc2	12	### description of issue question when trying to use the -t option to salt the generated salt token prevents any commands from running ### setup please provide relevant configs and or sls files be sure to remove sensitive info . external auth pam shajducko - i@role provserver - test ### steps to reproduce issue shajducko@itmlabsaltdev00 ls -l total 0 shajducko@itmlabsaltdev00 salt -a pam prov test.ping username shajducko password itmlabprovdev01.corplab.intuit.net true shajducko@itmlabsaltdev00 salt -a pam -t prov test.ping username shajducko password critical could not deserialize msgpack message some exception-handling minion payloadthis often happens when trying to read a file not in binary mode.please open an issue and include the following error unpack b received extra data error uncaught-exception closing connection traceback most recent call last file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data error uncaught-exception closing connection traceback most recent call last file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 433 in handle events self handle recv file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 465 in handle recv self run callback callback msg file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data error exception in callback none traceback most recent call last file usr lib64 python2.6 site-packages tornado ioloop.py line 865 in start handler func fd obj events file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 433 in handle events self handle recv file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 465 in handle recv self run callback callback msg file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data salt request-timed-out the master is not-responding if this error persists after verifying the master is up worker threads may need to be increased shajducko@itmlabsaltdev00 ls -l salt token -rw------- 1 shajducko shajducko 32 apr 8 17 01 home shajducko salt token shajducko@itmlabsaltdev00 salt -a pam prov test.ping critical could not deserialize msgpack message some exception-handling minion payloadthis often happens when trying to read a file not in binary mode.please open an issue and include the following error unpack b received extra data error uncaught-exception closing connection traceback most recent call last file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data error uncaught-exception closing connection traceback most recent call last file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 433 in handle events self handle recv file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 465 in handle recv self run callback callback msg file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data error exception in callback none traceback most recent call last file usr lib64 python2.6 site-packages tornado ioloop.py line 865 in start handler func fd obj events file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 433 in handle events self handle recv file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 465 in handle recv self run callback callback msg file usr lib64 python2.6 site-packages zmq eventloop zmqstream.py line 407 in run callback callback args kwargs file usr lib64 python2.6 site-packages tornado stack context.py line 274 in null wrapper return fn args kwargs file usr lib python2.6 site-packages salt transport zeromq.py line 881 in mark future future.set result self.serial.loads msg 0 file usr lib python2.6 site-packages salt payload.py line 117 in loads return msgpack.loads msg use list true file msgpack unpacker.pyx line 142 in msgpack unpacker.unpackb msgpack unpacker.cpp 142 extradata unpack b received extra data salt request-timed-out the master is not-responding if this error persists after verifying the master is up worker threads may need to be increased shajducko@itmlabsaltdev00 rm salt token shajducko@itmlabsaltdev00 ls -l total 0 shajducko@itmlabsaltdev00 salt -a pam prov test.ping username shajducko password itmlabprovdev01.corplab.intuit.net true ### versions report provided by running salt --versions-report . please also mention any differences in master minion versions salt version salt 2016.3.0rc2 dependency versions jinja2 unknown m2crypto 0.20.2 mako not installed pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 nov 21 2013 10 50 32 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil 1.4.1 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 6.5 santiago machine x86 64 release 2.6.32-431.el6.x86 64 system linux version redhat enterprise linux server 6.5 santiago	1129
1390248	32479	ssgward	2016-04-11T16:33:44.000Z	[bug;;core;;fixed pending verification;;high severity;;p2]	orchestration gives exception when a target does not exist	9	orchestration state.orchestrate gives exception when a target listed in the orchestration file does not exist expecting that the exception would be handled and a helpful message displayed instead here s an example orchestration file being used in this case the target app does not exist in the environment orch.sls htop salt.state - tgt app - sls - htop install vim salt.state - tgt - sls - vim cmd.run salt.function - tgt - arg - rm -rf tmp foo steps to reproduce issue 1 run the above listed orchestration file in an env where the target of app does not exist 2 here is the command being run salt-run state.orchestrate orchestrate.orch 3 the following exception is printed to the screen no minions matched the target no command was sent no jid was assigned error an exception occurred in this state traceback most recent call last file usr lib python2.7 site-packages salt state.py line 1703 in call cdata kwargs file usr lib python2.7 site-packages salt loader.py line 1649 in wrapper return f args kwargs file usr lib python2.7 site-packages salt states saltmod.py line 225 in state cmd ret salt saltutil.cmd tgt fun cmd kw file usr lib python2.7 site-packages salt modules saltutil.py line 894 in cmd client tgt fun arg timeout expr form ret kwarg kwargs file usr lib python2.7 site-packages salt modules saltutil.py line 862 in exec for ret comp in cmd cmd kwargs file usr lib python2.7 site-packages salt client init .py line 686 in cmd iter self clean up subscriptions pub data jid keyerror jid 4 keep in mind that the other states listed in the orchestration file get run due to the target and if the target app does exist there are no errors salt version salt 2016.3.0rc2 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default jun 17 2014 18 11 42 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.0.1406 core machine x86 64 release 3.10.0-123.el7.x86 64 system linux version centos linux 7.0.1406 core	387
1390248	32492	jacobhammons	2016-04-11T21:01:45.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p1;;team core;;zd;;zreleased - boron]	add docs for new master failback options in boron	9	### description of issue question add documentation for new master failback options in boron https://github.com saltstack salt pull 31962 master failback bool # default false master failback interval int # default 0	32
507775	17750	clintongormley	2016-04-14T09:49:20.000Z	[:mapping;;blocker;;enhancement;;v5.0.0-alpha3]	extend field stats to include type searchable aggregatable	8	after much discussion in https://github.com elastic elasticsearch issues 15728 we have agreed to make the following changes to the field stats api fields will accept wildcards so that it can match all fields field stats will return the field type and whether it is searchable index true and aggregatable doc values true index true fielddata true when level cluster the default fields with the same name are collapsed into a single entry unless the fields have a different type in which case the whole request returns an exception this collapsing process should change as follows an entry should be returned for fields with conflicting type but with an error key which describes the error searchable and aggregatable are collapsed to true if any of the instances of that field are searchable or aggregatable cc @rashidkpc @spalger @jpountz @martijnvg	138
1390248	32575	oliver-dungey	2016-04-14T13:41:28.000Z	[core;;feature;;state compiler]	onlyif does not tell you which test failed	8	if i have a formula like this test5 cmd.run - name echo test 5 - should fail onlyif test - onlyif - test -d bogusdirectory - test -d tmp i would expect to see in the output which of the test statements failed for easy debugging but all it tells me is comment onlyif execution failed - this makes debugging very slow would be ideal if it logged out the testthat failed versions root@mule01 tmp # salt --versions-report salt version salt 2016.3.0 dependency versions jinja2 unknown m2crypto 0.20.2 mako not installed pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 jul 23 2015 15 22 56 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 6.7 final machine x86 64 release 2.6.32-573.22.1.el6.x86 64 system centos 6.7 final	177
1644196	15931	dlfivefifty	2016-04-18T21:17:06.000Z	[doc]	0.4.6pre documentation for subarray looks out of date	8	it states that a subarray is defined as julia type subarray t n p abstractarray i viewindex... ld abstractarray t n parent p indexes i dims ntuple n int first index int # for linear indexing and pointer stride1 int # used only for linear indexing end when actually it s defined as julia immutable subarray t n p abstractarray i tuple vararg viewindex ld abstractarray t n parent p indexes i dims ntuple n int first index int # for linear indexing and pointer stride1 int # used only for linear indexing end	94
1390248	32771	guettli	2016-04-22T09:15:18.000Z	[bug;;core;;high severity;;p3;;salt-ssh]	tmp might cause problems with the thin-tgz of salt-ssh	9	### description of issue question we randomly see messages like this when calling salt-ssh stderr test.opts pkg is not available up to now we remove tmp .root salt by hand and the next call of salt-ssh will succeed we noticed that systemd cleans tempfiles regularly and we guess that files in above directory get deleted on our system suse the relevant service is usr lib systemd system systemd-tmpfiles-clean.timer the files in the thin-tgz have different timestamps remote-host # ls -ltr tmp .root dcdf8c salt total 176 -rw-r--r-- 1 root root 40 okt 12 2015 ext version -rw-r--r-- 1 root root 8292 dez 7 09 58 singledispatch.py -rw-r--r-- 1 root root 5228 dez 7 09 58 singledispatch helpers.py -rw-r--r-- 1 root root 5277 dez 7 09 58 backports abc.py -rw-r--r-- 1 root root 29911 dez 7 13 46 six.py -rw-r--r-- 1 root root 79 dez 7 15 27 salt-call ... we guess this is the cause why randomly calling salt-ssh files with messages like test.opts pkg is not available . ### potential solution 1 our suggestion is to use different location where files are not supposed to be deleted automatically https://en.wikipedia.org wiki filesystem hierarchy standard ### potential solution 2 if you update the timestamp for every file in the tmp directory then all-files get deleted at once i hope that salt will detect this an reinstall the code ### versions report salt srv # salt --versions-report salt version salt 2015.8.3 dependency versions jinja2 2.8 m2crypto 0.22 mako not installed pyyaml 3.11 pyzmq 15.1.0 python 2.7.3 default apr 14 2012 08 58 41 gcc raet not installed tornado 4.3 zmq 4.1.2 cffi 0.8.6 cherrypy not installed dateutil 2.1 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser 2.10 pycrypto 2.6.1 pygit2 0.21.2 python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist suse 12.3 x86 64 machine x86 64 release 3.7.10-1.40-desktop system opensuse 12.3 x86 64	326
1390248	32801	sjorge	2016-04-23T18:19:40.000Z	[blocker;;bug;;fixed pending verification;;high severity;;needs testcase;;p3;;platform;;regression;;state module;;team core;;zreleased - boron]	archive.extracted now has unexpected wanted behavior after 66ba35261cb4775e196ef738979914f8aaaddf4f	8	### description of issue question this seems to have resulted in if missing to be creates as a directory if something is provided yaml account.profile.base login archive.extracted - name home login - if missing home login .salt-profile-base - archive format tar - source - salt common account files profile-base.tar.gz salt.grains.get os lower - salt common account files profile-fallback.tar.gz - user login - group group - require - user account.user login file.managed - name home login .salt-profile-base - user login - group group - contents ## salt marker file ## - watch - archive account.profile.base login the above snippet extracts the archive and used to create .salt-profile-base as a marker file so get a update profile the user just has to remove the marker and it will be updated next profile run however after this commit it seems to archive.extracted seems to create the location specified in if missing as a directory even when removing the file.managed one a directory with the path of if missing shows up i checked that it was not in the archive this is also easily verified by changing the if missing to something else to test this new odd behavior seems to come form this commit as my minions running a pure 2016.3rc2 do not suffer from this only the ones i updated today tracking the 2016.3 branch also assuming that if missing is always a directory is probably not desired ### setup see above for an example snippet ### steps to reproduce issue put a random path in if missing and it will end up as a directory ### versions report 2016.3 as of 2016 04 23 @ 20 00 yaml salt version salt 2016.3.0 dependency versions cffi not installed cherrypy 3.8.0 dateutil 2.4.0 gitdb 0.6.4 gitpython 2.0.0 ioflo 1.5.1 jinja2 2.8 libgit2 not installed libnacl 1.4.4 m2crypto 0.22 mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.11 default mar 18 2016 13 38 08 python-gnupg 2.0.2 pyyaml 3.11 pyzmq 14.4.1 raet 0.6.5 smmap 0.9.0 timelib 0.2.4 tornado 4.3 zmq 4.1.3 system versions dist machine i86pc release 5.11 system sunos version not installed	361
460078	14508	artaommahe	2016-04-25T13:32:49.000Z	[component: nganimate;;frequency: low;;needs: investigation;;severity: broken expected use;;type: bug]	ng-animate addclass classnamefilter and svg element does not work together	10	plunk - http://plnkr.co edit wk0yhl element rotates on buttonclick via adding fsp-refresh-icon--rotated and on animation end this class must be removed if you uncomment js animateprovider.classnamefilter use-animate then animation will not work - animate.addclass promises resolves instantly after start with div element everything works well .styled commented out div in template near svg uncomment it and comment out svg	59
507775	17957	jaymode	2016-04-25T15:53:33.000Z	[:crud;;bug;;low hanging fruit]	get and multiget inconsistency with date-math expressions	7	when using index name date-math expressions logstash- now m the get api works and is able to resolve the index however if you try to get the same value using the multiget api it fails as it treats the index name as a concrete index name rather than allowing for the possibility that it could be an expression i think the behavior of the apis should be consistent i tend to question the usefulness of the date-math expression in a get request i could see one scenario where you know the id of a document the id is consistent and want to get the current one using a date-math expression	110
1390248	32829	tyhunt99	2016-04-25T16:46:13.000Z	[bug;;execution module;;high severity;;p3;;pillar;;platform]	dockerng appears to not be using docker registries pillar data	10	### description of issue question i am writing a state to pull docker images from aws ecr registry the way the credentials passed out by aws are only valid for 12 hours so i wrote a custom python pillar to run the proper awscli commands to fetch the credentials and build the pillar data for the registry assuming the pillar data is refreshed and with valid credentials for the run the minion still fails with an execption the problem is fixed by manually going onto the minion and running docker login so i would guess it sees the configured auth credentials from a previous docker login and uses them even if they are invalid ### setup here are the relevant salt files for the issue w private info redacted this build the docker-registries pillar data # py import subprocess import re def run builds the data structure used by docker states docker docker-pkg lookup version 1.9.1-0 + grains oscodename config docker opts --host unix var run docker.sock --storage-driver aufs docker-registries https://xxxxxxxxxxxx.dkr.ecr.us-east-1.amazonaws.com email none password fetchawsecrcreds username aws install docker py true return docker #fetches aws credentials for ecr #requires awscli to be installed and configured with valid credentials def fetchawsecrcreds r subprocess.popen aws ecr get-login stdout subprocess.pipe p re.compile ur -p . -e test str r.stdout.read return re.search p test str .group 1 ### steps to reproduce issue easiest method to reproduce using aws ecr 1 setup pillar data to login with valid credentials and do dockerng.pull works fine 2 invalidate credentials and try pull again fails as expected 3 update the credentials making sure to refresh pillar data 4 try to pull again and it should fail with the following message minion log 2016-04-25 15 37 25 231 requests.packages.urllib3.connectionpool debug 19156 get v1.21 images json only ids 0 all 1 http-1.1 200 none 2016-04-25 15 37 25 318 docker.auth.auth debug 19156 looking for auth entry for 364535168108.dkr.ecr.us-east-1.amazonaws.com 2016-04-25 15 37 25 319 docker.auth.auth debug 19156 found u https://364535168108.dkr.ecr.us-east-1.amazonaws.com 2016-04-25 15 37 25 319 docker.api.image debug 19156 looking for auth config 2016-04-25 15 37 25 319 docker.auth.auth debug 19156 looking for auth entry for 364535168108.dkr.ecr.us-east-1.amazonaws.com 2016-04-25 15 37 25 320 docker.auth.auth debug 19156 found u https://364535168108.dkr.ecr.us-east-1.amazonaws.com 2016-04-25 15 37 25 320 docker.api.image debug 19156 found auth config 2016-04-25 15 37 25 449 requests.packages.urllib3.connectionpool debug 19156 post v1.21 images create tag search alpha fromimage 364535168108.dkr.ecr.us-east-1.amazonaws.com 2fjs-sessions http-1.1 200 none 2016-04-25 15 37 25 467 salt.minion warning 19156 the minion function caused an exception traceback most recent call last file usr locallib python2.7 dist-packages salt minion.py line 1071 in thread return return data func args kwargs file usr locallib python2.7 dist-packages salt modules dockerng.py line 3865 in pull error detail errors item file usr locallib python2.7 dist-packages salt modules dockerng.py line 1058 in error detail item errordetail message indexerror tuple index out of range ### versions report salt version salt 2015.8.7 dependency versions jinja2 2.8 m2crypto 0.21.1 mako 0.9.1 pyyaml 3.11 pyzmq 15.2.0 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.3 zmq 4.1.2 cffi 1.5.0 cherrypy 3.2.2 dateutil 2.4.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 0.23.4 libnacl not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python 1.2.3 pycparser 2.14 pycrypto 2.6.1 pygit2 0.23.1 python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 3.13.0-71-generic system ubuntu-14.04 trusty	560
1390248	32834	beardedeagle	2016-04-25T17:42:43.000Z	[bug;;core;;fixed pending verification;;high severity;;p2;;team core]	masterless minion - unable to query job cache	8	### description of issue question when running masterless minion i am unable to query the job cache i end up getting an empty response # salt-call test.ping info determining pillar cache local true # salt-call saltutil.runner jobs.list jobs info determining pillar cache info runner completed 20160425103635664870 local ---------- # salt-call saltutil.find job 20160425103635664870 info determining pillar cache local ---------- # salt-call saltutil.find cached job 20160425103635664870 info determining pillar cache local local jobs cache directory var cache salt minion minion jobs 20160425103635664870 not found i do see that the job cache is being populated in var cache salt master jobs though ### setup etc salt minion.d salt-minion.conf file client local cache jobs true ### steps to reproduce issue 1 setup masterless salt 2 use config above for masterless minion 3 run the following command salt-call test.ping 4 run the following command salt-call saltutil.runner jobs.list jobs ### versions report # salt-minion --versions-report salt version salt 2015.8.8.2 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default nov 20 2015 02 00 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil 1.5 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.13.1.el7.x86 64 system centos linux 7.2.1511 core	248
1390248	32856	deanscothern	2016-04-26T07:47:44.000Z	[bug;;core;;fixed pending verification;;high severity;;p3;;team core]	jjid not shown when running the salt command-line with --batch-size using either --verbose or --show-jid with certain salt versions	19	### description of issue question jid not shown when running the salt command-line with --batch-size using either --verbose or --show-jid with certain salt versions i ve tried 2015.5.5 epel repos 2015.8.1and 2015.8.7 salt-stack repos so far ### setup nothing special ### steps to reproduce issue salt --batch-size 5 --show-jid cmd.run sleep 15 or salt --batch-size 5 --verbose cmd.run sleep 15 and the jid is not included in the o p all i get is something like executing run on minion1 minion2 minion3 minion4 minion5 minion1 retcode 0 minion2 retcode 0 minion3 retcode 0 executing run on ..... ### versions report production salt --versions-report salt 2015.5.5 python 2.7.5 default nov 20 2015 02 00 19 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.4.7 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.5.0 raet not installed zmq 4.0.5 mako not installed tornado not installed timelib not installed dateutil not installed clients are the same test salt --versions-report salt version salt 2015.8.7 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.5 default jun 24 2015 00 41 19 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 7.1.1503 core machine x86 64 release 3.10.0-229.11.1.el7.x86 64 system centos linux 7.1.1503 core client not updated yet still at salt-minion-2015.5.8-1.el7.noarch	265
507775	18010	jimferenczi	2016-04-27T12:23:21.000Z	[:internal;;blocker;;bug;;v5.0.0-alpha3]	uncaught-exception thrown from pointvalues static-functions	5	the static helpers on pointvalues throws an exception if a leaf has points indexed but not for the given field when using this function in es the exception is never caught which could lead to error in search request or field stats request the problem has been fixed in lucene https://issues.apache.org jira browse lucene-7257 but we agreed with @jpountz that we should have a temporary fix in es that we could remove afterward the proposal is to have a xpointvalues which acts exactly like the pointvalues with the lucene-7257 patch and to use this class to call all the static helpers in es	103
1390248	32896	utahdave	2016-04-27T17:40:41.000Z	[bug;;core;;fixed pending verification;;high severity;;p2;;team core;;zreleased - boron]	salt-key -d hangs and never deletes the keys	8	### description of issue question on the 2016.3 branch including rc2 running salt-key -d minion lists the keys it is going to delete and then after pressing y it just hangs and never completes ### versions report root@boucha-intuit-syndic salt # salt-minion --versions-report salt version salt 2016.3.0rc2-314-g649771a dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.2 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.5 default nov 20 2015 02 00 19 python-gnupg not installed pyyaml 3.10 pyzmq 14.7.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.10.1.el7.x86 64 system linux version centos linux 7.2.1511 core	143
1390248	32913	hrumph	2016-04-28T06:27:52.000Z	[bug;;documentation;;fixed pending verification;;medium severity;;p3;;state module;;team core]	possible problem with salt.states.pkg.installed documentation	5	### description of issue question hi in the documentation for salt.states.pkg.installed it says currently this option is supported for the following pkg providers apt ebuild pacman yumpkg and zypper however i ve been trying it with winrepo and it seems to be working fine during my tests or does the windows repo somehow count as one of the listed providers could the documentation somehow clarify this	66
1390248	32917	bradthurber	2016-04-28T13:17:14.000Z	[bug;;core;;high severity;;p2;;pillar;;zd]	standalone minion pygit2 pillar data doesn t refresh without manual git-fetch	11	### description of issue question i have a standalone minion that is using a pygit2-backed pillar repo if i commit a change to the pillar data the minion will not pick it up i have tried the standard saltutil.pillar refresh to no avail using one of the following two workarounds do cause the new pillar data to show up but are not sustainable 1 delete the var cache salt minion directory 1 go to the var cache salt minion git pillar 89bfe4b6a235f685f9c5c0e20fc2c836 as an example directory and do a git-fetch first the first workaround is overkill the second one is interesting though note that the git-fetch doesn t actually update the cached files but apparently is sufficient to make salt know there is a change and update the cache on the next pillar.item call is it possible that the salt git code is missing a needed fetch while processing i ve struggled with similar issues with pygit2-backed pillars on the salt master but figured that the standalone minion may be a better place to troubleshoot this as there are fewer moving parts i have a hunch this could be caused by old pygit2 libgit2 v0.20.x but there s not much i can do about that ### setup my minion conf file # this minion has no master so sad file client local grains roles - mom platform name salt ou kar realm prod ######### git pillars git pillar env base git pillar branch master git pillar provider pygit2 git pillar privkey etc salt pki gitfs global.key git pillar pubkey etc salt pki gitfs global.pub ext pillar - git - master git@github.mycompany.com kar linux-pillar.git - env base - master git@github.mycompany.com brad-thurber salt-mom-pillar.git - env base ######## gitfs formulas fileserver backend - git - roots gitfs provider pygit2 gitfs privkey etc salt pki gitfs global.key gitfs pubkey etc salt pki gitfs global.pub gitfs remotes - git@github.mycompany.com kar linux-formula.git - base master - git@github.mycompany.com kar ntp-tcpcloud-formula.git - base master - git@github.mycompany.com brad-thurber mom-top-formula.git - base master - git@github.mycompany.com kar pkg-formula.git - base master - git@github.mycompany.com kar rhel-formula.git - base master # todo put this back once salt-formula is merged in # - git@github.mycompany.com kar salt-formula.git # - base master - git@github.mycompany.com brad-thurber salt-formula.git - base gitfs-minion-functionality - git@github.mycompany.com kar selinux-formula.git - base master - git@github.mycompany.com kar sudoers-formula.git - base master - git@github.mycompany.com kar sysctl-formula.git - base master - git@github.mycompany.com kar vistara-formula.git - base master this is the repo i m having trouble with but i don t think it is repo-specific - master git@github.mycompany.com brad-thurber salt-mom-pillar.git - env base ### steps to reproduce issue 1 setup pygit2-backed pillar on a standalone minion 1 change the pillar data 1 do a salt-call saltutil.pillar refresh 1 do a salt-call pillar.item salt this is pillar data for the salt-formula in my case 1 notice that the pillar data has not changed ### versions report root@p-saltmom-101 minion salt --versions-report salt version salt 2015.8.8 dependency versions jinja2 2.7.3 m2crypto 0.20.2 mako 0.3.4 pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 may 22 2015 08 34 51 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil 1.4.1 gitdb not installed gitpython not installed ioflo not installed libgit2 0.20.0 libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 0.20.3 python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 6.7 santiago machine x86 64 release 2.6.32-573.22.1.el6.x86 64 system redhat enterprise linux server 6.7 santiago	580
9852918	6769	marcinant	2016-04-28T15:34:24.000Z	[]	manifest.json files are blocked on server	6	### issue summary chrome supports extension in json format described here https://developer.chrome.com extensions manifest i created such file and added to theme unfortunately this file is not hosted returns 404 ### steps to reproduce 1 create manifest.json in theme root 2 update theme and reload see 404 in inspector manifest.json should be supported by ghost as part of theme or generated dynamically by ghost	64
460078	14539	christopherbrix	2016-04-29T11:23:03.000Z	[component: $compile;;frequency: low;;needs: breaking change;;severity: broken expected use;;type: bug]	leading trailing whitespace in directive attributes with scope is lost	10	when i create a directive with an attribute which scope is defined with leading and trailing whitespaces are lost fiddle http://jsfiddle.net christopherbrix 1js02n8w 4 . while it can be circumvented by creating a variable and passing the evaluated variable as the value using attribute variable see the fiddle this looks like a bug to me the fiddle uses angular 1.4.9 but it s still present in the current snapshot v1.5.6-build.4785+sha.707664a	70
1390248	32954	atengler	2016-04-29T17:53:39.000Z	[bug;;fixed pending verification;;high severity;;p3;;platform;;state module]	glusterfs.peered fails with nonetype object is not iterable	8	### description of issue question hi all every time i run glusterfs.peered for my 3 peers for the first time i get this error on first peer ---------- id glusterfs peers function glusterfs.peered name 172.16.20.101 result false comment an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1626 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1492 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states glusterfs.py line 92 in peered if newpeers and name in newpeers or any name in newpeers x for x in newpeers typeerror nonetype object is not iterable started 19 25 36.955326 duration 268.857 ms changes the other two peers passed correctly the problem seems to be that localhost in this case node on 172.16.20.101 is not actually added as new peer and newpeers list in code is empty when i looked into this i also found out that former peers are not removed from the newpeer list in code so glusterfs.peered output is incorrect when adding new peers on node where some peers already existed i ll tie pull-request with this issue in a moment ### setup pillar glusterfs server ---------- peers - 172.16.20.101 - 172.16.20.102 - 172.16.20.103 sls glusterfs peers glusterfs.peered - names server.peers - require - service glusterfs service ### steps to reproduce issue simply create pillar with at least 2 peers defined and run glusterfs.peered ### versions report salt version salt 2015.8.8.2 dependency versions jinja2 2.7.2 m2crypto 0.21.1 mako 0.9.1 pyyaml 3.10 pyzmq 14.0.1 python 2.7.6 default jun 22 2015 17 58 13 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy not installed dateutil 1.5 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist ubuntu-14.04 trusty machine x86 64 release 3.19.0-26-generic system ubuntu-14.04 trusty	335
1390248	33006	lorengordon	2016-05-03T13:35:28.000Z	[execution module;;feature;;platform]	preserve unspecified existing settings when applying network.system state	8	### description of issue question when applying the network.system state any unspecified settings are removed from etc sysconfig network if i just want to set the hostname i do not want to have to know and set every other networking setting ### setup hostname.sls set hostname network.system - hostname foo.example.com - apply hostname true ### steps to reproduce issue note in below output that the line networking ipv6 no was removed salt-call --local state.sls hostname info loading fresh modules for state activity info fetching file from saltenv base skipped latest already in cache u salt hostname.sls info running state set hostname at time 13 30 44.576415 info executing state network.system for set hostname info using existing setting -- setting networking value yes info executing command bin hostname -f in directory root info executing command bin hostname foo.example.com in directory root info executing command sbin service network restart in directory root info network settings --- n+++ n@@ -1 3 +1 2 @@ n networking yes n-networking ipv6 no n-hostname ip-172-31-44-123.ec2.internal n+hostname foo.example.com info completed state set hostname at time 13 30 49.361969 local ---------- id set hostname function network.system result true comment global network settings are uptodate started 13 30 44.576415 duration 4785.554 ms changes ---------- network settings --- +++ @@ -1 3 +1 2 @@ networking yes -networking ipv6 no -hostname ip-172-31-44-123.ec2.internal +hostname foo.example.com summary for local ------------ succeeded 1 changed 1 failed 0 ------------ total states run 1 ### suggested patch git-diff diff --git a salt modules rh ip.py b salt modules rh ip.py index 6132038..60f5d90 100644 --- a salt modules rh ip.py +++ b salt modules rh ip.py @@ -776 7 +776 7 @@ def parse network settings opts current # normalize keys opts dict k.lower v for k v in six.iteritems opts current dict k.lower v for k v in six.iteritems current - result + result current valid config true + config false if enabled not in opts diff --git a salt templates rh ip network.jinja b salt templates rh ip network.jinja index 4006b12..db9880a 100644 --- a salt templates rh ip network.jinja +++ b salt templates rh ip network.jinja @@ -1 4 +1 5 @@ if networking networking networking + endif if networking ipv6 networking ipv6 network ipv6 endif if hostname hostname hostname endif if gateway gateway gateway endif if gatewaydev gatewaydev gatewaydev ### versions report # salt-call --local --versions-report salt version salt 2015.8.5 dependency versions jinja2 2.2.1 m2crypto not installed mako not installed pyyaml 3.10 pyzmq 14.5.0 python 2.6.6 r266 84292 jul 23 2015 15 22 56 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 6.7 final machine x86 64 release 2.6.32-573.22.1.el6.x86 64 system centos 6.7 final	493
1390248	33013	justinta	2016-05-03T15:50:00.000Z	[blocker;;bug;;confirmed;;critical;;p2;;platform;;state module;;zreleased - boron]	pkg.installed fails when version is used	6	### description of issue question when passing in the version option into pkg.installed the package will get installed but the state will fail ### setup i ve done this on both archlinux and centos 5 with the same results centos 5 state yaml srv salt python-devel.sls python-dev pkg.installed - name python26-devel - version 0 2.6.8-3.el5 archlinux state yaml srv salt nginx.sls nginx-install pkg.installed - name nginx - version 1.10.0 ### steps to reproduce issue this can be run via salt state.sls nginx or with salt-call bash salt-call --local state.sls nginx info determining pillar cache info determining pillar cache info loading fresh modules for state activity info fetching file from saltenv base done u nginx.sls info executing command npm --version in directory root info running state nginx at time 15 31 49.381700 info executing state pkg.installed for nginx info executing command pacman -q in directory root info executing command pacman -s --noprogressbar --noconfirm --needed -y nginx 1.10.0 in directory root info executing command pacman -q in directory root error made the following changes nginx changed from absent to 1.10.0-2 info loading fresh modules for state activity info completed state nginx at time 15 31 53.835534 local ---------- id nginx-install function pkg.installed name nginx result false comment the following packages failed to install update nginx 1.10.0 started 15 31 49.381700 duration 4453.834 ms changes ---------- nginx ---------- new 1.10.0-2 old summary for local ------------ succeeded 0 changed 1 failed 1 ------------ total states run 1 ### versions report centos5 yaml salt version salt 2015.8.8.2 dependency versions jinja2 2.5.5 m2crypto 0.21.1 mako not installed pyyaml 3.08 pyzmq 14.5.0 python 2.6.8 unknown mar 15 2016 21 23 59 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.5 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 5.6 final machine x86 64 release 4.5.0-x86 64-linode65 system centos 5.6 final arch yaml salt version salt 2015.8.8.2 dependency versions jinja2 2.8 m2crypto 0.24.0 mako not installed pyyaml 3.11 pyzmq 15.2.0 python 2.7.11 default mar 31 2016 06 18 34 raet 0.6.5 tornado 4.3 zmq 4.1.4 cffi 1.6.0 cherrypy 3.8.0 dateutil 2.4.2 gitdb 0.6.4 gitpython 1.0.1 ioflo 1.5.0 libgit2 not installed libnacl 1.4.4 msgpack-pure not installed msgpack-python 0.4.7 mysql-python 1.2.5 pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python-gnupg 0.3.7 smmap 0.9.0 timelib 0.2.4 system versions dist machine x86 64 release 4.1.3	425
1390248	33033	robnagler	2016-05-03T22:53:03.000Z	[documentation;;execution module;;fixed pending verification;;medium severity;;p2;;platform]	dockerng virtual returned false docker module could not get imported	10	### description of issue question unable to load dockerng in ### setup yaml # srv salt top.sls base - test yaml # srv salt test.sls busybox dockerng.image present ### steps to reproduce issue text debug could not lazyload dockerng.image present info running state busyboxy at time 22 50 37.513960 debug lazyloaded dockerng.image present error state dockerng.image present was not found in sls test reason dockerng virtual returned false dockerng virtual returned false docker module could not get imported debug file var cache salt minion accumulator 140131760742224 does not exist no need to cleanup debug lazyloaded highstate.output ### versions report salt version salt 2016.3.0-462-gfefb279 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.3 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.8 default sep 24 2015 18 26 19 python-gnupg not installed pyyaml 3.11 pyzmq 14.3.1 raet not installed smmap not installed timelib not installed tornado 4.3 zmq 3.2.5 system versions dist fedora 21 twenty one machine x86 64 release 4.1.12-101.fc21.x86 64 system linux version fedora 21 twenty one	201
1390248	33041	anitakrueger	2016-05-04T16:19:03.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p2;;team core]	boto elb.present security groups kwarg is a list - needs documentation	11	### description of issue question when using boto elb.present with the optional parameter security groups the state fails because it queries each of the letters in the security group string and then tries to associate all the false returns error failed to create elb customer-web botoservererror 409 conflict errorresponse xmlns http://elasticloadbalancing.amazonaws.com doc 2012-06-01 error type sender type code invalidconfigurationrequest code message the maximum number of security groups per load balancer has been reached message error requestid blub requestid errorresponse ### setup this is the state i am trying to run customer-web-elb boto elb.present - name customer-web - scheme internet-facing - listeners - elb port 80 instance port 80 elb protocol http - health check target http 80 - attributes cross zone load-balancing enabled true - subnets - subnet-xxxxxxxx - subnet-xxxxxxxx - security groups customer web the same happens if i use the actual security group id like sg-xxxxxxxx instead of its name ### steps to reproduce issue this is the debug log debug lazyloaded boto vpc.get subnet association debug examining subnet id subnet-xxxxxxxx for vpc id debug subnet id subnet-xxxxxxxx is associated with vpc id vpc-xxxxxxxx debug examining subnet id subnet-xxxxxxxx for vpc id debug subnet id subnet-xxxxxxxx is associated with vpc id vpc-xxxxxxxx debug lazyloaded boto secgroup.convert to group ids debug security group contents customer web pre-conversion debug calling boto secgroup.get group id for groupname c debug getting group for c in vpc id vpc-xxxxxxxx debug groupname c has group id false debug calling boto secgroup.get group id for groupname u debug getting group for u in vpc id vpc-xxxxxxxx debug groupname u has group id false debug calling boto secgroup.get group id for groupname s debug getting group for s in vpc id vpc-xxxxxxxx debug groupname s has group id false debug calling boto secgroup.get group id for groupname t debug getting group for t in vpc id vpc-xxxxxxxx debug groupname t has group id false debug calling boto secgroup.get group id for groupname o debug getting group for o in vpc id vpc-xxxxxxxx debug groupname o has group id false debug calling boto secgroup.get group id for groupname m debug getting group for m in vpc id vpc-xxxxxxxx debug groupname m has group id false debug calling boto secgroup.get group id for groupname e debug getting group for e in vpc id vpc-xxxxxxxx debug groupname e has group id false debug calling boto secgroup.get group id for groupname r debug getting group for r in vpc id vpc-xxxxxxxx debug groupname r has group id false debug calling boto secgroup.get group id for groupname debug getting group for in vpc id vpc-xxxxxxxx debug groupname has group id false debug calling boto secgroup.get group id for groupname w debug getting group for w in vpc id vpc-xxxxxxxx debug groupname w has group id false debug calling boto secgroup.get group id for groupname e debug getting group for e in vpc id vpc-xxxxxxxx debug groupname e has group id false debug calling boto secgroup.get group id for groupname b debug getting group for b in vpc id vpc-xxxxxxxx debug groupname b has group id false debug security group contents false false false false false false false false false false false false post-conversion debug botoservererror 400 bad-request ### versions report salt version salt 2015.8.8.2 dependency versions jinja2 2.6 m2crypto 0.21.1 mako not installed pyyaml 3.10 pyzmq 14.0.1 python 2.7.3 default apr 10 2013 06 20 15 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy not installed dateutil 1.5 gitdb not installed gitpython 0.1.6 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist ubuntu-12.04 precise machine x86 64 release 3.2.0-53-generic system ubuntu-12.04 precise	631
1390248	33073	robnagler	2016-05-05T17:27:59.000Z	[bug;;core;;fixed pending verification;;high severity;;p3;;renderers]	typeerror unhashable type dict	4	### description of issue question this might be an issue between salt-master on fedora 21 and salt-minion on fedora 23 happens with state.apply but also test.ping bash salt v3 test.ping full debug trace https://gist.github.com robnagler f07954d2f95f48064dc756b509c81fce text this often happens when trying to read a file not in binary mode.please open an issue and include the following error unhashable type dict error an un-handled exception was caught by salt s global exceptionhandler typeerror unhashable type dict traceback most recent call last file home vagrant .pyenv versions 2.7.10 bin salt line 6 in module exec compile open file .read file exec file home vagrant src robnagler salt scripts salt line 10 in module salt main file home vagrant src robnagler salt salt scripts.py line 470 in salt main client.run file home vagrant src robnagler salt salt cli salt.py line 158 in run for full ret in cmd func kwargs file home vagrant src robnagler salt salt client init .py line 622 in cmd cli kwargs file home vagrant src robnagler salt salt client init .py line 1304 in get cli event returns connected minions salt.utils.minions.ckminions self.opts .connected ids file home vagrant src robnagler salt salt utils minions.py line 581 in connected ids grains self.serial.load fp .get grains file home vagrant src robnagler salt salt payload.py line 160 in load return self.loads data file home vagrant src robnagler salt salt payload.py line 136 in loads ret msgpack.loads msg use list true encoding encoding file msgpack unpacker.pyx line 139 in msgpack unpacker.unpackb msgpack unpacker.cpp 139 typeerror unhashable type dict ### setup two vms one with fedora 21 master and one with fedora 23 both installed with bootstrap git develop ### steps to reproduce issue on master salt test.ping ### versions report master salt version salt 2016.3.0-488-g40b6dfa dependency versions cffi not installed cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.10 default nov 14 2015 01 41 47 python-gnupg not installed pyyaml 3.11 pyzmq 15.0.0 raet not installed smmap not installed timelib not installed tornado 4.3 zmq 4.1.2 system versions dist fedora 21 twenty one machine x86 64 release 4.1.12-101.fc21.x86 64 system linux version fedora 21 twenty one minion salt version salt 2016.3.0-501-g0ebeb58 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.11 default mar 31 2016 20 46 51 python-gnupg not installed pyyaml 3.11 pyzmq 14.7.0 raet not installed smmap not installed timelib not installed tornado 4.3 zmq 4.1.2 system versions dist fedora 23 twenty three machine x86 64 release 4.2.3-300.fc23.x86 64 system linux version fedora 23 twenty three	494
1390248	33074	robnagler	2016-05-05T17:31:30.000Z	[bug;;core;;fixed pending verification;;high severity;;p2]	critical error in msgpack exposes pillar data	7	### description of issue question when a critical error in msgpack is dumped to the log #33073 it writes pillar information such as text db pass oagb7jzcbbhjc4h full output is here https://gist.github.com robnagler f07954d2f95f48064dc756b509c81fce ### setup not quite sure ### steps to reproduce issue cause an exception in msgpack e.g #33073 ### versions report master text salt version salt 2016.3.0-488-g40b6dfa dependency versions cffi not installed cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.10 default nov 14 2015 01 41 47 python-gnupg not installed pyyaml 3.11 pyzmq 15.0.0 raet not installed smmap not installed timelib not installed tornado 4.3 zmq 4.1.2 system versions dist fedora 21 twenty one machine x86 64 release 4.1.12-101.fc21.x86 64 system linux version fedora 21 twenty one minion text salt version salt 2016.3.0-501-g0ebeb58 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.11 default mar 31 2016 20 46 51 python-gnupg not installed pyyaml 3.11 pyzmq 14.7.0 raet not installed smmap not installed timelib not installed tornado 4.3 zmq 4.1.2 system versions dist fedora 23 twenty three machine x86 64 release 4.2.3-300.fc23.x86 64 system linux version fedora 23 twenty three	262
1390248	33118	saltuser	2016-05-09T12:25:01.000Z	[bug;;documentation;;execution module;;fixed pending verification;;platform]	file.replace not working correctly on newer minions	7	file.replace doesn t work as expected on newer minions beginning salt cmd.run cat tmp test.txt minion1 firstline here secondline here minion2 firstline here secondline here minion3 firstline here secondline here minion4 firstline here secondline here minion5 firstline here secondline here replace some text without ignorecase salt file.replace tmp test.txt pattern . firstline here there . repl firstline there minion5 --- +++ @@ -1 2 +1 2 @@ -firstline here +firstline there secondline here minion3 --- +++ @@ -1 2 +1 2 @@ -firstline here +firstline there secondline here minion1 --- +++ @@ -1 2 +1 2 @@ -firstline here +firstline there secondline here minion2 --- +++ @@ -1 2 +1 2 @@ -firstline here +firstline there secondline here minion4 --- +++ @@ -1 2 +1 2 @@ -firstline here +firstline there secondline here salt cmd.run cat tmp test.txt minion5 firstline there secondline here minion1 firstline there secondline here minion2 firstline there secondline here minion3 firstline there secondline here minion4 firstline there secondline here replace some text with ignorecase just trying revert previous change salt file.replace tmp test.txt pattern . firstline here there . repl firstline here flags ignorecase minion2 - 2015.5.8 minion1 - 2015.5.3 --- +++ @@ -1 2 +1 2 @@ -firstline there +firstline here secondline here minion3 - 2014.1.13 --- +++ @@ -1 2 +1 2 @@ -firstline there +firstline here secondline here minion4 - 2015.5.8 minion5 - 2015.8.8.2 salt cmd.run cat tmp test.txt minion2 firstline there secondline here minion5 firstline there secondline here minion3 firstline here secondline here minion1 firstline here secondline here minion4 firstline there secondline here salt versions salt test.versions report minion3 salt 2014.1.13 python 2.7.9 default mar 1 2015 12 57 24 jinja2 2.7.3 m2crypto 0.21.1 msgpack-python 0.4.2 msgpack-pure not installed pycrypto 2.6.1 pyyaml 3.11 pyzmq 14.4.0 zmq 4.0.5 minion2 salt 2015.5.8 python 2.6.6 r266 84292 jul 23 2015 15 22 56 jinja2 unknown m2crypto 0.20.2 msgpack-python 0.4.6 msgpack-pure not installed pycrypto 2.0.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 3.2.5 mako not installed tornado not installed timelib not installed dateutil not installed minion4 salt 2015.5.8 python 2.7.5 default nov 20 2015 02 00 19 jinja2 2.7.2 m2crypto 0.21.1 msgpack-python 0.4.7 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 14.3.1 raet not installed zmq 3.2.5 mako not installed tornado not installed timelib not installed dateutil not installed minion1 salt 2015.5.3 python 2.7.3 default mar 13 2014 11 03 55 jinja2 2.6 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6 libnacl not installed pyyaml 3.10 ioflo not installed pyzmq 13.1.0 raet not installed zmq 3.2.3 mako 0.7.0 tornado not installed debian source package 2015.5.3+ds-1 bpo70+2 minion5 salt version salt 2015.8.8.2 dependency versions jinja2 2.5.5 m2crypto not installed mako not installed pyyaml 3.08 pyzmq 14.5.0 python 2.6.8 unknown aug 19 2015 14 55 21 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.5 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist redhat 5.11 final machine x86 64 release 2.6.18-409.el5 system centos 5.11 final master salt --versions-report salt 2015.5.3 python 2.7.9 default mar 1 2015 12 57 24 jinja2 2.7.3 m2crypto 0.21.1 msgpack-python 0.1.10 msgpack-pure not installed pycrypto 2.6.1 libnacl not installed pyyaml 3.11 ioflo not installed pyzmq 14.4.0 raet not installed zmq 4.0.5 mako 1.0.0 tornado not installed debian source package 2015.5.3+ds-1 bpo70+2	593
9852918	6826	kevinansfield	2016-05-13T13:20:20.000Z	[admin-client;;blocker;;bug]	sticky invalid state for twitter facebook inputs	7	### issue summary the invalid state of the twitter facebook inputs is sticky if a valid url is entered which doesn t need the auto-rewrite ### steps to reproduce 1 visit the settings page 2 enter https://twitter.com testing into the facebook input 3 click out of the input you should see an error message 4 click back into the input and change the text to https://www.facebook.com testing 5 click out of the input you ll still see the error message even though it s a valid url the bug only appears if the value entered in step 4 exactly matches the url format that we expect if the value needs re-writing in any way then the validation passes this occurs for the twitter and facebook inputs on both the settings and team user pages	134
1390248	33238	clinta	2016-05-13T15:03:30.000Z	[bug;;execution module;;fixed pending verification;;p4;;platform]	x509 csr fails if the csr does not contain any extensions	11	when attempting to use the x509 module to sign a csr which does not have any requested extensions the module fails traceback most recent call last file usr lib python2.7 dist-packages salt cli caller.py line 196 in call ret return func args kwargs file usr lib python2.7 dist-packages salt modules x509.py line 1146 in create certificate csrexts read csr kwargs csr x509v3 extensions file usr lib python2.7 dist-packages salt modules x509.py line 509 in read csr ret x509v3 extensions get csr extensions csr file usr lib python2.7 dist-packages salt modules x509.py line 162 in get csr extensions csrexts csryaml certificate request data requested extensions typeerror nonetype object has no attribute getitem	111
507775	18334	nik9000	2016-05-13T17:41:43.000Z	[:plugin mapper size;;enhancement;;v5.0.0-alpha5]	size doesn t support doc values	6	the documentation for the mapper-size plugin claims you can use size in sorts aggregations and in scripts but i don t imagine any of those work because it doesn t support doc values is it intentional that it doesn t	40
507775	18362	clintongormley	2016-05-15T14:19:24.000Z	[:analysis;;adoptme;;enhancement;;low hanging fruit]	add regex flags to pattern-replace character filter	7	in the pattern tokenizer we allow setting regex flags via the flags parameter the same support should be added to the pattern replace character filter	25
1390248	33266	timandes	2016-05-16T11:11:28.000Z	[bug;;fixed pending verification;;grains;;medium severity;;p4;;platform]	method grains.items returns unexpected manufacturer information	6	### description of issue question when calling grains.items on my servers i always got exact string describing manufacturer such as dell inc or hp . but on my new servers grains.items returns string with comments like manufacturer # smbios implementations newer than version 2.7 are not # fully supported by this version of dmidecode dell inc should saltstack processes this comments automatically ### setup # uname -a linux xxx 2.6.32-220.7.1.el6.x86 64 #1 smp wed mar 7 00 52 02 gmt 2012 x86 64 x86 64 x86 64 gnu linux ### steps to reproduce issue # salt xxx grains.items 2 1 grep manufacturer -a5 -b2 machine id xxx manufacturer # smbios implementations newer than version 2.7 are not # fully supported by this version of dmidecode dell inc master xxx ### versions report # salt-minion --versions salt version salt 2015.8.8.2 dependency versions jinja2 unknown m2crypto not installed mako not installed pyyaml 3.11 pyzmq 14.5.0 python 2.6.6 r266 84292 jul 23 2015 15 22 56 raet not installed tornado 4.2.1 zmq 4.0.5 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist centos 6.2 final machine x86 64 release 2.6.32-220.7.1.el6.x86 64 system centos 6.2 final	235
1390248	33276	sjmh	2016-05-16T17:05:01.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p3;;team core]	minion id caching has no documentation	6	### description of issue question the minion id caching option has no documentation it s not documented in the docs nor in the configuration examples not sure what else to say	31
1390248	33298	lorengordon	2016-05-17T12:51:55.000Z	[bug;;execution module;;high severity;;p4;;platform;;windows]	windows pkg.install returns failed for msiexec instmsi exit-code 3010 error success reboot required	13	### description of issue question when using pkg.install on windows with a msiexec or instmsi installer an exit-code of 3010 https://msdn.microsoft.com en-us library windows desktop aa376931 v vs.85 .aspx error success reboot required is technically a successful install but pkg.install returns it as a failure error command c salt var cache salt minion extrn files base xxxx 4.6.01055 ndp461-kb3102436-x86-x64-allos-enu.exe q norestart failed with return-code 3010 ### versions report ps c users administrator c salt salt-call.bat --local --versions-report salt version salt 2015.8.5 dependency versions jinja2 2.7.3 m2crypto not installed mako not installed pyyaml 3.11 pyzmq 14.7.0 python 2.7.11 v2.7.11 6d1b6a68f775 dec 5 2015 20 40 30 msc v.1500 64 bit amd64 raet not installed tornado 4.2.1 zmq 4.1.2 cffi not installed cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg 0.3.7 smmap not installed timelib not installed system versions dist machine amd64 release 2012serverr2 system 2012serverr2 6.3.9600 multiprocessor free	176
1390248	33313	morganwillcock	2016-05-17T17:24:00.000Z	[bug;;documentation;;fixed pending verification;;high severity;;p3;;platform;;team core;;windows]	pkg.py pkgs parameter documented as not supported on windows	9	the pkgs parameter of pkg.installed and pkg.latest are documented as not supported on windows https://github.com saltstack salt blob 22c433184dbfdaa52846a7b7f64c43c106037771 salt states pkg.py#l852-l857 https://github.com saltstack salt blob 22c433184dbfdaa52846a7b7f64c43c106037771 salt states pkg.py#l1410-l1416 ...but then i realised i was already using them and they seem to work without any problems install vcpp redist pkg.installed - pkgs - microsoft vcpp 2005 sp1 redist x64 - microsoft vcpp 2005 sp1 redist x86 - microsoft vcpp 2008 redist x64 - microsoft vcpp 2008 redist x86 install flash-player pkg.latest - pkgs - adobe flash-player activex - adobe flash-player plugin tested on 2015.8.8.2	95
1390248	33323	terminalmage	2016-05-17T20:28:25.000Z	[bug;;execution module;;p4;;platform;;team core]	overeager globbing in systemd.py for sysv service detection	8	salt.modules.systemd sysv enabled uses a glob to check for a sysvinit symlink to see if a service is enabled however this globbing causes anacron to be matched when cron is checked the relevant code is here https://github.com saltstack salt blob 1b04f0d salt modules systemd.py#l276 . fix incoming	47
1390248	33389	daveqb	2016-05-20T07:02:32.000Z	[bug;;core;;fixed pending verification;;high severity;;p4;;pillar;;team core]	too many hostnames in pillar	5	### if i had one more minion name to a single line patter in the pillar top.sls file i get an error saying could not found expected line 80 ### setup this woks tst-www-apm-edu-au02-ap-southeast-2b.think.vpc or tst-www-ancb-edu-au02-ap-southeast-2b.think.vpc or tst-www-billyblue-edu-au02-ap-southeast-2b.think.vpc or tst-www-catc-edu-au02-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-www-jni-edu-au02-ap-southeast-2b.think.vpc or tst-www-ssnt-edu-au02-ap-southeast-2b.think.vpc or tst-www-torrens-edu-au02-ap-southeast-2b.think.vpc or tst-www-think-edu-au02-ap-southeast-2b.think.vpc or tst-www-williamblue-edu-au02-ap-southeast-2b.think.vpc or tst-acnt.edu.au02-ap-southeast-2b.think.vpc or tst-ancb.edu.au02-ap-southeast-2b.think.vpc or tst-billyblue.edu.au-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-ssnt.edu.au02-ap-southeast-2b.think.vpc or tst-staff-test-think-edu-au01-ap-southeast-2b.think.vpc or tst-williamblue.edu.au-ap-southeast-2b.think.vpc or tst-b2cwp01-ap-southeast-2b.think.vpc or tst-frontier04-ap-southeast-2b.think.vpc or tst-phidu-torrens-edu-au-ap-southeast-2b.think.vpc - current this gives the error tst-www-apm-edu-au02-ap-southeast-2b.think.vpc or tst-www-ancb-edu-au02-ap-southeast-2b.think.vpc or tst-www-billyblue-edu-au02-ap-southeast-2b.think.vpc or tst-www-catc-edu-au02-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-www-jni-edu-au02-ap-southeast-2b.think.vpc or tst-www-ssnt-edu-au02-ap-southeast-2b.think.vpc or tst-www-torrens-edu-au02-ap-southeast-2b.think.vpc or tst-www-think-edu-au02-ap-southeast-2b.think.vpc or tst-www-williamblue-edu-au02-ap-southeast-2b.think.vpc or tst-acnt.edu.au02-ap-southeast-2b.think.vpc or tst-ancb.edu.au02-ap-southeast-2b.think.vpc or tst-billyblue.edu.au-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-ssnt.edu.au02-ap-southeast-2b.think.vpc or tst-staff-test-think-edu-au01-ap-southeast-2b.think.vpc or tst-williamblue.edu.au-ap-southeast-2b.think.vpc or tst-b2cwp01-ap-southeast-2b.think.vpc or tst-frontier04-ap-southeast-2b.think.vpc or tst-phidu-torrens-edu-au-ap-southeast-2b.think.vpc or tst-campaigns01-ap-southeast-2b.think.vpc - current ### steps to reproduce issue full error errors - rendering primary top file failed render error could not found expected line 80 --- ... - campaigns tst-deltawp - s3cmd - deltawp # current b2c test servers tst-www-apm-edu-au02-ap-southeast-2b.think.vpc or tst-www-ancb-edu-au02-ap-southeast-2b.think.vpc or tst-www-billyblue-edu-au02-ap-southeast-2b.think.vpc or tst-www-catc-edu-au02-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-www-jni-edu-au02-ap-southeast-2b.think.vpc or tst-www-ssnt-edu-au02-ap-southeast-2b.think.vpc or tst-www-torrens-edu-au02-ap-southeast-2b.think.vpc or tst-www-think-edu-au02-ap-southeast-2b.think.vpc or tst-www-williamblue-edu-au02-ap-southeast-2b.think.vpc or tst-acnt.edu.au02-ap-southeast-2b.think.vpc or tst-ancb.edu.au02-ap-southeast-2b.think.vpc or tst-billyblue.edu.au-ap-southeast-2b.think.vpc or tst-m-billyblue-edu-au-ap-southeast-2b.think.vpc or tst-ssnt.edu.au02-ap-southeast-2b.think.vpc or tst-staff-test-think-edu-au01-ap-southeast-2b.think.vpc or tst-williamblue.edu.au-ap-southeast-2b.think.vpc or tst-b2cwp01-ap-southeast-2b.think.vpc or tst-frontier04-ap-southeast-2b.think.vpc or tst-phidu-torrens-edu-au-ap-southeast-2b.think.vpc or tst-campaign01-ap-southeast-2b.think.vpc ### versions report salt version salt 2015.8.8.2 dependency versions jinja2 2.6 m2crypto 0.21.1 mako not installed pyyaml 3.10 pyzmq 14.0.1 python 2.7.3 default dec 18 2014 19 10 20 raet not installed tornado 4.2.1 zmq 4.0.4 cffi not installed cherrypy 3.2.2 dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed libgit2 not installed libnacl not installed msgpack-pure not installed msgpack-python 0.3.0 mysql-python 1.2.3 pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap 0.8.2 timelib not installed system versions dist ubuntu-12.04 precise machine x86 64 release 3.2.0-63-virtual system ubuntu-12.04 precise	291
1644196	16513	jeffreysarnoff	2016-05-22T19:42:35.000Z	[rationals]	rational intn pi are poor approximations to pi	8	these values are better approximations to pi rational int32 pi int32 1068966896 int32 340262731 rational int64 pi int64 2646693125139304345 int64 842468587426513207 rational int128 pi int128 60728338969805745700507212595448411044 int128 19330430665609526556707216376512714945 setprecision bigfloat 500 q32pi int32 1068966896 int32 340262731 q64pi int64 2646693125139304345 int64 842468587426513207 q128pi int128 60728338969805745700507212595448411044 int128 19330430665609526556707216376512714945 float64 bigfloat pi -q32 float64 bigfloat pi -rational int32 pi # 3.1e-18 1.2e-16 float64 bigfloat pi -q64 float64 bigfloat pi -rational int64 pi # 1.4e-38 1.2e-16 float64 bigfloat pi -q128 # -6.2e-76	78
507775	18529	abeyad	2016-05-23T21:35:31.000Z	[:snapshot/restore;;enhancement;;low hanging fruit;;v5.0.0-alpha5]	remove multiple variations of deleting blobs from blobcontainer interface	9	currently in the blobcontainer interface there are three types of delete blob methods 1 void deleteblob string blobname 2 void deleteblobs collection string blobnames 3 void deleteblobsbyprefix string blobnameprefix these methods are again redundant and present confusing semantics having just one deleteblob string blobname is the only method that can be truly atomic can not atomically delete a collection of blobs and it avoids complex exception-handling what do we do if some of the blobs exist but not others .	80
507775	18530	abeyad	2016-05-23T22:11:15.000Z	[:snapshot/restore;;enhancement;;low hanging fruit;;v5.0.0-alpha5]	blobcontainer s deleteblob method should not be lenient	8	currently several implementations of blobcontainer#deleteblob string blobname are lenient - if the blob does not exist it silently does nothing instead we should throw an ioexception if the blob does not exist this is in accordance with blobcontainer s contract as stated in https://github.com elastic elasticsearch pull 18157 current implementations that do not conform and silently do nothing if the blob does not exist 1 fsblobcontainer 2 hdfsblobcontainer 3 s3blobcontainer 4 azureblobcontainer	72
9852918	6893	erisds	2016-05-25T17:15:24.000Z	[bug;;fix wanted;;server]	urlfor nav does the wrong thing when passed a port as a relative-url	13	if you setup a navigationitem with a url that s just a port-number on the same domain as configured in config.js urlfor treats this like a relative-path and starts adding slashes where there shouldn t be one ### steps to reproduce 1 configure the url in config.js to be a url that doesn t have a port-number it doesn t have to be right wink e.g http://ghost.dev 2 in navigation add an item which points at a port-number on the same url e.g http://ghost.dev 3000 3 save the navigationitem everything will look fine in the admin panel 4 open your theme view the source and see the url is output with an extra slash in the middle as well as at the end e.g http://ghost.dev 3000 this is a bug with the logic here https://github.com tryghost ghost blob c549914ae867cb3f185b159e0a11ac713e0218c3 core server config url.js#l204 in the case that there s a port-number which isn t included in config.js this is effectively pointing at an external site ### technical details - ghost version 0.8	172
1390248	33532	routhinator	2016-05-26T11:03:19.000Z	[blocker;;core;;fixed pending verification;;team core;;zreleased - boron]	2016.3 breaks existing formulas that work on 2015.8	8	may 26 06 57 29 db.example.com salt-minion 13276 critical rendering sls base firewalld.services failed while parsing a flow mapping may 26 06 57 29 db.example.com salt-minion 13276 in unicode-string line 43 column 18 may 26 06 57 29 db.example.com salt-minion 13276 service short ums-listener descr ... may 26 06 57 29 db.example.com salt-minion 13276 may 26 06 57 29 db.example.com salt-minion 13276 expected or but got scalar may 26 06 57 29 db.example.com salt-minion 13276 in unicode-string line 43 column 83 may 26 06 57 29 db.example.com salt-minion 13276 ... ption universal media server s listening port on port 5001 tc ... may 26 06 57 29 db.example.com salt-minion 13276	110
1390248	33554	jfindlay	2016-05-26T17:14:08.000Z	[blocker;;bug;;core;;fixed pending verification;;medium severity;;p3;;team core;;zreleased - boron]	local cache missing directories while running test-suite	7	### description of issue question while running the test-suite i m seeing a few of these foreach test it seems to be about one error per job ... 11 05 53 273 salt.loaded.int.returner.local cache 273 error failed to write minion list minion to job cache file private tmp salt-tests-tmpdir syndic-master-root cache jobs c0 66f130f1835df05186f585235b88a8 .minions.minion.p errno 2 no such file or directory private tmp salt-tests-tmpdir syndic-master-root cache jobs c0 66f130f1835df05186f585235b88a8 .minions.minion.p 11 05 53 273 salt.loaded.int.returner.local cache 273 error failed to write minion list minion to job cache file private tmp salt-tests-tmpdir syndic-master-root cache jobs 44 19dcf9f68fdcfa32d26e414eedbb97 .minions.minion.p errno 2 no such file or directory private tmp salt-tests-tmpdir syndic-master-root cache jobs 44 19dcf9f68fdcfa32d26e414eedbb97 .minions.minion.p ... ### setup create a vm to run the test-suite ### steps to reproduce issue sudo salt-jenkins-build --output-columns 160 --vm-source pre-deps --vm-host dev-imac --vm-host-user saltdev --parallels-deploy --test-prep-sls git.salt --test-git-commit 3a95f8a977a5f310be23d64bc432d69bc371844e --test-default-command --ssh-username root --ssh-private-address 2016.3 @jtand may have some more info ### versions report 3a95f8a977a5f310be23d64bc432d69bc371844e is a few commits after 2016.3.0	165
1390248	33627	guettli	2016-05-31T08:04:41.000Z	[core;;documentation;;feature;;fixed pending verification]	docs tcptraceroute shows where the blocking firewall is	8	### description of issue question up to now you advice people to use netcat to check if the minion can reach the master https://docs.saltstack.com en develop topics troubleshooting minion.html#what-ports-does-the-minion-need-open this works and gives you the boolean result connection possible vs connection not possible there is a different tool which shows you where the blocking firewall is tcptraceroute i the past this tool helped me a lot since i can see if the firewall is more local or more on the remote side	82
507775	18652	randhirkr	2016-05-31T10:52:06.000Z	[:plugin discovery ec2;;bug;;pioneer program]	aws iam role not working with elasticsearch 5.0.0-alpha2 but works with 2.3 version	13	-- github is reserved for bug reports and feature requests the best place to ask a general question is at the elastic discourse forums at https://discuss.elastic.co if you are in fact posting a bug report or a feature request please include one and only one of the below blocks in your new issue -- -- if you are filing a bug report please remove the below feature request block and provide responses forall of the below items -- elasticsearch version 5.0.0-alpha2 jvm version 1.8.0 91 1.8.0 91-b14 os version redhat enterprise linux 7.2 3.10.0-327.18.2.el7.x86 64 description of the problem including expected versus actual behavior i am trying to use aws iam role with elasticsearch 5.0.0-alpha2 and ec2 discovery plug-in but it does not seem to be working and i am getting below error exception while retrieving instance list from aws api authorization header or parameters are not formatted correctly service amazonec2 status code 401 error-code authfailure i am using below configuration with jdk8 cluster.name test-cluster cloud.aws.region us-west-2 cloud.aws.ec2.region us-west-2 cloud.aws.ec2.protocol http discovery.type ec2 #bootstrap.mlockall true node.master true node.data false node.name hostname -master discovery.zen.minimum master nodes 1 network.host ec2 privateip discovery.ec2.any group true discovery.ec2.groups sg-9d856tfe and below is iam role permission that i have configured with elasticsearch instance version 2012-10-17 statement action ec2 describe effect allow resource however same configuration works fine with with elasticsearch 2.3 version has anyone faced the same issue with the latest elasticsearch version 5.0.0-alpha2 also today i enabled the debug-mode of aws call and i could notice see below that its loading credentials from staticcredentialsprovider - its wrong behavior as access and secret-key is absent in the config elasticsearch.yml file so ideally it should load credential from instanceprofilecredentialsprovider . debug com.amazonaws.auth.awscredentialsproviderchain loading credentials from com.amazonaws.internal.staticcredentialsprovider@40bf7b26 steps to reproduce 1 start elasticsearch master data node with the above mentioned configuration provide logs if relevant com.amazonaws.amazonserviceexception authorization header or parameters are not formatted correctly service amazonec2 status code 401 error-code authfailure request id at com.amazonaws.http.amazonhttpclient.handleerrorresponse amazonhttpclient.java 1239 at com.amazonaws.http.amazonhttpclient.executeonerequest amazonhttpclient.java 823 at com.amazonaws.http.amazonhttpclient.executehelper amazonhttpclient.java 506 at com.amazonaws.http.amazonhttpclient.execute amazonhttpclient.java 318 at com.amazonaws.services.ec2.amazonec2client.invoke amazonec2client.java 11901 at com.amazonaws.services.ec2.amazonec2client.describeinstances amazonec2client.java 5940 at org.elasticsearch.discovery.ec2.awsec2unicasthostsprovider.fetchdynamicnodes awsec2unicasthostsprovider.java 117 at org.elasticsearch.discovery.ec2.awsec2unicasthostsprovider disconodescache.refresh awsec2unicasthostsprovider.java 232 at org.elasticsearch.discovery.ec2.awsec2unicasthostsprovider disconodescache.refresh awsec2unicasthostsprovider.java 217 at org.elasticsearch.common.util.singleobjectcache.getorrefresh singleobjectcache.java 54 at org.elasticsearch.discovery.ec2.awsec2unicasthostsprovider.builddynamicnodes awsec2unicasthostsprovider.java 103 at org.elasticsearch.discovery.zen.ping.unicast.unicastzenping.sendpings unicastzenping.java 344 at org.elasticsearch.discovery.zen.ping.unicast.unicastzenping.ping unicastzenping.java 249 at org.elasticsearch.discovery.zen.ping.zenpingservice.ping zenpingservice.java 106 at org.elasticsearch.discovery.zen.ping.zenpingservice.pingandwait zenpingservice.java 84 at org.elasticsearch.discovery.zen.zendiscovery.findmaster zendiscovery.java 845 at org.elasticsearch.discovery.zen.zendiscovery.innerjoincluster zendiscovery.java 376 at org.elasticsearch.discovery.zen.zendiscovery.access 4500 zendiscovery.java 89 at org.elasticsearch.discovery.zen.zendiscovery jointhreadcontrol 1.run zendiscovery.java 1166 at org.elasticsearch.common.util.concurrent.threadcontext contextpreservingrunnable.run threadcontext.java 392 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745	424
1644196	16712	c42f	2016-06-02T01:35:27.000Z	[]	expr meta inline sometimes ignored in @generated	7	while improving type-inference in fixedsizearrays i ve found that expr meta inline is sometimes ignored inside @generated functions in 0.5 here s a somewhat minimal testcase julia immutable vec x int y int end @generated function should be inlined a quote expr meta inline # a this nothing appears from an elided bounds check in fixed size # array codegen removing it explicitly fixes the problem which gives a # partial workaround nothing # b @inbounds not required here but was needed in the original code # before reduction removing it fixes the problem @inbounds elements a.x a.y vec elements... end end @inline function correctly inlined a nothing @inbounds elements a.x a.y vec elements... end foo1 a should be inlined a foo2 a correctly inlined a println ncode for should be inlined @code native foo1 vec 1 2 println ncode for correctly inlined @code native foo2 vec 1 2 for a the nothing may be replaced with various other things and the problem still occurs for example types eg int though some values like the empty tuple or a literal integer don t cause an issue i m not quite sure whether the compiler is always meant to believe the inline metadata	202
1644196	16720	quinnj	2016-06-02T16:42:47.000Z	[regression]	line number regression within modules	5	a.jl julia module a function broken x 1 some func end end # module julia 0.4 julia julia include users jacobquinn a.jl error loaderror syntax unexpected end in include at users jacobquinn julia4 lib julia sys.dylib in include from node1 at users jacobquinn julia4 lib julia sys.dylib while loading users jacobquinn a.jl in expression starting on line 7 current master julia julia include users jacobquinn a.jl error loaderror syntax unexpected end in include from node1 string at . loading.jl 426 in eval module any at . boot.jl 225 in macro expansion at . repl.jl 92 inlined in base.repl.##1#2 base.repl.replbackend at . event.jl 46 while loading users jacobquinn a.jl in expression starting on line 1 it s makes module dev kinda painful	121
9852918	6932	aileencgn	2016-06-06T13:57:29.000Z	[]	default sort order for posts needs to consider status scheduled	10	the orderdefaultoptions for posts model return a sort order which needs to be updated in regards of the new scheduling feature #6861 . status quo the order is 1 status asc 2 published at desc 3 updated at desc 4 id desc . this worked out well so far because we want to have posts with status draft before posts with status published and the usual alphabetical ascending order d before p works fine now as we expanded the posts to also have a status scheduled these posts would always be last in order if we d remain the regular order for usability reasons scheduled posts should be listed first then draft and finally published . --- i suggest to return a custom sorting function if needed which returns the order like this 1 status 1 scheduled 2 draft 3 published 2 published at desc 3 updated at desc 4 id desc the comparison between a draft and published can stay the same as the alphabetical order is valid here anytime a scheduled post is compared with a different status it should get the higher priority in the order published at updated at and id will remain unaffected --- reason why we have to do this the api endpoint is paginated so we need the server to return the posts in the right order by default or have some way to instruct the server to return posts in the order that we want thanks @kevinansfield	245
1644196	16793	vtjnash	2016-06-06T20:52:45.000Z	[lowering]	bad lowering of abstract definitions	5	julia julia base.test.@test abstract qux2 assertion failed jl is symbol name function eval file users jameson julia src interpreter.c line 291	21
1390248	33834	aboe76	2016-06-07T20:14:18.000Z	[bug;;confirmed;;core;;fixed pending verification;;p1;;team core]	salt develop attributeerror module object has no attribute takewhile	9	### description of issue question salt state.apply gives the following error traceback most recent call last file usr bin salt-call line 11 in module salt call file usr lib python2.7 site-packages salt scripts.py line 349 in salt call client.run file usr lib python2.7 site-packages salt cli call.py line 48 in run caller salt.cli.caller.caller.factory self.config file usr lib python2.7 site-packages salt cli caller.py line 79 in factory return zeromqcaller opts kwargs file usr lib python2.7 site-packages salt cli caller.py line 274 in init super zeromqcaller self . init opts file usr lib python2.7 site-packages salt cli caller.py line 102 in init self.minion salt.minion.sminion opts file usr lib python2.7 site-packages salt minion.py line 594 in init opts grains salt.loader.grains opts file usr lib python2.7 site-packages salt loader.py line 702 in grains ret fun file usr lib python2.7 site-packages salt grains core.py line 1756 in dns resolv salt.utils.dns.parse resolv file usr lib python2.7 site-packages salt utils dns.py line 32 in parse resolv search list itertools.takewhile attributeerror module object has no attribute takewhile ### setup salt version 2016.3.0rc3.2229.gbc0f902-1 ### steps to reproduce issue build saltstack from develop branch run salt-call sys.doc or salt-call state.apply ### versions report can t run version report same message running develop from commit 788557851937bba762dd7efbb85eec2ea11d23e5	205
9852918	6948	erisds	2016-06-09T06:41:50.000Z	[bug;;themes]	error when fetching non-existent asset as first request after restart	10	if you start ghost and the first thing that you try to request is a non existent asset e.g something like content images i-dont-exist.jpg you will get an error error cannot find module hbs at function.module resolvefilename module.js 338 15 at function.module load module.js 280 25 at module.require module.js 364 17 at require module.js 380 17 at new view users hannah ghost ghost node-modules express lib view.js 78 30 at eventemitter.render users hannah ghost ghost node-modules express lib application.js 569 12 at serverresponse.render users hannah ghost ghost node-modules express lib response.js 961 7 at rendererrorint users hannah ghost ghost core server errors index.js 323 36 ... see this gist https://gist.github.com erisds 0ce509aa1fd07f5c1fa12079b200e1d8 for the full stack-trace in order to see this error you will need to be on a theme which doesn t call navigation in the error.hbs template or where #6928 which fixes that bug is already merged this error occurs regardless of whether #6938 moving hbs stuff around is merged which is expected because there is no functional change - just noting it here as a related change ### steps to reproduce 1 make sure your blog is running casper 2 start or restart ghost 3 don t request any other pages of ghost yet 4 navigate straight to http://localhost 2368 content images i-dont-exist.jpg or another image that doesn t exist for your blog 5 this really should be rendering an error page ### technical details - ghost version 0.8.0 latest master	244
1644196	16868	thefausap	2016-06-10T17:30:25.000Z	[embedding]	include threading flags in julia-config.jl	5	hello i compiled several example programs without any problems but now i have this undefined-symbol it s defined in usr bin g++ -wall -dversion 3.02 -fpic -djulia init dir users home julia dev lib -i users home julia dev include julia -o qmdd cmd . src applications qmdd cmd.o . src core qmddpackage.o . src core qcost.o . src core textfileutilities.o . src core timing.o . src core qmddcircuit.o . src core qmddcomplexd.o . src core qmddreorder.o -l users home julia dev lib -wl -rpath users home julia dev lib -ljulia undefined symbols for architecture x86 64 jl tls states referenced from gcvalue int in qmddcomplexd.o clookup complex in qmddcomplexd.o qmddcos double double in qmddcomplexd.o qmddsin double double in qmddcomplexd.o ceq int int in qmddcomplexd.o cgt int int in qmddcomplexd.o cgt new int int in qmddcomplexd.o ... ld symbol s not found for architecture x86 64 clang error linker command failed with exit-code 1 use -v to see invocation i found this symbol in julia threads.h but it seems missing in libjulia any idea thanks fausto	176
9852918	6972	erisds	2016-06-11T17:19:26.000Z	[bug;;data;;fix wanted]	migrations ordering of tasks is incorrect	6	as we add more andmore migrations to ghost it has become clear that we re not doing migrations in the correct order if you upgrade from an old blog running on data version 003 you ll get the migrations in the following order - 004 schema-migration - 005 schema-migration - 006 schema-migration - 004 fixture migration - 005 fixture migration - 006 fixture migration there isn t a case as far as i know where this will break at the moment but if we ever remove or rename a column for which there is an old migration the migrations will fail because the change to the column in the new migration will happen before the fixture migration runs to be correct the migrations should happen in this order - 004 schema-migration - 004 fixture migration - 005 schema-migration - 005 fixture migration - 006 schema-migration - 006 fixture migration	149
9852918	6976	erisds	2016-06-11T20:05:06.000Z	[server]	maintenance-mode maintenance windows	3	the latest migration forcing utc can take a while this along with some other issues we ve seen whilst migration 0.8 suggests we need to think about our tooling around upgrades migrations the first tool we ve started adding already is version mismatch handling https://github.com tryghost ghost issues 6949 . another improvement we can add is support for putting ghost into maintenance-mode there are two parts to this ### maintenance window messaging support providing a way to tell ghost that there will be a maintenance window at some time in the future maintenance windows take the form of a from and to datetime and an optional url-for more information when there is a maintenance window set that is in the future ghost should show a dismissible alert which displays the dates and a link to the url-for more info i think we have an orange alert for warnings when the maintenance window is active i.e we are currently between the two dates ghost should show a dismissible alert with a slightly different message saying that maintenance is in progress the idea of the maintenance windows is to provide fair warning that maintenance is going to happen it does not do anything beyond provide some messaging ### maintenance-mode where the maintenance window messaging feature is only intended to provide warning to users maintenance-mode is intended to make changes to the behaviour of ghost the idea being you may schedule a maintenance window for an hour but you may only need to put a blog into maintenance-mode for 5 minutes the first change that maintenance-mode should make is to disable all write requests to the api read get requests should succeed but all requests which modify data should result in a 503 maintenance error this means that the blog itself will be unaffected but anyone trying to modify content will get an error for a period of time this prevents data being written whilst the blog is in an unknown state this should be enough to protect ghost blogs from harm during maintenance we could also add support for other forms of maintenance for example serving an entirely different page for ghost admin to disable the admin completely additionally we could add support for serving a maintenance.hbs from themes to also show a maintenance message to blog readers i think each type of maintenance-mode would have different use cases i think the api mode is most important but i think it should be possible to set each mode individually ## implementation we have a identified that there are a collection of values we d like to set e.g maintenance.window false or maintenance.window start 2016-08-08 02 00 end 2016-08-08 04 00 url status.mysite.com and also something like maintenance.api true the first idea that comes to mind is to support these as configuration values in config.js . the downside with using config is that ghost would need a restart to pick up the details the alternative is some record in the database - perhaps the settings table however i don t really think a ui makes sense for this as it needs to be set by the server administrator not the blog administrator and the settings table has an in-memory cache so manually editing the table wouldn t work another option is environment-variables this seems like a lot of data for environment-variables though something else might be a watch on a file called maintenance.json which contains the info this would load the extra config if the file became available this seems quite resource intensive for a rarely-to-be used feature tldr it s easy ish to implement the actual maintenance-mode and to have alerts in the admin ui but i am not 100 on what the best way to set these values would be i m leaning towards having values in config.js as a first very quick version	643
1644196	16910	nalimilan	2016-06-13T20:49:13.000Z	[i/o;;regression]	messy @test output in case of success since iocontext changes	10	with recent master julia julia @test 1 2 1 2 test passed expression 1 2 1 2 evaluated 2-element array int64 1 1 2 generic-function with 128 methods 2-element array int64 1 1 2 the evaluated part was likely supposed to use compact or non- multiline printing of arrays and methods	51
9852918	6984	jonblack	2016-06-14T07:02:18.000Z	[]	subscribe page backlink always links to home page	8	the default subscriber page back link always links to the home page i would expect it to link to the page the user was on before they clicked on the subscribe link - ghost version 0.9.0beta1 - node version v4.4.0 - browser os linux firefox - database mysql	48
1390248	34038	ch3ll	2016-06-15T15:49:03.000Z	[bug;;confirmed;;execution module;;fixed pending verification;;high severity;;p4;;platform]	user.list users does not work on smartos	7	### description of issue question the excecution module user.list users is not available in smartos and is not in solaris user.py ### setup 1 minion on smartos ### steps to reproduce issue 1 root@d860d7c7-1cb1-4b6a-9c83-5642a46b46c0 opt salt # opt salt bin salt user.list users d860d7c7-1cb1-4b6a-9c83-5642a46b46c0 user.list users is not available error minions returned with non-zero exit-code as shown above user.list users is not able to run on smartos ping @sjorge ### versions report tested on 2016.3.0	75
507775	18896	rjernst	2016-06-15T16:56:05.000Z	[:plugins;;enhancement]	add did-you-mean for plugin cli	5	from #18876 if we want to be extra fancy we could apply a similar logic which we use when parsing setting names using levenshtein to check for similar plugins in order to help on typos this should be easy to do just adding a static init of an automata from the official plugins list and checking when the plugin id does not resolve to any of our supported formats	69
507775	18943	clintongormley	2016-06-17T13:27:36.000Z	[:search;;blocker;;breaking;;low hanging fruit;;v5.0.0-alpha5]	rename fields to stored fields and add docvalue fields	9	as of https://github.com elastic elasticsearch pull 15017 the fields parameter will no longer try to retrieve fields from the source but will only return stored fields this is a breaking change and there is nothing to warn the user that their response may well be different instead let s rename fields to stored fields and throw an exception if the user uses fields . also add docvalue fields as an adjunct to fielddata fields	74
1390248	34086	horgix	2016-06-17T13:36:23.000Z	[bug;;high severity;;p3;;riot;;salt-cloud]	salt-cloud failing to clone containers with lxc 2.0	8	## summary salt-cloud when managing lxc containers calls lxc-clone when told to clone from an existing container since lxc 2.0 this command no longer exists so salt-cloud fails to create containers the lxc-clone command has been replaced by lxc-copy with different options so the module lxc would have to be updated ## details ### lxc 2.0 in lxc version 2.0 the lxc-clone command used to clone existing containers previously has been replaced by a lxc-copy command with different optinos this is confirmed in the lxc 2.0 release announcement https://linuxcontainers.org lxc news #highlights all main lxc commands have now been rewritten in c ... lxc-copy new lxc-copy command taking over the role of lxc-clone and lxc-start-ephemeral here are the links to the relevant man pages of old lxc-clone and new lxc-copy commands - man lxc-copy https://linuxcontainers.org lxc manpages man1 lxc-copy.1.html - man lxc-clone https://linuxcontainers.org lxc manpages man1 lxc-clone.1.html ### salt-cloud - salt-cloud initial create https://github.com saltstack salt blob develop salt-cloud clouds lxc.py#l414 salt.utils.cloud.fire event event starting create salt-cloud 0 creating .format vm name name vm name profile profile provider vm driver transport opts transport - ... calls utils cloud fire event https://github.com saltstack salt blob develop salt utils cloud.py#l1719 - ... which calls utils event fire event https://github.com saltstack salt blob develop salt utils event.py#l629 - ... and i kinda lost the track here at the end it ends up calling modules lxc clone https://github.com saltstack salt blob b642b951802f0e421323f485c6272c0eb8c63f68 salt modules lxc.py#l1999 which directly calls lxc-clone https://github.com saltstack salt blob b642b951802f0e421323f485c6272c0eb8c63f68 salt modules lxc.py#l2091 which doesn t exist on lxc 2.0 as explained above it s confirmed by the command output container could not be created with cmd lxc-clone -o my-lxc-existing-container-name -n my-new-container-name -b dir the links to the code refer to the current head of develop on the version i m using 2015.5.10 the code is slightly different with cmd lxc-clone 0 -o 1 -n 2 .format snapshot orig name instead of building it incrementaly for example but the problem is still the same ## suggested fix - gather an lxc version grain i don t think it s already the case isn t it - change behavior depending on this grain value lxc-clone when 2.0 and lxc-copy with adapted arguments when 2.0 there is in my opinion 2 ways to do this - implement this conditionnal behavior right in the existing clone function - implement another copy function to keep the existing lxc distinction and call it conditionnaly but i m no idea where the clone is currently being clone from i m ready and would like to implement this and submit the pr for it if that s ok with you guys girls in this case i would to know what option you prefer regarding the implementation of the conditional behavior ## informations context ### setup - lxc 2.0 - salt-cloud creating lxc containers through cloning ### steps to reproduce issue #### provider cat etc salt cloud.providers.d my-lxc-provider.conf my-lxc-provider target my-server-with-saltminion-and-lxc.example.org provider lxc driver lxc #### profile cat etc salt cloud.profiles.d my-lxc-profile.conf my-lxc-profile provider my-lxc-provider lxc profile clone from my-lxc-existing-container-name minion master my-master.example.org #### command salt-cloud -p my-lxc-profile my-new-container-name #### output salt-cloud -p my-lxc-profile my-new-container-name info salt-cloud starting info runner completed 20160617152523365256 my-server-with-saltminion-and-lxc.example.org true info runner completed 20160617152524651550 my-server-with-saltminion-and-lxc.example.org true my-server-with-saltminion-and-lxc.example.org ---------- list of existing containers info searching for lxc hosts info creating container s my-new-container-name on host my-server-with-saltminion-and-lxc.example.org info runner completed 20160617152527517415 event ---------- message ---------- comment done my-server-with-saltminion-and-lxc.example.org errors ---------- my-server-with-saltminion-and-lxc.example.org ---------- my-new-container-name ---------- changes ---------- comment container could not be created with cmd lxc-clone -o my-lxc-existing-container-name -n my-new-container-name -b dir name my-new-container-name result false ping status false result false suffix progress comment done my-server-with-saltminion-and-lxc.example.org errors ---------- my-server-with-saltminion-and-lxc.example.org ---------- my-new-container-name ---------- changes ---------- comment container could not be created with cmd lxc-clone -o my-lxc-existing-container-name -n my-new-container-name -b dir name my-new-container-name result false ping status false result false my-new-container-name ---------- error error while creating my-new-container-name changes ---------- comment name my-new-container-name result false runner return ---------- comment done my-server-with-saltminion-and-lxc.example.org errors ---------- my-server-with-saltminion-and-lxc.example.org ---------- my-new-container-name ---------- changes ---------- comment container could not be created with cmd lxc-clone -o my-lxc-existing-container-name -n my-new-container-name -b dir name my-new-container-name result false ping status false result false ## versions report ### salt master running on fedora 23 salt --versions-report salt 2015.5.10 python 2.7.10 default sep 8 2015 17 20 17 jinja2 2.8 m2crypto 0.21.1 msgpack-python 0.4.7 msgpack-pure not installed pycrypto 2.6.1 libnacl 1.4.5 pyyaml 3.11 ioflo not installed pyzmq 14.7.0 raet not installed zmq 4.1.2 mako not installed tornado not installed timelib not installed dateutil not installed #### salt minion running on archlinux salt version salt 2015.8.10 dependency versions jinja2 2.8 m2crypto 0.24.0 mako not installed pyyaml 3.11 pyzmq 15.2.0 python 2.7.11 default mar 31 2016 06 18 34 raet not installed tornado 4.3 zmq 4.1.4 cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed libgit2 not installed libnacl 1.4.5 msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python-gnupg not installed smmap not installed timelib not installed system versions dist machine x86 64 release 4.5.4-1-arch ### lxc on targeted minion archlinux lxc-info --version 2.0.1	857
1390248	34147	cachedout	2016-06-20T18:42:03.000Z	[team core]	automated test for test.sleep 30	5	sudo salt targetminions test.sleep 30 expected result master will wait for minion to return after 30 seconds no message will appear stating minion did not return no response	28
1390248	34161	bobrik	2016-06-21T09:26:44.000Z	[bug;;core;;fixed pending verification;;high severity;;p4]	salt command can hang forever because of one broken minion	10	### description of issue question i have a fleet of 300 minions and some of them are broken two are down and one is somehow screwed to the point where saltutil module is not found the following command never returns on my master salt test.ping it does the internal loop but never times out or prints any new results after the initial batch of healthy minion returns ### setup please provide relevant configs and or sls files be sure to remove sensitive info . ### steps to reproduce issue i did some good old log.debug style debugging to figure out the reason for this the relevant function https://github.com saltstack salt blob 8f71413 salt client init .py#l986 i added log.debug raw .format raw . in the output i saw the following line over and over debug raw tag salt job 20160621091134724456 ret minion-with-the-broken-saltuitl data fun args 20160621090958662043 jid 20160621091134724456 return module saltutil is not available retcode 254 success false cmd return stamp 2016-06-21t09 11 35.120462 fun saltutil.find job id minion-with-the-broken-saltuitl out nested i stopped the minion and salt command returned during the next iteration timeout at time happened telling me that some broken or down salt minions timed out i started the minion backand it works now since saltutil module is found now there s no reason for one broken minion to keep the loop from breaking and it is quite frustrating when you never know which minions did the job and which timed out ### versions report salt master salt version salt 2016.3.1 dependency versions cffi not installed cherrypy not installed dateutil 2.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.3 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg 0.3.6 pyyaml 3.11 pyzmq 14.4.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist debian 8.4 machine x86 64 release 4.4.10-cloudflare system linux version debian 8 salt minion after restart when it works salt version salt 2016.3.0rc3 dependency versions cffi 1.6.0 cherrypy not installed dateutil 2.2 gitdb 0.6.4 gitpython 1.0.2 ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python 1.2.5 pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg 0.3.8 pyyaml 3.11 pyzmq 15.2.0 raet not installed smmap 0.9.0 timelib not installed tornado 4.3 zmq 4.0.5 system versions dist debian 8.2 machine x86 64 release 4.1.3-cloudflare system linux version debian 8.2	441
1644196	17087	omus	2016-06-24T12:47:16.000Z	[regression]	display regression for tuples of arrays	6	while updating the doctests i found that julia 0.4.6 displays findn and findnz as the following julia julia i 1 4 3 5 j 4 7 18 9 v 1 2 -5 3 julia s sparse i j v 5x18 sparse-matrix with 4 int64 entries 1 4 1 4 7 2 5 9 3 3 18 -5 julia findn s 1 4 5 3 4 7 9 18 julia findnz s 1 4 5 3 4 7 9 18 1 2 3 -5 while julia 0.5-dev does julia julia i 1 4 3 5 j 4 7 18 9 v 1 2 -5 3 julia s sparse i j v 5 18 sparse-matrix with 4 int64 nonzero entries 1 4 1 4 7 2 5 9 3 3 18 -5 julia findn s 4-element array int64 1 1 4 5 3 4-element array int64 1 4 7 9 18 julia findnz s 4-element array int64 1 1 4 5 3 4-element array int64 1 4 7 9 18 4-element array int64 1 1 2 3 -5	176
1644196	17090	omus	2016-06-24T15:25:37.000Z	[]	macroexpand display regression	3	two different display issues here 1 functions now are always displayed in parenthesis 2 nested calls show generic-function with n method s 0.4.6 julia julia macroexpand @edit println base.edit println base.typesof 0.5-dev julia julia macroexpand @edit println base.edit println typesof generic function with 1 method	45
1644196	17156	stefankarpinski	2016-06-28T02:59:46.000Z	[maths;;test]	fix broken rational exponentiation tests	5	https://github.com julialang julia blob 6651f78ac63d779c3c1219c3f7ce33fff97c67fe test numbers.jl#l2647-l2653 i m not sure what the right fix is here either loosen the tolerance or improve the precision cc @simonbyrne	27
9852918	7044	acburdine	2016-06-28T03:32:16.000Z	[]	timezone test bug part 2 date permalinks	7	### issue summary so in a similar vein to #6975 there is another routes test bug that i keep running into that s related to timezones this one is related to date permalinks frontend routing date permalinks should serve rss with date permalink uncaught assertionerror expected -1 to be above 0 at assertion.fail node-modules should cjs should.js 326 17 at assertion.object.defineproperty.value node-modules should cjs should.js 398 19 at test anonymous core test functional routes frontend spec.js 562 57 at test.assert node-modules supertest lib test.js 156 6 at server.assert node-modules supertest lib test.js 127 12 at net.js 1409 10 which is occurring here https://github.com tryghost ghost blob master core test functional routes frontend spec.js#l540 ### steps to reproduce 1 set up ghost master 2 set your timezone to something less than utc i m utc -7 at the moment 3 run grunt validate or grunt test-routes tests should pass but don t ### technical details - ghost version master commit ref https://github.com tryghost ghost commit d5e1d122acc4d8541a666bc36a873d8ea0c50d3f - node version 0.12.2 but someone also said they had it using node 6 - #7043 - browser os chrome - database sqlite	188
1390248	34329	clinta	2016-06-28T12:45:04.000Z	[bug;;core;;high severity;;p3;;state module]	file.serialize merge if exists fails function object has no attribute deserialize	11	### description of issue question ### setup test.sls sls test.yaml file.serialize - dataset test 1 - merge if exists true ### steps to reproduce issue run the above state twice succeeds the first time the second time it gives this error profile time in seconds to render test.sls using jinja renderer 0.00346684455872 debug rendered data fromfile test.sls test.yaml file.serialize - dataset test 1 - merge if exists true debug lazyloaded config.get debug results of yaml rendering ordereddict test.yaml ordereddict file.serialize ordereddict dataset ordereddict test 1 ordereddict merge if exists true profile time in seconds to render test.sls using yaml renderer 0.00530600547791 debug lazyloaded file.serialize info running state test.yaml at time 08 43 31.375152 info executing state file.serialize for test.yaml debug lazyloaded yaml.serialize error an exception occurred in this state traceback most recent call last file usr lib python2.7 dist-packages salt state.py line 1723 in call cdata kwargs file usr lib python2.7 dist-packages salt loader.py line 1650 in wrapper return f args kwargs file usr lib python2.7 dist-packages salt states file.py line 4596 in serialize existing data serializer.deserialize fhr attributeerror function object has no attribute deserialize ### versions report salt version salt 2016.3.1 dependency versions cffi not installed cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako 1.0.3 msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.11+ default apr 17 2016 14 00 29 python-gnupg not installed pyyaml 3.11 pyzmq 15.2.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.1.4 system versions dist ubuntu-16.04 xenial machine x86 64 release 4.4.0-24-generic system linux version ubuntu-16.04 xenial	283
460078	14837	gkalpak	2016-06-28T17:37:56.000Z	[branch: 1.6.x;;component: ngresource;;frequency: moderate;;severity: regression;;type: bug]	bug resource promise not resolved with value returned by responseerrorinterceptor	10	do you want to request a feature or report a bug bug what is the current behavior since 71cf28c landed in master only when there is either a responseerror interceptor the promise returned by a resource instance action or exposed as instance promise is always resolved with the original response instead of being fulfilled resolved or rejected with the value returned by the interceptor if the current behavior is a bug please provide the steps to reproduce and if possible a minimal demo of the problem via https://plnkr.co or similar template http://plnkr.co edit tpl ybpei4 . demo 1 running with 1.5.7 - change versions to snapshot to see the issue - 1.5.7 the promise is rejected with the value returned by the responseerror interceptor - snapshot the promise is resolved instead of rejected with the original response instead of the value returned by the responseerror interceptor . what is the expected behavior behavior on snapshot eventual 1.6.x should be the same as on 1.5.x . what is the motivation use-case for changing the behavior fix a regression which versions of angular and which browser os are affected by this issue did this work in previous versions of angular please also test with the latest stable and snapshot https://code.angularjs.org snapshot versions works on 1.5.x . broken on snapshot eventual 1.6.x . 1 https://codepen.io expertsystem pen mewpel editors 0012	227
1390248	34360	mrproper	2016-06-29T06:57:18.000Z	[bug;;execution module;;high severity;;p4;;platform]	pkgrepo does not support http-proxy when its an apt repository	10	### description of issue question now that we have http-proxy support in tornado via minion config see https://github.com saltstack salt pull 29322 when apt-key does not have proxy support built in apt-key does not support proxies via environment-variables by default ### setup state file docker-repo pkgrepo.managed - humanname docker - name deb https://apt.dockerproject.org repo ubuntu-trusty main - dist ubuntu-trusty - file etc apt sources.list.d docker.list - keyid 2c52609d - keyserver p80.pool.sks-keyservers.net ### steps to reproduce issue use the above statefile in a machine that requires http-proxy set results in a timeout trying apt-key adv ### versions report salt-minion 2016.3.1+ds-1 ubuntu-16.04 though this bug is also present on the 2015 series as well im currently writing a patch to support this.. essentially its modifying salt modules aptpkg.py adding --keyserver-options http-proxy http://proxy_username proxy password@proxy host proxy port to the appropriate apt-key add commands	141
9852918	7060	kevinansfield	2016-07-01T10:26:37.000Z	[]	review usage of meta name referrer content origin	8	following on from #6984 it s become apparent that our current referrer tracking utilised for subscriber analytics is being thwarted by the change introduced in #5522 currently we output meta name referrer content origin on every page of a blog that uses ghost head - this has the effect of making the referrer always point to the current domain s homepage even if the blog is in a subdirectory for both the internal pages and the referrer exposed to external sites out subscriber analytics is reliant on this referrer data and so is currently broken there are a few options here 1 meta name referrer content origin-when-crossorigin - makes the full referrer info available to all pages on the same protocol and subdomain this would fix our internal analytics but external sites will still only see the base subdomain in the referrer no subdirectory or page 2 meta name referrer content unsafe-url - always makes full referrer details available to both same-domain and external requests and also across protocols	169
507775	19253	clintongormley	2016-07-04T15:27:09.000Z	[blocker;;test;;v5.0.0-alpha5]	create-bwc index tool fails with mappingexception	6	trying to create a bwc index for 5.0.0-alpha4 with python3 dev-tools create bwc index.py 5.0.0-alpha4 fails with a mappingexception traceback most recent call last file dev-tools create bwc index.py line 461 in module main file dev-tools create bwc index.py line 457 in main create bwc index cfg version file dev-tools create bwc index.py line 421 in create bwc index generate index client version index name file dev-tools create bwc index.py line 300 in generate index warmers warmers file usr locallib python3.5 site-packages elasticsearch client utils.py line 69 in wrapped return func args params params kwargs file usr locallib python3.5 site-packages elasticsearch client indices.py line 103 in create params params body body file usr locallib python3.5 site-packages elasticsearch transport.py line 307 in perform request status headers data connection.perform request method url params body ignore ignore timeout timeout file usr locallib python3.5 site-packages elasticsearch connection http urllib3.py line 93 in perform request self raiseerror response.status raw-data file usr locallib python3.5 site-packages elasticsearch connection base.py line 105 in raiseerror raise http exceptions.get status code transporterror status code error message additional info elasticsearch.exceptions.requesterror transporterror 400 mapper parsing exception	184
507775	19317	ebernhardson	2016-07-07T22:40:11.000Z	[:search;;adoptme;;enhancement]	use output of rescoring when top hits aggregation is used	10	describe the feature when using the top hits aggregation it is sorting by the scores prior to rescore running i put together an trimmed down example script that demonstrates this the score from the main query is returned as 2.6434526 but the score as seen in top hits aggregation is 1 the larger goal is to perform a search over a geographic area take the top n we use 8192 hits per shard and then show the top m hits per grid point while the example below uses a match all for simplicity with a 10km area the query could just as well be run with a query-string query additional filters and over a much larger area i would like to keep the original limits put in place in the rescore phase and only aggregate over those 8k results per shard utilizing the result of rescoring is incredibly important for choosing the best items per grid point in my use-case # bin sh curl -s -xdelete localhost 9200 top hits rescore jq -c . curl -s -xput localhost 9200 top hits rescore -d settings index number of shards 1 number of replicas 0 jq -c . curl -s -xput localhost 9200 top hits rescore mapping page -d properties title type string weight type long coord type geo point lat lon true jq -c . curl -s -xpost localhost 9200 top hits rescore page -d title foo weight 42 coord lat 1.2345 lon 5.4321 jq -c . curl -s -xpost localhost 9200 top hits rescore flush jq -c . curl -s -xget localhost 9200 top hits rescore page search -d rescore query rescore query function score functions field value factor modifier log2p field weight query bool must match all filter geo distance distance 10km coord lat 1.2345 lon 5.4321 aggs grid geohash grid field coord aggs top grid hits top hits jq .	312
1644196	17364	tkelman	2016-07-11T00:30:15.000Z	[bug;;libgit2;;packages]	pkg.checkout had one job	4	aka pkg.checkout doesn t do a checkout ... you can reproduce this via julia pkg.clone https://github.com tkelman git.jl info cloning git from https://github.com tkelman git.jl info computing changes... info no packages to install update or remove julia pkg.checkout git tk bindeps info checking out git tk bindeps... info pulling git latest tk bindeps... warning cannot perform fast-forward merge info no packages to install update or remove julia cd pkg.dir git shell git-log -1 origin master commit 8447f3a0e593dd09eac5c9b0341ee82fe6261682 author alex arslan ararslan@comcast.net date sun jul 10 12 46 27 2016 -0700 add informative git badge ci skip #6 shell git-branch master tk bindeps shell git-log -1 commit 8447f3a0e593dd09eac5c9b0341ee82fe6261682 author alex arslan ararslan@comcast.net date sun jul 10 12 46 27 2016 -0700 add informative git badge ci skip #6 it creates the branch and tries to merge and pull by default which is arguably questionable behavior but separate from this issue but from the working-copy rather than the upstream and it doesn t actually do a checkout edit worth noting that there are no tests of pkg.checkout with more than 1 input	180
1390248	34648	bortels	2016-07-13T19:55:35.000Z	[bug;;documentation;;help wanted;;high severity;;p3]	error that cannot start token	5	### description of issue question using syntax from https://docs.saltstack.com en latest ref states all salt.states.ssh auth.html triggers an error when you try to apply it i have no idea if this is a bug in the code or the docs - ### setup root@jabba login # salt centos68-cis state.apply login test true centos68-cis data failed to compile ---------- rendering sls base login.hosting failed found character that cannot start any token line 5 --- tbortels ssh auth.present - user tbortels - source salt ssh-keys tbortels.pub - config h .ssh authorized-keys user.present - fullname tom bortels - shell bin sh - home home tbortels - uid 100758 ... --- error minions returned with non-zero exit-code ### versions report salt version salt 2016.3.1 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.2 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.5 default nov 20 2015 02 00 19 python-gnupg not installed pyyaml 3.11 pyzmq 14.7.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.el7.x86 64 system linux version centos linux 7.2.1511 core	218
9852918	7095	aileencgn	2016-07-14T17:23:08.000Z	[data;;feature;;server]	imagesize support for structured-data json-ld and opengraph	7	to improve our structured-data we need to change all our image properties to be imageobjects . this means we need to add a width and height property to all of them to get the dimensions of an image i want to implement the npm module image-size https://github.com image-size image-size which will get the necessary dimensions on-the-fly --- ## schema.org json-ld this is our status quo for example publisher javascript @context https://schema.org @type article publisher @type organization name my ghost-blog logo http://myblog.com content images 2016 06 img 1234.jpg and this is how it should look like javascript @context https://schema.org @type article publisher @type organization name my ghost-blog logo @type imageobject url http://myblog.com content images 2016 06 img 1234.jpg width 600 height 60 note google has restrictions https://developers.google.com search docs data-types articles on the image dimension especially for the publisher logo the image needs to be 600px wide and 60px high ideally exactly 600px x 60px . unless we have proper image-handling see #4453 we will not output an imageobject if the logo doesn t fit in the dimensions applies to - schema for post page - publisher.logo - author.image - image - schema for home website - publisher.logo - image - schema for tag - publisher.logo - image - schema for author - image --- add mainentityofpage to json-ld as it is now required by google javascript mainentityofpage @type webpage @id http://myblog.com applies to - schema for post page - schema for home website - schema for tag - schema for author --- ## opengraph facebook now we have the dimensions of images we can improve our opengraph data as well by adding - og image width and - og image height --- todos - x add image-size to dependencies - x make getimagesize util - x include restrictions for publisher.logo 600px width and 60px height - x update image properties in structured-data to be full imageobjects - x add mainentityofpage to schema.org - x add new properties og image width and og image height to structured-data - x use cache for image dimensions - x write update tests	348
1644196	17451	akorotkov	2016-07-16T12:44:50.000Z	[doc;;embedding]	ccall fails from embedding julia into c	7	hi i m trying to run following example of embedding julia into c c #include julia.h int my func return 1 int main int argc char argv required setup the julia context jl init julia init dir run julia commands jl eval string try n print ccall my func cint n catch err n print err n n end n strongly recommended notify julia that the program is about to terminate this allows julia time to cleanup pending write requests and run all finalizers jl atexit hook 0 return 0 and i got following error errorexception ccall could not find function my func the os is centos linux 7.1 compiler is gcc 4.8.5 julia version 0.4.6 is installed from nalimilan julia repository i m building example using following command bash usr share julia julia-config.jl --cflags --ldflags --ldlibs xargs clang embed.c -o embed the same example works fine for me on mac os x 10.10.5 what am i doing wrong	159
1644196	17462	kristofferc	2016-07-17T10:43:39.000Z	[regression;;testsystem]	break continue in a @testset for-loop is broken	8	as @tkelman reported here https://github.com kristofferc nearestneighbors.jl issues 25 and kindly bisected to https://github.com julialang julia commit cd35df536bd julia master now does not support break or continue in a @testset for-loop jl using base.test @testset for x in 1 2 3 if x 1 continue end end error syntax break or continue outside loop in eval module any at . boot.jl 234 in macro expansion at . repl.jl 92 inlined in base.repl.##1#2 base.repl.replbackend at . event.jl 46 cc @jeffbezanson since it got bisected to commit that was authored by you	90
507775	19473	abeyad	2016-07-18T13:11:56.000Z	[:internal;;:recovery;;bug;;v5.0.0-alpha5]	cancellation of recovery deletes files still held onto by writes	10	the repositoryupgradabilityit test fails regularly because indices are deleted before trying to recreate the index for other purposes we could add ensuregreen calls after the index deletions but the underlying cause of failure is that the ongoing recoveries get cancelled and this causes shard level data to be deleted however the deletion of these files can happen while other threads are holding onto these files for the purposes of writes which trips assertions where the write operations expects the temp files to be there but they have been deleted by the recovery cancellation . an example stack-trace error 21.6s j0 repositoryupgradabilityit.testrepositoryworkswithcrossversions failures throwable #1 com.carrotsearch.randomizedtesting.uncaughtexceptionerror captured an uncaught-exception in thread thread id 11223 name elasticsearch node td1 generic t#6 state runnable group tgrp-repositoryupgradabilityit at randomizedtesting.seedinfo.seed 6c53c46436f84d7a 76f1740152d478d 0 caused by java.lang.assertionerror expected recovery.1468504452288 0.cfe in at randomizedtesting.seedinfo.seed 6c53c46436f84d7a 0 at org.elasticsearch.indices.recovery.recoverytarget.asserttempfileexists recoverytarget.java 407 at org.elasticsearch.indices.recovery.recoverytarget.writefilechunk recoverytarget.java 397 at org.elasticsearch.indices.recovery.recoverytargetservice filechunktransportrequesthandler.messagereceived recoverytargetservice.java 417 at org.elasticsearch.indices.recovery.recoverytargetservice filechunktransportrequesthandler.messagereceived recoverytargetservice.java 390 at org.elasticsearch.transport.transportrequesthandler.messagereceived transportrequesthandler.java 33 at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 69 at org.elasticsearch.transport.local.localtransport 1.dorun localtransport.java 322 at org.elasticsearch.common.util.concurrent.threadcontext contextpreservingabstractrunnable.dorun threadcontext.java 510 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745	192
1644196	17484	ararslan	2016-07-18T19:01:40.000Z	[]	llvm 3.7 dylib not loaded on os x nightly	9	i ve seen this on the juliastats travis builds today julia --check-bounds yes -e pkg.clone pwd pkg.build dataframes pkg.test dataframes coverage true dyld library not loaded @rpath libllvm-3.7.dylib referenced from users travis julia bin julia reason image not found users travis build.sh line 45 472 trace bpt trap 5 julia --check-bounds yes -e pkg.clone pwd pkg.build dataframes pkg.test dataframes coverage true it s causing the builds to fail but only on os x nightly if i remember correctly @keno mentioned something recently about rpath getting changed	86
1390248	34778	pupapaik	2016-07-19T12:47:21.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform]	network.managed type bond generate use carrier option which is unknown parameter in ubuntu-16.04	13	### description of issue question ubuntu xenial uses a new version of ifenslave which does not know parameter use carrier for bonding it broke down connection to server and system-error is bonding on invalid for parameter use carrier this parameter can be removed in future version of ubuntu ### setup setup simple ubuntu xenial with salt-creation of network bonding active-backup ### versions report salt version salt 2016.3.1 dependency versions cffi 1.5.2 cherrypy not installed dateutil 2.4.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako 1.0.3 msgpack-pure not installed msgpack-python 0.4.6 mysql-python not installed pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python 2.7.11+ default apr 17 2016 14 00 29 python-gnupg not installed pyyaml 3.11 pyzmq 15.2.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.1.4 system versions dist ubuntu-16.04 xenial machine x86 64 release 4.4.0-28-generic system linux version ubuntu-16.04 xenial	156
9852918	7133	kevinansfield	2016-07-25T10:46:54.000Z	[bug;;server]	multiple duplicate server-side alerts are displayed	6	### issue summary if duplicate errors are provided by the server they are all displayed at once in the client screenshot 2016-07-25 at 11 47 39 https://cloud.githubusercontent.com assets 415 17099020 960f2264-525d-11e6-94d7-e194df21a8f3.png ### steps to reproduce 1 visit the team page 2 invite a user with an e-mail address that is not deliverable e.g test@example.com 3 click resend a few times on the new invite 4 refresh the page either we should be preventing duplicate alerts being generated on the server or filtering on the client-side so that we only display one alert instead of many stacked alerts ### technical details - ghost version master	104
9852918	7137	kevinansfield	2016-07-25T12:29:30.000Z	[bug;;server]	unable to delete a user causes all subsequent db requests to fail	12	### issue summary when attempting to delete a user who has posts i m seeing a 500 internal-server-error all subsequent api requests also return a 500 error ### steps to reproduce 1 ensure you have a user who has authored some posts 2 sign out and sign in as a user who has permissions to delete users 3 select the user from step 1 in the team page then click the cog icon and select delete user 4 click delete at this point i see a long spinner which eventually results in the 500 error and this message in the app log error knex timeout acquiring a connection the pool is probably full are you missing a .transacting trx call internalservererror knex timeout acquiring a connection the pool is probably full are you missing a .transacting trx call at error.internalservererror users kevinansfield code ghost ghost core server errors internal-server-error.js 6 18 at null anonymous users kevinansfield code ghost ghost core server models post.js 661 23 from previous event at function.destroybyauthor users kevinansfield code ghost ghost core server models post.js 660 19 at function.trycatcher users kevinansfield code ghost ghost node-modules bluebird js release util.js 16 23 at function.destroybyauthor users kevinansfield code ghost ghost node-modules bluebird js release method.js 15 34 at users kevinansfield code ghost ghost core server api users.js 397 39 at users kevinansfield code ghost ghost node-modules knex lib transaction.js 38 20 at processimmediate as immediatecallback timers.js 383 17 delete ghost api v0.1 users 7 500 60093.195 ms - 167 any requests after this point have a similar response in case it s particular to my database state here s a copy of my sqlite db https://cl.ly 3d0y1r170u02 ### technical details - ghost version master - database sqlite	289
1644196	17608	tbreloff	2016-07-25T14:27:48.000Z	[bug;;rng]	infinite-recursion in randn int	4	this should throw a domainerror or something similar but instead julia randn int error stackoverflowerror in randn mersennetwister type int64 at . random.jl 1217 in randn mersennetwister array int64 0 at . random.jl 1208 in randn mersennetwister type int64 at . random.jl 1217 in randn mersennetwister array int64 0 at . random.jl 1208 in randn mersennetwister type int64 at . random.jl 1217 ... thousands of similar lines if i control-c while the error output is printing i get a crash in randn mersennetwister array int64 0 at . random.jl 1208jl uv writecb error bad file-descriptor ebadf jl uv writecb error bad file-descriptor ebadf jl uv writecb error bad file-descriptor ebadf jl uv writecb error bad file-descriptor ebadf jl uv writecb error bad file-descriptor ebadf rec backtrace at opt julia5 src stackwalk.c 84 record backtrace at opt julia5 src task.c 232 jl throw at opt julia5 src task.c 550 enq work at . event.jl 55 #schedule#257 at . event.jl 71 jl call method internal at opt julia5 src julia internal.h 178 inlined jl apply generic at opt julia5 src gf.c 2034 #schedule at . missing 0 uv writecb task at . stream.jl 861 uv write callbacks at opt julia5 deps srccache libuv-ecbd6eddfac4940ab8db57c73166a7378563ebd3 src unix stream.c 967 uv stream destroy at opt julia5 deps srccache libuv-ecbd6eddfac4940ab8db57c73166a7378563ebd3 src unix stream.c 450 uv finish close at opt julia5 deps srccache libuv-ecbd6eddfac4940ab8db57c73166a7378563ebd3 src unix core.c 256 uv run closing handles at opt julia5 deps srccache libuv-ecbd6eddfac4940ab8db57c73166a7378563ebd3 src unix core.c 286 uv run at opt julia5 deps srccache libuv-ecbd6eddfac4940ab8db57c73166a7378563ebd3 src unix core.c 356 jl atexit hook at opt julia5 src init.c 313 jl exit at opt julia5 src jl uv.c 537 start at . client.jl 365 jl call method internal at opt julia5 src julia internal.h 178 inlined jl apply generic at opt julia5 src gf.c 2034 unknown function ip 0x40185c unknown function ip 0x4012f6 unknown function ip 0x401348	313
1390248	34945	babilen	2016-07-26T09:05:01.000Z	[bug;;state module;;team core;;zreleased - 2015.8.12;;zreleased - 2016.3.3]	file.recurse breaks directory-permissions	3	### description of issue question a normal file.recurse state results in broken permissions of the managed directory ### steps to reproduce issue use a state such as home foo .hooks file.recurse - source salt users files hooks - user foo - group foo - dir mode 2755 - file mode 755 which creates the following directory home foo# ls -lah total 32k drwxr-x--- 5 foo foo 4.0k jul 26 09 00 . drwxr-xr-x 4 root root 4.0k jul 26 08 59 .. ... dr-x--xrwt 3 foo foo 4.0k jul 26 09 00 .hooks ... i had to add an explicit file.directory state for home foo .hooks to get correct and sensible permissions ### versions report # salt-minion --versions-report salt version salt 2016.3.1 dependency versions cffi 0.8.6 cherrypy not installed dateutil 2.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.3 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg not installed pyyaml 3.11 pyzmq 14.4.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist debian 8.5 machine x86 64 release 3.16.0-4-amd64 system linux version debian 8.5 # salt --versions-report salt version salt 2016.3.1 dependency versions cffi 0.8.6 cherrypy not installed dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed jinja2 2.7.3 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg not installed pyyaml 3.11 pyzmq 14.4.0 raet not installed smmap 0.8.2 timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist debian 8.5 machine x86 64 release 3.16.0-4-amd64 system linux version debian 8.5	307
507775	19631	nik9000	2016-07-27T17:23:24.000Z	[:java api;;breaking;;v5.0.0-alpha5]	remove iscreated and isfound from the java-api	7	callers can just use getoperation instead if this were the middle of a release-cycle or the methods were very very popular we d deprecate the methods instead but as is we can get this in before 5.0 and slot it into the breaking changes list note that if we don t get to this before 5.0 is ga we probably would want to deprecate the method instead and remove it in 6.0	72
1390248	35010	vchav73	2016-07-28T04:26:35.000Z	[bug;;execution module;;medium severity;;p4;;platform]	cp.push dir returns incorrect result for non-existent directories	8	when i try to push a non-existent directory like so salt minion-id cp.push dir wqef salt returns this minion-id true this is the same result i get for cases where the directory does exist i tried the same thing with cp.push for files instead of directories and get the expected result false for the case where the file doesn t exist . in all my test cases i was running salt from the master	74
507775	19664	nik9000	2016-07-28T16:07:17.000Z	[:crud;;enhancement;;v5.0.0-alpha5]	rename operation to result and rework a few of the responses	11	i propose we rename operation and make its return values a little more intuitive right now when you index you when you index like so curl -s -xpost localhost 9200 test test 1 pretty -d test test grep operation you get operation create . let s change that to result created . if you do the same thing again right now you ll get operation index . let s change that to result updated . right now when you delete like so curl -s -xdelete localhost 9200 test test 1 pretty grep operation you get operation delete . let s change it to result deleted . if you try again you get operation noop . lets change it to result not found . right now when you update like so curl -s -xpost localhost 9200 test test 1 update pretty -d doc test test doc as upsert true grep operation you get operation create . let s change it to result created . if you try again you get operation noop . lets change it to result noop . it should also return result updated if it updates the document note that we still return good results for conflicts using the http-status this is how it works now curl -s -xpost localhost 9200 test test bulk pretty -d create id 1 test test returns took 1 errors true items create index test type test id 1 status 409 error type version conflict engine exception reason test 1 version conflict document already exists current version 1 index uuid 5eirysj0qkimivswcmqlzq shard 3 index test which is great updates also properly return 404s when you ask them to update a thing that doesn t exist curl -s -xpost localhost 9200 test test 2 update pretty -d doc test test returns error root cause ... type document missing exception reason test 2 document missing index uuid 5eirysj0qkimivswcmqlzq shard 2 index test status 404 it looks similar in the bulk response including returning the status wonderful this came from a voice chat with @bleskes and @colings86 one interesting question that came up is why don t we just use http-status instead of operation result the answer is that noop and updated both map to 200 ok . edited updated used to be called modified .	380
507775	19697	nik9000	2016-07-29T21:45:56.000Z	[bug;;test]	equivalenceit fails reproducibly with a seed	6	2 reproduce with gradle core integtest -dtests.seed a4648847991e5c27 -dtests.class org.elasticsearch.search.aggregations.equivalenceit -dtests.method testrandomranges -dtests.security.manager true -dtests.jvms 12 -dtests.locale nn-no -dtests.timezone europe helsinki failure 5.55s j10 equivalenceit.testrandomranges failures throwable #1 java.lang.assertionerror 4 expected 889 but was 890 at randomizedtesting.seedinfo.seed a4648847991e5c27 d00dcf66e03efc10 0 at org.elasticsearch.search.aggregations.equivalenceit.testrandomranges equivalenceit.java 186 at java.lang.thread.run thread.java 745	48
9852918	7168	scotthelme	2016-08-01T15:31:22.000Z	[bug;;fix wanted;;server]	adding edit to the end of a url results in a 404 on static-pages	14	### issue summary adding edit to the end of a url-for a static page results in a 404 ### steps to reproduce 1 visit the url of a static page 2 add edit to the end of the url 3 observe a 404 i would expect this to open the editorfor the appropriate page ### technical details - ghost version 0.9.0 - node version v0.10.24 - browser os chrome version 52.0.2743.82 m windows 10 x64	75
1644196	17751	cortner	2016-08-02T02:45:42.000Z	[maths;;performance;;priority;;regression]	performance regression for exp sin cos	6	julia function test0 n r 0.234 for n 1 n exp r end end test0 10 @time test0 1 000 000 @time test0 1 000 000 @time test0 1 000 000 output in v0.4 bash julia exp test.jl 0.006532 seconds 148 allocations 10.151 kb 0.006524 seconds 4 allocations 160 bytes 0.006999 seconds 4 allocations 160 bytes output in v0.5 bash julia5 exp test.jl 0.012711 seconds 133 allocations 7.703 kb 0.012758 seconds 4 allocations 160 bytes 0.014031 seconds 4 allocations 160 bytes same if i replace exp with sin or cos haven t tried others i did test against a simple squaring function where the performance remains the same in both versions ## llvm code for v0.4 julia @code llvm test0 1 000 000 define void @julia test0 21678 i64 top 1 icmp sgt i64 0 0 2 select i1 1 i64 0 i64 0 3 icmp eq i64 2 0 br i1 3 label l3 label l l preds l top #s1.0 phi i64 4 l 1 top 4 add i64 #s1.0 1 5 call double inttoptr i64 13299772784 to double double double inreg 2.340000e-01 6 icmp eq i64 #s1.0 2 br i1 6 label l3 label l l3 preds l top ret void ## llvm output for v0.5 julia @code llvm test0 1 000 000 define void @julia test0 68854 i64 #0 top 1 icmp slt i64 0 1 br i1 1 label l2 label if.preheader if.preheader preds top br label if l2.loopexit preds if br label l2 l2 preds l2.loopexit top ret void if preds if.preheader if #temp#.03 phi i64 2 if 1 if.preheader 2 add i64 #temp#.03 1 3 call double inttoptr i64 13444864816 to double double double 2.340000e-01 4 icmp eq i64 #temp#.03 0 br i1 4 label l2.loopexit label if	295
507775	19735	bisscuitt	2016-08-02T06:29:45.000Z	[:logging;;adoptme;;bug;;low hanging fruit]	hostname and shard id missing from slow log	8	elasticsearch version 2.3.4 jvm version 1.8.0 92 os version debian jessie description of the problem including expected versus actual behavior similar to #17025 slow query logging in 2.3.4 seems a little broken 2016-08-02 01 15 51 840 info index.search.slowlog.query test index took 10.1ms took millis 10 types search stats search type query then fetch total shards 4 source query bool should filtered query bool should simple query-string query indoor fields name 2 name.partial description sku 3 sku.partial keywords 2 keywords.partial brand name 2 prefix sku indoor prefix keywords indoor filter bool must term store id 10115937 term is visible true term is visible true term is visible true type value product filtered query simple query-string query indoor fields name 2 name.partial content page title 3 keywords 2 meta description filter bool must term store id 10115937 term is visible true term is visible true term customers only false term is visible true type value page filtered query simple query-string query indoor fields title 2 title.partial content keywords 2 filter bool must term store id 10115937 term is visible true term is visible true term is visible true type value post from 0 size 5 extra source this bit confuses me a little test index took 10.1ms there is no space here there is no shard id and the hostname is now missing from the log entry i would expect it to look like this as per previous versions 2016-08-02 01 15 51 840 info index.search.slowlog.query myhostname test index 12 took 10.1ms took millis 10 types search stats search type query then fetch total shards 4 source query bool should filtered query bool should simple query-string query indoor fields name 2 name.partial description sku 3 sku.partial keywords 2 keywords.partial brand name 2 prefix sku indoor prefix keywords indoor filter bool must term store id 10115937 term is visible true term is visible true term is visible true type value product filtered query simple query-string query indoor fields name 2 name.partial content page title 3 keywords 2 meta description filter bool must term store id 10115937 term is visible true term is visible true term customers only false term is visible true type value page filtered query simple query-string query indoor fields title 2 title.partial content keywords 2 filter bool must term store id 10115937 term is visible true term is visible true term is visible true type value post from 0 size 5 extra source note the shard id after the index name test index 12 steps to reproduce 1 enable slow query logs with default logging.yml 2 look at entries in slow query logs provide logs if relevant as above	440
1644196	17772	keno	2016-08-03T02:18:27.000Z	[packages]	ssh clone fails against remotes running newer openssh versions	9	libssh2 advertises support for diffie-hellman-group-exchange-sha256 but that kex protocol seems to be buggy or otherwise unsupported causing pkg clone failures if the remote has a decently up-to-date openssh right now github does not have support for that protocol but we should either patch libssh2 to disable this feature of figure out what s broken to avoid nasty surprises if github upgrades	61
1644196	17780	baggepinnen	2016-08-03T11:48:05.000Z	[linear algebra]	error conj a symmetric complex indexed assignment not defined for symmetric	11	julia a randn 2 2 a a a b complex a a c symmetric b conj c error indexed assignment not defined for symmetric complex float64 array complex float64 2 in conj symmetric complex float64 array complex float64 2 at . arraymath.jl 17	43
507775	19832	gibrown	2016-08-05T15:00:58.000Z	[adoptme;;docs]	docs function score description of offset scale is incorrect	9	at https://www.elastic.co guide en elasticsearch reference 2.3 query-dsl-function-score-query.html#function-decay the description of scale required forall types defines the distance from origin at which the computed score will equal decay parameter offset if an offset is defined the decay function will only compute the decay function for documents with a distance greater that the defined offset seems to indicate that an offset of 5 days and a scale of five days means that the decay will be 0.5 at 5 days but the graph at https://www.elastic.co guide en elasticsearch reference current images decay 2d.png and i think the equation say that the decay will be 0.5 at 10 days should say something like scale required forall types defines the distance from origin + offset at which the computed score will equal decay parameter	131
9852918	7182	sbtoledo	2016-08-07T19:02:29.000Z	[bug;;themes]	date helper is returning current dates with wrong timezone	9	date helper is returning current dates with wrong timezone due to options.data.blog.timezone returning default timezone etc utc even if it is changed in settings panel ### issue summary inside the date helper using console.log on options.data.blog.timezone it is possible to see that etc utc is being returned as the blog timezone even if another timezone is set ### technical details - ghost version 0.9.0 - node version 4.4.7 - browser os chrome osx - database sqlite	76
1390248	35264	bobrik	2016-08-07T21:51:52.000Z	[bug;;fixed pending verification;;high severity;;p4;;platform;;state module]	ssh known hosts.present is not idempotent in test true with port	11	### description of issue question salt doesn t check for ssh key existence properly in test mode when port is set the reason for this is that when port is specified known hosts file has entries formatted as host port not as host . it works ok outside of test mode i can fix it myself if this makes sense ### setup yaml some path know hosts-foo ssh known hosts.present - name foo.example.com - port 7999 - user root - config some path know hosts - enc ssh-rsa - fingerprint de ad be ef - hash known hosts false ### versions report salt version salt 2016.3.2 dependency versions cffi not installed cherrypy not installed dateutil 2.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python not installed pycparser not installed pycrypto not installed pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg 0.3.6 pyyaml 3.11 pyzmq not installed raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq not installed system versions dist debian 8.5 machine x86 64 release 4.4.14-cloudflare system linux version debian 8.5	201
9852918	7186	kevinansfield	2016-08-08T07:21:05.000Z	[beginner;;bug]	internal tags are showing up in sitemap.xml	7	### issue summary after adding internal tags the tag pages for those tags are listed in yoursite.com sitemap-tags.xml but will return 404s as they do not have public pages ### steps to reproduce 1 enable internal tags labs feature 2 add some internal tags 3 check http://localhost 2368 sitemap-tags.xml 4 see that the internal tag pages are listed ### technical details - ghost version 0.9.0	65
507775	19861	rmuir	2016-08-08T11:56:49.000Z	[:core;;blocker;;bug;;v5.0.0-beta1]	internalengine should not catch alreadyclosedexception	5	there is a lot of exception catching masking of ace by internalengine this is really bad and will lead to even crashes of the jvm here is an example of what i mean https://github.com elastic elasticsearch blob f6aeb35ce8244f4e60cb827cccb42a359f3a2862 core src main java org elasticsearch index engine internalengine.java#l564-l566 catch alreadyclosedexception e ensureopen possibly masks ace by another exception maybefailengine refresh e definitely swallows ace please do not catch this exception it should only happen in truly exceptional circumstances such as a bug in the code and so on perhaps it should be treated similar to error by elasticsearch	97
1644196	17910	andyferris	2016-08-09T03:30:17.000Z	[build;;libgit2]	build-error libgit2 clar libcurl	4	i haven t been able to buildmaster for a few days now... i ve used make distcleanall and even refreshed the whole repo directory at some point but it always gets stuck the problem is building libgit and curl etc any hints as to what might be going wrong ... 22 linking c executable libgit2 clar home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get error@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get certificate@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method get reader@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to pem write bio x509@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get peer certificate@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx load verify locations@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx use privatekey@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to crypto free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx use certificate@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set msg callback@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine get next@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui get0 user data@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sha256 init@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 get ext d2i@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to pem read x509@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get1 session@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl write@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method set reader@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md5 init@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand add@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 extension get data@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sk num@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx add client ca@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get peer cert chain@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to i2t asn1 object@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp single get0 status@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to conf modules load file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err get error@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set srp username@openssl 1.0.1 home aferris julia-dev usr lib libcurl.so undefined-reference to pkcs12 pbe add@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui set result@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine by id@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx setdefault passwd cb@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 name entry get data@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl cipher get name@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp resp count@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md5 update@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 get subject name@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine init@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bn num bits@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err clear error@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl load error strings@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl version@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx setdefault passwd cb userdata@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp response free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp response status str@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method get writer@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to des ecb encrypt@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 store set flags@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to des set odd parity@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl new@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp basic verify@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine get first@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 name get index by nid@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to des set key@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sha256 update@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to openssl add all algorithms noconf@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get0 alpn selected@openssl 1.0.2 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 string to utf8@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method set writer@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand egd@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl comp free compression methods@openssl 1.0.2 home aferris julia-dev usr lib libcurl.so undefined-reference to engine set default@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine cleanup@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err error string@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp resp get0@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get shutdown@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx use privatekey file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 name get entry@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl set connect state@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio printf@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 string type@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 integer get@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl library init@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand status@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get current cipher@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui create method@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to pkcs12 parse@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 check issued@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set cipher list@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp response get1 basic@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md4 final@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md4 init@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl shutdown@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl connect@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err error string n@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md4 update@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to i2a asn1 object@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sslv23 client method@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 extension get object@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio ctrl@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to d2i ocsp response@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx use certificate chain file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 string length@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio new@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio puts@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx get cert store@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sslv3 client method@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sk pop@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to i2d x509 pubkey@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp cert status str@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 time print@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 name print ex@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctrl@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to pkcs12 free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl set session@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand load file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sk pop free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to d2i pkcs12 fp@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sk value@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx check private key@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err peek error@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set srp password@openssl 1.0.1 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 load crl file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method get opener@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to sha256 final@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 string print@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to openssl load builtin modules@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand bytes@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx new@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine load private key@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui openssl@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssleay@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp check validity@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to asn1 string data@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine load builtin engines@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to crypto malloc@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine ctrl cmd@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 store add lookup@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui get string type@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to evp cleanup@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui get input flags@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl session free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 get serialnumber@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509v3 ext print@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine finish@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp basicresp free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 get issuer name@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set next proto select cb@openssl 1.0.1 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 get pubkey@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp response status@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui destroy method@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bio s mem@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ocsp crl reason str@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl read@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err remove thread state@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to crypto cleanup all ex data@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get privatekey@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl get verify result@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine ctrl@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to err free strings@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to evp pkey free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 verify cert error string@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to conf modules free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to evp pkey copy parameters@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx use certificate file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx ctrl@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method get closer@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl pending@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set verify@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to bn print@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to rand file name@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to md5 final@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method set opener@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to general names free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl ctx set alpn protos@openssl 1.0.2 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 free@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ui method set closer@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to x509 lookup file@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to ssl set fd@openssl 1.0.0 home aferris julia-dev usr lib libcurl.so undefined-reference to engine get id@openssl 1.0.0 collect2 error ld returned 1 exitstatus cmakefiles libgit2 clar.dir build.make 12364 recipe for target libgit2 clar failed make 4 libgit2 clar error 1 cmakefiles makefile2 104 recipe for target cmakefiles libgit2 clar.dir all failed make 3 cmakefiles libgit2 clar.dir all error 2 makefile 138 recipe for target all failed make 2 all error 2 home aferris julia-dev deps libgit2.mk 59 recipe for target build libgit2-211e117a0590583a720c53172406f34186c543bd libgit2.so failed make 1 build libgit2-211e117a0590583a720c53172406f34186c543bd libgit2.so error 2 makefile 81 recipe for target julia-deps failed make julia-deps error 2 edit this is ubuntu-16.04 aferris@aferris-desktop julia-dev uname -a linux aferris-desktop 4.4.0-31-generic #50-ubuntu smp wed jul 13 00 07 12 utc 2016 x86 64 x86 64 x86 64 gnu linux	2320
9852918	7189	gergelyke	2016-08-09T07:05:36.000Z	[]	lot more requests since 0.9 - potential memory leak	9	### issue summary since updating to 0.9 our ghost instances are serving a lot more traffic screenshot 2016-08-09 at 09 03 45 https://cloud.githubusercontent.com assets 2174968 17507521 55dc3920-5e10-11e6-90d5-11e27d2b1976.png is this the expected behavior ### technical details - ghost version 0.9 - node version 4.x - database pg	46
9852918	7192	hzb	2016-08-10T03:48:15.000Z	[blocker;;bug]	posts in front order	4	ghost version 0.9 lastest issues posts showed in front are order by the time last-modified not by the post date	20
1390248	35340	dqminh	2016-08-10T13:33:52.000Z	[bug;;core;;documentation;;fixed pending verification;;high severity;;p3]	custom modules are only resynced to minions at highstate	9	### description of issue question custom modules are only resynced to minions at highstate the documentation said modules placed in modules will be synced to the minions when any of the following salt functions are called state.apply saltutil.sync modules saltutil.sync all before the introduction of state.apply it was state.highstate which is much clearer however if we can fix the loading process of modules so it can be automatically resynced reloaded it would be great too ### setup - custom modules stored in states modules ### steps to reproduce issue - update a custom module - run a specific state on the minion without saltutils.sync modules all first ### versions report root@haha # salt-call --versions-report salt version salt 2016.3.2 dependency versions cffi not installed cherrypy not installed dateutil 2.2 gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python not installed pycparser not installed pycrypto not installed pygit2 not installed python 2.7.9 default mar 1 2015 12 57 24 python-gnupg 0.3.6 pyyaml 3.11 pyzmq not installed raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq not installed system versions dist debian 8.5 machine x86 64 release 4.4.14-cloudflare system linux version debian 8.5	213
1390248	35423	ch3ll	2016-08-12T22:11:16.000Z	[blocker;;bug;;carbon;;core;;fixed pending verification;;medium severity;;needs testcase;;outputters;;p2;;regression;;team core]	stacktrace when running state.sls against an sls does not exist	10	### description of issue question ### setup when attempting to run state.sls and the state does not exist i am seeing teh following in the debug logs ch3ll@thecakeisalie sudo salt 02 state.sls doesnotexist -ldebug ... debug lazyloaded highstate.output error data passed to highstate outputter is not a valid highstate return ch3ll-minion02 no matching sls found for doesnotexist in env base debug traceback most recent call last file home ch3ll git salt salt output init .py line 39 in try printout return get printout out opts data .rstrip attributeerror nonetype object has no attribute rstrip debug lazyloaded nested.output ch3ll-minion02 - no matching sls found for doesnotexist in env base debug jid 20160812160340754435 found all minions set ch3ll-minion02 error minions returned with non-zero exit-code ### steps to reproduce issue 1 run salt state.sls doesnotexist just make sure the sls file does not exist in your file roots the first bad commit is 82a70e015fbab5decc4ba1176bd066fac0ffa6c2 ### versions report provided by running salt --versions-report . please also mention any differences in master minion versions root@ch3ll-cent7 salt # salt --versions-report salt version salt 2016.3.2 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.8 libgit2 not installed libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.8 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.5 default nov 20 2015 02 00 19 python-gnupg not installed pyyaml 3.10 pyzmq 15.4.0 raet not installed smmap not installed timelib not installed tornado 4.4.1 zmq 4.1.5 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.22.2.el7.x86 64 system linux version centos linux 7.2.1511 core	276
1644196	18073	dbeach24	2016-08-17T04:11:41.000Z	[intro issue;;up for grabs]	any and all functions broken for empty collections	8	julia raises an exception when invoking the any and all functions with empty collections in julia 0.5.0-rc2 i get a fresh approach to technical computing documentation http://docs.julialang.org _ _ _ type help for help version 0.5.0-pre+5606 2016-07-21 19 23 utc commit 5fe9e53 26 days old master x86 64-apple-darwin13.4.0 julia any error argumenterror reducing over an empty collection is not allowed in mapreduce base.#identity base.#or bool only base.linearfast array any 1 at . reduce.jl 148 in any array any 1 at . reduce.jl 365 in eval module any at . boot.jl 234 in macro expansion at . repl.jl 92 inlined in base.repl.##3#4 base.repl.replbackend at . event.jl 46 julia all error argumenterror reducing over an empty collection is not allowed in mapreduce base.#identity base.#and bool only base.linearfast array any 1 at . reduce.jl 148 in all array any 1 at . reduce.jl 366 in eval module any at . boot.jl 234 in macro expansion at . repl.jl 92 inlined in base.repl.##3#4 base.repl.replbackend at . event.jl 46 the behavior i would expect @assert any false @assert all true note that this behavior is generally useful in most logic-programming and matches python python 2.7.10 default sep 22 2015 12 25 10 type copyright credits or license for more information ipython 3.2.0 -- an enhanced interactive python - introduction and overview of ipython s features quickref - quick reference help - python s own help-system object - details about object use object for extra details in 1 any out 1 false in 2 all out 2 true	252
9852918	7212	pascalandy	2016-08-17T04:29:52.000Z	[bug;;fix wanted;;server]	glitch where does this title coming from	7	### issue summary i just upgraded to ghost 0.9 and this title ghost at wallisblog.firepress.org pop in in the banner loop page it is clearly generated by some logic img width 807 alt screenshot 2016-08-17 at 12 15 47 am src https://cloud.githubusercontent.com assets 6694151 17724569 311e6fac-6411-11e6-8791-0e9ac908d7a9.png also the blog title description is empty img width 789 alt screenshot 2016-08-17 at 12 15 54 am src https://cloud.githubusercontent.com assets 6694151 17724624 9f96993c-6411-11e6-8f7f-8886cf3c7909.png ### steps to reproduce ## ### technical details - ghost version 0.9 - node version v4.4.7 - browser os firefox safari and chrome mac 10.11.x - database pg	98
507775	20027	xyu	2016-08-17T14:54:46.000Z	[]	decay function docs incorrect confusing log vs ln	8	the function score docs https://www.elastic.co guide en elasticsearch reference current query-dsl-function-score-query.html# supported decay functions for how sigma and lambda are derived for the gauss and exp decay functions say they use as part of their equation log decay . this is confusing because these functions are really taking the natural-logarithm ln of decay not base 10 log i understand that java uses the log method https://docs.oracle.com javase 8 docs api java.lang math.html#log-double- to take the natural-logarithm and that the log10 method https://docs.oracle.com javase 8 docs api java.lang math.html#log10-double- is instead used for base 10 log however the equations in this doc are written with latex so i think they should therefore conform to commonly accepted math symbols ln rather then java method-names in this case	125
507775	20037	bkj	2016-08-17T22:06:24.000Z	[]	sort by bucket aggregation	4	elasticsearch version 2.2.1 plugins installed cloud-aws lang-javascript lang-python license marvel-agent jvm version java version 1.7.0 79 os version ubuntu 14.05 description of the problem including expected versus actual behavior i would expect to be able to sort on the bucket aggregation -- either i m making some silly syntax mistake or this is an errorr hi all -- i m trying to sort by the value of a bucket aggregation and having no luck the following query runs post my index search aggs name terms field user id size 10 aggs my avg bucket avg bucket buckets path my date-histogram count my date histogram date histogram field date interval month but this one fails post my index search aggs name terms field user id size 10 order aggs my avg bucket avg bucket buckets path my date-histogram count my date histogram date histogram field date interval month with error root cause type aggregation executionexception reason invalid term-aggregator order path my avg bucket.value . unknown aggregation my avg bucket type search phase executionexception reason all shards failed phase query grouped true failed shards shard 0 index my index node ydibzkneqrgi5y7ldod4pa reason type unchecked executionexception reason unchecked executionexception aggregationexecutionexception invalid term-aggregator order path my avg bucket.value . unknown aggregation my avg bucket caused by type aggregation executionexception reason invalid term-aggregator order path my avg bucket.value . unknown aggregation my avg bucket status 500 is this a bug or are we just not able to sort on bucket aggregations thanks ben	248
1644196	18114	pwl	2016-08-18T14:43:38.000Z	[]	rational powers and coversion	4	there is something wrong with rational powers julia bigfloat 2 bigfloat 1 bigfloat 3 -bigfloat 2 1 3 1.615949454734010502584703185359054123712092705937300412204179527347802183365638e-17 where there shouldn t be any difference 1 3 is of infinite precision . the issue comes from the definition https://github.com julialang julia blob master base rational.jl#l378-l379 of for rationals where convert is applied to the result of a division of two integers which is basically a float64 the result is then converted back to bigfloat julia t abstractfloat x t y rational x convert t y.num y.den t abstractfloat x complex t y rational x convert t y.num y.den redefining like this julia t abstractfloat x t y rational x convert t y.num convert t y.den t abstractfloat x complex t y rational x convert t y.num convert t y.den fixes the problem julia bigfloat 2 bigfloat 1 bigfloat 3 -bigfloat 2 1 3 0.000000000000000000000000000000000000000000000000000000000000000000000000000000 in summary convert doesn t commute with division nor with other similar operations and convert should be applied as early as possible directly to the integers in this case to avoid precision loss there might be more cases like this that i am not aware of edit this bug is new in 0.5 and it was introduced in #17530	204
1644196	18141	twadleigh	2016-08-19T13:46:25.000Z	[bug;;windows]	iterator over env leaves extra null terminator in values on windows	11	a truncated dump of env julia env base.envhash with 71 entries 0 allusersprofile c programdata 0 appdata c users hw9980 appdata roaming 0 commonprogramfiles c program-files common files 0 computername snc39466 0 comspec c windows system32 cmd.exe 0 chocolateyinstall c programdata chocolatey 0 chocolateylastpathupdate tue jul 19 11 05 47 2016 0 commonprogramfiles x86 c program-files x86 common-files 0 commonprogramw6432 c program files common-files 0	65
9852918	7235	kevinansfield	2016-08-19T14:19:21.000Z	[]	change default referrer policy to no-referrer-when-downgrade	6	after the discussions in #7060 and the implementation in #7088 we ve discovered that safari doesn t play well https://bugs.webkit.org show bug.cgi id 154588 with our default of origin-when-cross-origin therefore preventing services such as fonts.com and others which rely on the referrer information from working i suggest we change our default to no-referrer-when-downgrade which is the same as the default-browser policy this won t 100 cover the problem noted in #5522 as the referrer will still be lost when going from a https site to a http site but seeing as that s the default-browser policy put in place to prevent leaking private data across non-secured connections i think it ll be a good default the referrer tag is still configurable so if a blog owner wants to send the full referrer header out to all sites they can set it to unsafe-url or if they don t care about subscriber analytics put it back to origin which will always send the referrer header but only include the blog s domain-name rather than the full page url	177
1644196	18189	dpsanders	2016-08-22T19:53:12.000Z	[doc;;intro issue;;news]	add deprecation of @unix only etc to news	8	the deprecation of @unix only @osx etc should be added to news.md .	13
1390248	35695	hwdexperte	2016-08-23T13:23:15.000Z	[pending discussion]	tornado websockets event.data not valid json	6	### description of issue i m using tornado via websockets and want to catch-all occurring events the documentation https://docs.saltstack.com en latest ref netapi all salt.netapi.rest tornado.html#all-events the javascript example shows that i can access the event data via e.data . this gives me the event data as serialized json . but if i try to deserialize this string to a javascript object via json.parse e.data it gives me this error javascript e.data represents salt s real-time event data as serialized json socket.onmessage function e var eventdata json.parse e.data syntaxerror json.parse unexpected character at line 1 column 1 of the json data this is probably the case because the given data as string is not valid json this is the output of console.log e message ... data data tag salt job 000 new data tgt type glob jid 000 tgt - stamp 2016-08-23t13 15 30.287093 user root arg fun test.ping minions - ... as you can see the data attribute is a single string which begins with data ... and inside of this object there is valid json but as the previous mentioned error said json.parse could not read the starting data because it is not quoted like everything else ### steps to reproduce issue - set up salt-api with tornado - build an simple .html webpage that connects via websocket to the tornado api - paste code from above ### versions report salt version salt 2016.3.2 dependency versions cffi 0.8.6 cherrypy 3.5.0 dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed jinja2 2.7.3 libgit2 0.24.0 libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 0.24.0 python 2.7.9 default mar 1 2015 12 57 24 python-gnupg not installed pyyaml 3.11 pyzmq 14.4.0 raet not installed smmap 0.8.2 timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist debian 8.5 machine x86 64 release 3.16.0-4-amd64 system linux version debian 8.5	321
9852918	7251	acburdine	2016-08-23T15:55:24.000Z	[bug;;fix wanted;;server]	validation for incorrect password is incorrect when account is locked	10	### issue summary when intentionally spamming the signup screen there s a validation issue whenever you spam it too many times it counts down correctly from 4 attempts remaining down to 1 but if you enter it incorrectly one more time after that which locks your account instead of returning your account is locked it says your password is incorrect attempt remaining it s missing a number . this isn t really a security issue as the account locking still happens trying to enter the correct password after getting the validationmessage without a number of remaining attempts gets the your account is locked message but it is a bit odd ### steps to reproduce 1 setup blog and create account 2 keep trying to log in with a bad password until you get locked out 3 notice that on the last try you get the wrong message this is a server issue as looking at the server logs the validationmessage shown is being returned by the server ### technical details - ghost version master https://github.com tryghost ghost commit 6c199afedf50ea3c3d1ebd7f5781d540b16f45f3 - node version latest 4.x - browser os chrome 52 - database sqlite	192
1390248	35741	fix7	2016-08-24T17:41:01.000Z	[bug;;execution module;;high severity;;p3;;riot]	modjk use of auth credentials to access jk-status broken	9	### description of issue question access to a password protected jk web-api is currently broken credentials provided via grains pillars modjk default are misused please consider the attached fix modjk auth.patch.txt https://github.com saltstack salt files 435322 modjk auth.patch.txt ### versions report salt 2016.3.2 python 2.7.9	45
1644196	18231	ggggggggg	2016-08-24T21:23:50.000Z	[doc;;intro issue;;up for grabs]	performance annotation docs shows simd slows down code by 10x	10	at http://docs.julialang.org en latest manual performance-tips #performance-annotations the docs talk about performance annotations this section has a few confusing bits which i ll list in order of decreasing importance the timings from the @simd example show @simd slowing down the code by almost 10x gflop 1.9467069505224963 gflop simd 17.578554163920018 that seems like a poor result for something intended to speed up code the following example also confused me a few times despite clearly showing @fastmath speeding up code julia wave.jl elapsedtime 1.207814709 seconds 0 bytes allocated 4.443986180758243 julia --math-mode ieee wave.jl elapsedtime 4.487083643 seconds 0 bytes allocated 4.443986180758243 while scanning the documentation to re-read sections my eye was drawn the the results 4.44... rather than the timings this caused me to think that @fastmath had no effect on the timing until i slowed down to read it more carefully i think it would be worth changing the example somewhat so that the result and the slower time don t both start with the same number	165
507775	20149	mikemccand	2016-08-24T22:27:36.000Z	[:core;;adoptme;;enhancement;;low hanging fruit;;v5.0.0-beta1]	expose the new min hashing lsh filter	7	lucene 6.2.0 added locality sensitive hashing see https://issues.apache.org jira browse lucene-6968 for details we should expose this in elasticsearch	19
9852918	7266	erisds	2016-08-25T04:13:04.000Z	[]	downloading a large theme causes an error	7	when trying to download a theme with a lot of files e.g with a bunch of development-related files like node-modules i see the following error error stdout maxbuffer exceeded error stdout maxbuffer exceeded at socket anonymous child process.js 266 14 at emitone events.js 77 13 at socket.emit events.js 169 7 at readableaddchunk stream readable.js 153 18 at socket.readable.push stream readable.js 111 10 at pipe.onread net.js 536 20 ### steps to reproduce example file casper-with-nodemodules.zip https://github.com tryghost ghost files 436178 casper-with-nodemodules.zip 1 addthis theme to your content themes directory 2 attempt to download it	93
9852918	7267	erisds	2016-08-25T04:23:56.000Z	[]	theme uploader downloader assumes ownership of content themes	8	whilst playing around trying to understand the download bug #7266 i lost a zipfile that i didn t expect to lose ### steps to reproduce 1 create a new theme for testing purposes in content themes themename 2 compress that theme so you can test uploading it it should live at content themes themename.zip 3 uploading the theme 4 see the overwrite warning - cool ghost gets permission to overwrite my folder 5 after the theme is uploaded the zipfile you uploaded from is gone without permission i understand why this is happening that i m doing a weird thing by uploading a file from the same directory it s about to be uploaded to however the removal of the file is unexpected i think zip files that are uploaded need to be stored somewhere temporary and then deleted from the temporary location	143
507775	20155	jpountz	2016-08-25T07:21:14.000Z	[:crud;;blocker;;bug;;v5.0.0-beta1]	naming inconsistency field stored field	5	the search api has replaced fields with stored fields in the request but the response still uses fields . the get api still uses fields for both the request and the response relates #18943	34
1644196	18240	stefankarpinski	2016-08-25T15:17:01.000Z	[intro issue;;up for grabs]	@macroexpand macro	2	writing macroexpand @foo x y z is a bit of a mouthful but the expression passed to the macroexpand function needs to be quoted of course with a @macroexpand macro this could be less annoying @macroexpand @foo x y z	40
9852918	7277	erisds	2016-08-26T15:46:45.000Z	[bug;;importer]	importer no longer allows zip uploads	6	i think it is due to this change https://github.com tryghost ghost pull 7208 files#diff-198522c016d444fe14bb9882f7614d2dr240 the importer used to allow zip uploads but now only allows .json this prevents compressing larger .json files	32
9852918	7292	erisds	2016-08-30T18:07:49.000Z	[blocker;;bug]	bug theme import zip uploads do not work on windows	10	uploading a zipfile to either the theme uploader or the importer is not working on windows ### steps to reproduce 1 use windows any browser even chrome 2 try to upload a zipfile to the theme uploader this has been tracked down to an issue in ember but i also believe the application x-zip-compressed mimetype needs to be permitted in the validator as it is in the importer https://github.com tryghost ghost blob 663b410fd4f2f5960f6c600d2efea2edf3867ccd core server data-importer index.js#l28-l28 https://github.com tryghost ghost blob 587337aab365733a3a75abc105a43f307561f493 core server config index.js#l280-l280 ### technical details this has been confirmed on windows 7 8	97
507775	20293	russcam	2016-09-02T06:17:11.000Z	[:query dsl;;docs]	documentation for field masking span query	6	it looks like field masking span query https://github.com elastic elasticsearch issues 471 has been supported for a long time but remains undocumented https://www.elastic.co guide en elasticsearch reference master span-queries.html . it should be included in the documentation for the latest 1.x 2.x and 5.x releases	45
9852918	7313	kirrg001	2016-09-02T07:41:29.000Z	[bug;;server]	better theme name consistency	4	uploading theme names like abc 1 .zip results in a themes null response which causes ember to not show the popup do you wanne activate this theme - instead it still shows the upload popup the good thing is that the theme table gets refreshed it gets uploaded you can activate the theme use it and delete it because we are reading available themes from disk - so its not a serious bug anyway we need to add a bit of consistency naming love the storage adapter right now does a character-replacement see https://github.com tryghost ghost blob master core server storage base.js#l48 and the local-file-store then returns the path to the file in future thinking if we want to allow having custom-theme storage adapters we maybe cannot rely on the same response of the save function an option would be to call the storage adapter like this getfilename name and it normalises the name or we can normalise the name without the storage adapter in the upload logic anyway if ember wants to detect an existing theme it needs to either also normalise the name or the server returns a normalised name and the original uploaded name	197
1390248	36095	edgan	2016-09-06T22:47:08.000Z	[blocker;;bug;;carbon;;core;;fixed pending verification;;high severity;;p2;;pillar;;regression;;team core]	gitfs pillars with pygit2 fails	5	### description of issue question i am trying to use gitfs pygit2 pillars and salt 2016.9 i get the error below this works with 2016.3.2 2016-09-06 15 03 26 728 salt.utils.gitfs error 725 failed to checkout master from git pillar remote master git@git salt-pillars function object has no attribute startswith traceback most recent call last file usr lib python2.7 dist-packages salt utils gitfs.py line 1154 in checkout return self.check root file usr lib python2.7 dist-packages salt utils gitfs.py line 407 in check root root dir salt.utils.path join self.cachedir self.root .rstrip os.sep file usr lib python2.7 dist-packages salt utils init .py line 889 in path join parts os.path.normpath p for p in parts file usr lib python2.7 posixpath.py line 335 in normpath initial slashes path.startswith ### setup etc salt master failhard true state output changes log level trace reactor - minion start - etc salt reactor minion start.sls gitfs provider pygit2 fileserver backend - git ext pillar - git - master git@git salt-pillars - pubkey root .ssh id rsa.pub - privkey root .ssh id rsa gitfs remotes - git@github.com acme salt-formulas.git - pubkey root .ssh id rsa.pub - privkey root .ssh id rsa ### steps to reproduce issue 1 start master 2 start minion ### versions report 2016.9	207
9852918	7336	gergelyke	2016-09-07T08:20:48.000Z	[bug;;fix wanted]	update to 0.10.1 fails when using ghost as an npm module typeerror .topairs	13	### issue summary 2016-09-07t08 19 09.627945+00 00 app web.1 migrations creating database backup 2016-09-07t08 19 09.687236+00 00 app web.1 2016-09-07t08 19 09.687239+00 00 app web.1 error undefined is not a function 2016-09-07t08 19 09.687260+00 00 app web.1 at getsettingsresult app node-modules ghost core server api settings.js 357 44 2016-09-07t08 19 09.687281+00 00 app web.1 at trycatcher app node-modules ghost node-modules bluebird js release util.js 16 23 2016-09-07t08 19 09.687290+00 00 app web.1 at promise settlepromise app node-modules ghost node-modules bluebird js release promise.js 561 18 2016-09-07t08 19 09.687290+00 00 app web.1 at promise settlepromise0 app node-modules ghost node-modules bluebird js release promise.js 606 10 2016-09-07t08 19 09.687290+00 00 app web.1 at promise settlepromises app node-modules ghost node-modules bluebird js release promise.js 685 18 2016-09-07t08 19 09.687291+00 00 app web.1 at async drainqueue app node-modules ghost node-modules bluebird js release async.js 138 16 2016-09-07t08 19 09.756832+00 00 app web.1 at async drainqueue app node-modules ghost node-modules bluebird js release async.js 143 12 2016-09-07t08 19 09.756834+00 00 app web.1 at immediate.async.drainqueues app node-modules ghost node-modules bluebird js release async.js 17 14 2016-09-07t08 19 09.756837+00 00 app web.1 at immediate onimmediate app node-modules @risingstack trace node-modules continuation-local-storage node-modules async-listener glue.js 188 31 2016-09-07t08 19 09.757542+00 00 app web.1 at promise settlepromise app node-modules ghost node-modules bluebird js release promise.js 561 18 2016-09-07t08 19 09.757542+00 00 app web.1 at promise settlepromisectx app node-modules ghost node-modules bluebird js release promise.js 598 10 2016-09-07t08 19 09.757544+00 00 app web.1 at immediate.async.drainqueues app node-modules ghost node-modules bluebird js release async.js 17 14 ### steps to reproduce 1 update to ghost@0.10.1 ### technical details - ghost version 0.10.1 - node version 4.x - browser os alpine - database postgre	281
507775	20380	rayward	2016-09-08T04:19:24.000Z	[]	index.merge.scheduler.max thread count is not validated correctly can break indexing	10	elasticsearch version 2.3.4 2.4.0 plugins installed kopf jvm version version 1.8.0 102 vm name openjdk 64-bit server vm vm version 25.102-b14 vm vendor oracle corporation os version debian 8.5 linux 8e884c0e66a2 4.4.15-moby # 1 smp thu jul 28 22 03 07 utc 2016 x86 64 gnu linux description of the problem including expected versus actual behavior es arbitrarily accepts any integer for index.merge.scheduler.max thread count even if it exceeds internal limits which then causes various scheduled-tasks to throw exceptions and eventually break indexing steps to reproduce we experienced this on our production cluster but i was able to reproduce it using a couple of docker containers 1 create an index post test index number of shards 4 number of replicas 1 acknowledged true 2 update the max thread count put test index settings index.merge.scheduler.max thread count 12 acknowledged true 3 alternate creating documents ... post test index test type name bob index test index type test type id avch80xpyp3inmh6kful version 1 shards total 2 successful 2 failed 0 created true and optimizing the index to force a flush get test index optimize 4 this will shortly lead to translog failures post test index test type name bob error root cause type create failed engine exception reason create failed for test type#avch7buoyp3inmh6kft4 shard 3 index test index type create failed engine exception reason create failed for test type#avch7buoyp3inmh6kft4 shard 3 index test index caused by type already closed exception reason translog is already closed status 500 get test index optimize shards total 8 successful 2 failed 6 failures shard 3 index test index status internal-server-error reason type flush failed engine exception reason flush failed shard 3 index test index caused by type already closed exception reason translog is already closed provide logs if relevant the invalid max thread count causes all sorts of exceptions updating the index settings 2016-09-08 03 50 48 676 info index.shard abe brown test index 3 updating index.merge.scheduler.max thread count from 7 to 12 2016-09-08 03 50 48 677 warn index.settings abe brown test index failed to refresh settings for org.elasticsearch.index.shard.indexshard applyrefreshsettings@27098528 java.lang.illegalargumentexception maxthreadcount should be maxmergecount 7 at org.apache.lucene.index.concurrentmergescheduler.setmaxmergesandthreads concurrentmergescheduler.java 154 at org.elasticsearch.index.engine.elasticsearchconcurrentmergescheduler.refreshconfig elasticsearchconcurrentmergescheduler.java 176 at org.elasticsearch.index.engine.internalengine.onsettingschanged internalengine.java 1268 at org.elasticsearch.index.shard.indexshard applyrefreshsettings.onrefreshsettings indexshard.java 1325 at org.elasticsearch.index.settings.indexsettingsservice.refreshsettings indexsettingsservice.java 54 at org.elasticsearch.indices.cluster.indicesclusterstateservice.applysettings indicesclusterstateservice.java 341 at org.elasticsearch.indices.cluster.indicesclusterstateservice.clusterchanged indicesclusterstateservice.java 180 at org.elasticsearch.cluster.service.internalclusterservice.runtasksforexecutor internalclusterservice.java 610 at org.elasticsearch.cluster.service.internalclusterservice updatetask.run internalclusterservice.java 772 at org.elasticsearch.common.util.concurrent.prioritizedesthreadpoolexecutor tiebreakingprioritizedrunnable.runandclean prioritizedesthreadpoolexecutor.java 231 at org.elasticsearch.common.util.concurrent.prioritizedesthreadpoolexecutor tiebreakingprioritizedrunnable.run prioritizedesthreadpoolexecutor.java 194 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745 various errors seen while indexing and optimizing 2016-09-08 03 58 16 128 warn index.shard abe brown test index 3 failed to perform scheduled engine refresh java.lang.illegalargumentexception maxthreadcount should be maxmergecount 7 at org.apache.lucene.index.concurrentmergescheduler.setmaxmergesandthreads concurrentmergescheduler.java 154 at org.elasticsearch.index.engine.elasticsearchconcurrentmergescheduler.refreshconfig elasticsearchconcurrentmergescheduler.java 176 at org.elasticsearch.index.engine.internalengine.refresh internalengine.java 685 at org.elasticsearch.index.shard.indexshard.refresh indexshard.java 661 at org.elasticsearch.index.shard.indexshard enginerefresher 1.run indexshard.java 1343 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745 2016-09-08 03 58 36 218 warn indices.memory abe brown failed to set shard test index 1 index-buffer to 24.7mb org.apache.lucene.store.alreadyclosedexception translog 2 is already closed at org.elasticsearch.index.translog.translogwriter.ensureopen translogwriter.java 329 at org.elasticsearch.index.translog.bufferingtranslogwriter.updatebuffersize bufferingtranslogwriter.java 143 at org.elasticsearch.index.translog.translog.updatebuffer translog.java 406 at org.elasticsearch.index.shard.indexshard.updatebuffersize indexshard.java 1164 at org.elasticsearch.indices.memory.indexingmemorycontroller.updateshardbuffers indexingmemorycontroller.java 232 at org.elasticsearch.indices.memory.indexingmemorycontroller shardsindicesstatuschecker.run indexingmemorycontroller.java 286 at org.elasticsearch.threadpool.threadpool reschedulingrunnable.dorun threadpool.java 1057 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at org.elasticsearch.threadpool.threadpool loggingrunnable.run threadpool.java 668 at java.util.concurrent.executors runnableadapter.call executors.java 511 at java.util.concurrent.futuretask.run futuretask.java 266 at java.util.concurrent.scheduledthreadpoolexecutor scheduledfuturetask.access 201 scheduledthreadpoolexecutor.java 180 at java.util.concurrent.scheduledthreadpoolexecutor scheduledfuturetask.run scheduledthreadpoolexecutor.java 293 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745 2016-09-08 03 53 05 512 debug action.admin.indices.forcemerge abe brown indices admin optimize failed to execute operation for shard test index 1 node 6jc3weurqwiffvtn-twobw p v 3 s started a id fa-2ieiesai0wk2cselq0q test index test index 1 flushfailedengineexception flush failed nested illegalstateexception already committing a translog with generation 1 at org.elasticsearch.index.engine.internalengine.flush internalengine.java 762 at org.elasticsearch.index.engine.internalengine.forcemerge internalengine.java 863 at org.elasticsearch.index.shard.indexshard.forcemerge indexshard.java 793 at org.elasticsearch.action.admin.indices.forcemerge.transportforcemergeaction.shardoperation transportforcemergeaction.java 79 at org.elasticsearch.action.admin.indices.forcemerge.transportforcemergeaction.shardoperation transportforcemergeaction.java 46 at org.elasticsearch.action.support.broadcast.node.transportbroadcastbynodeaction broadcastbynodetransportrequesthandler.onshardoperation transportbroadcastbynodeaction.java 436 at org.elasticsearch.action.support.broadcast.node.transportbroadcastbynodeaction broadcastbynodetransportrequesthandler.messagereceived transportbroadcastbynodeaction.java 415 at org.elasticsearch.action.support.broadcast.node.transportbroadcastbynodeaction broadcastbynodetransportrequesthandler.messagereceived transportbroadcastbynodeaction.java 402 at org.elasticsearch.transport.transportrequesthandler.messagereceived transportrequesthandler.java 33 at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 77 at org.elasticsearch.transport.transportservice 4.dorun transportservice.java 376 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745 caused by java.lang.illegalstateexception already committing a translog with generation 1 at org.elasticsearch.index.translog.translog.preparecommit translog.java 1785 at org.elasticsearch.index.engine.internalengine.flush internalengine.java 753 ... 14 more 2016-09-08 03 59 27 335 warn rest.suppressed path test index test type params index test index type test type remotetransportexception abe brown 172.19.0.2 9300 indices data write index p nested createfailedengineexception create failed for test type#avch80pjyp3inmh6kfuk nested alreadyclosedexception translog is already closed caused by test index test index 1 createfailedengineexception create failed for test type#avch80pjyp3inmh6kfuk nested alreadyclosedexception translog is already closed at org.elasticsearch.index.engine.internalengine.create internalengine.java 351 at org.elasticsearch.index.shard.indexshard.create indexshard.java 545 at org.elasticsearch.index.engine.engine create.execute engine.java 810 at org.elasticsearch.action.index.transportindexaction.executeindexrequestonprimary transportindexaction.java 236 at org.elasticsearch.action.index.transportindexaction.shardoperationonprimary transportindexaction.java 157 at org.elasticsearch.action.index.transportindexaction.shardoperationonprimary transportindexaction.java 66 at org.elasticsearch.action.support.replication.transportreplicationaction primaryphase.dorun transportreplicationaction.java 648 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at org.elasticsearch.action.support.replication.transportreplicationaction primaryoperationtransporthandler.messagereceived transportreplicationaction.java 279 at org.elasticsearch.action.support.replication.transportreplicationaction primaryoperationtransporthandler.messagereceived transportreplicationaction.java 271 at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 77 at org.elasticsearch.transport.transportservice 4.dorun transportservice.java 376 at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 at java.lang.thread.run thread.java 745 caused by org.apache.lucene.store.alreadyclosedexception translog is already closed at org.elasticsearch.index.translog.translog.ensureopen translog.java 1888 at org.elasticsearch.index.translog.translog.add translog.java 544 at org.elasticsearch.index.engine.internalengine.innercreatenolock internalengine.java 437 at org.elasticsearch.index.engine.internalengine.innercreate internalengine.java 375 at org.elasticsearch.index.engine.internalengine.create internalengine.java 346 ... 15 more interestingly closing and reopening the index will restore things to working order with the configured thread count returning the max thread count to 1 shows that it has increased the thread count above what was previously set put test index settings index.merge.scheduler.max thread count 1 2016-09-08 04 14 22 483 info index.shard abe brown test index 1 updating index.merge.scheduler.max thread count from 17 to 1 2016-09-08 04 14 22 484 info index.shard abe brown test index 2 updating index.merge.scheduler.max thread count from 17 to 1 2016-09-08 04 14 22 484 info index.shard abe brown test index 3 updating index.merge.scheduler.max thread count from 17 to 1 2016-09-08 04 14 22 484 info index.shard abe brown test index 0 updating index.merge.scheduler.max thread count from 17 to 1	995
460078	15108	cxres	2016-09-08T12:13:36.000Z	[component: $compile;;frequency: low;;prs plz!;;severity: inconvenient;;type: bug]	directive template with comment throws multiple root element error because jqlite thinks whitespace after comment is a node	18	note for support questions please use one of these channels https://github.com angular angular.js blob master contributing.md#question this repository s issues are reserved for feature requests and bug reports do you want to request a feature or report a bug bug what is the current behavior if one tries to load a directive with a top-level comment angular throws an error error compile tplrt template for directive mydirective must have exactly one root element this happens because jqlite thinks that the whitespace between the comment node and html node is a textnode in the removecomments function before template invocation the texttemplate is converted into jqlite object where the array contains three objects comment text div . only the comment node gets removed and the presence of two remaining nodes throws this error i guess this should be fixed in jqlite but for now i have suggested a simple fix see below after the next question which versions of angular and which browser os are affected by this issue did this work in previous versions of angular please also test with the latest stable and snapshot https://code.angularjs.org snapshot versions using 1.5.8 in nwjs 0.16.1 on windows 10 other information e.g stacktraces related issues suggestions how to fix change the test in removecomments if node.nodetype node type comment to if node.nodetype node type comment node.nodetype node type text node.nodevalue.trim	226
9852918	7341	sebgie	2016-09-08T15:56:24.000Z	[blocker;;bug;;fix wanted]	empty sitemap.xml	2	### issue summary i see an issue with sitemap.xml not being generated every time it gets requested the issue is not really reproducible for failed requests ghost returns an empty response with status code 200 ### steps to reproduce 1 go to sitemap.xml 2 hope that it s empty ### technical details - ghost version 0.10.1 - node version 4.4.7 - browser os chrome - database mysql	67
1390248	36173	cro	2016-09-08T21:53:43.000Z	[blocker;;bug;;carbon;;fixed pending verification;;proxy minion;;riot;;team riot]	modules will not refresh for proxies in carbon	8	calling saltutil.refresh modules always returns false for proxies in carbon and modules grains are never refreshed	16
9852918	7350	erisds	2016-09-09T12:44:00.000Z	[blocker;;bug;;fix wanted;;themes]	theme cache-invalidation activation when replacing active theme	7	in ghost 0.10.0 we added the ability to upload and activate a theme inside of ghost as part of this we added some really nice logic to handle uploading a theme with the same name to make it easy to overwrite the currently active theme with minor modifications this is a key use-case on ghost pro . e.g if i have a custom-theme and i want to make a quick change i want to upload a new version of my theme zip with the same name and have it automatically overwrite the version that is there unfortunately this use-case doesn t quite work properly at the moment when replacing the currently active theme the files are replaced on the server and that s it meaning that the templates assets html don t refresh correctly the problem normally when a theme is activated two things happen 1 the update active theme middleware detects that there has been a change in theme based on the name and does things to reload the templates etc https://github.com tryghost ghost blob master core server middleware theme-handler.js#l92 2 a call to the settings api endpoint triggers a cache-invalidation making sure any cached html or assets are removed the fix here is going to need to be two-fold 1 we need to find a way to get the theme activation code to be called despite the name being the same 2 we need to trigger an api call to the settings endpoint or add cache-invalidation to the theme endpoint	252
8514	26441	synthead	2016-09-09T20:32:52.000Z	[activerecord]	nameerror uninitialized-constant activerecord connectionadapters databasestatements transactionmanager when calling reset transaction	10	saw this exception pop up i m not sure how or why it happened so i can t provide steps to reproduce it but i m happy to try anything to help 2016-09-09t18 12 08.225z 8 tid-ouaqkszjs warn nameerror uninitialized-constant activerecord connectionadapters databasestatements transactionmanager did you mean activerecord connectionadapters transactionmanager activerecord connectionadapters transaction activerecord connectionadapters transactionstate 2016-09-09t18 12 08.236z 8 tid-ouaqkszjs warn usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract database statements.rb 247 in reset transaction usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract database statements.rb 6 in initialize usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract query cache.rb 24 in initialize usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract adapter.rb 99 in initialize usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters postgresql adapter.rb 209 in initialize usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters postgresql adapter.rb 37 in new usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters postgresql adapter.rb 37 in postgresql connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 721 in new connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 765 in checkout new connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 744 in try to checkout new connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 705 in acquire connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 501 in checkout usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 364 in connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection adapters abstract connection pool.rb 875 in retrieve connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection handling.rb 128 in retrieve connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib activerecord connection handling.rb 91 in connection usr lib rubygems 2.3.0 gems activerecord-5.0.0.1 lib active-record-query cache.rb 47 in block in install executor hooks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 396 in instance exec usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 396 in block in make lambda usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 169 in block 2 levels in halting usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 547 in block 2 levels in default terminator usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 546 in catch usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 546 in block in default terminator usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 170 in block in halting usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 454 in block in call usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 454 in each usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 454 in call usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 101 in run callbacks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 750 in run complete callbacks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 90 in run callbacks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 107 in complete usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 64 in ensure in block in run usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 64 in block in run usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 58 in tap usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 58 in run usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport execution wrapper.rb 74 in wrap usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport reloader.rb 67 in wrap usr lib rubygems 2.3.0 gems activejob-5.0.0.1 lib active job railtie.rb 25 in block 3 levels in class railtie usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 391 in instance exec usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 391 in block in make lambda usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 285 in block in halting usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 447 in block in around usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 455 in call usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 101 in run callbacks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 750 in run execute callbacks usr lib rubygems 2.3.0 gems activesupport-5.0.0.1 lib activesupport callbacks.rb 90 in run callbacks usr lib rubygems 2.3.0 gems activejob-5.0.0.1 lib active job execution.rb 20 in execute usr lib rubygems 2.3.0 gems activejob-5.0.0.1 lib active job-queue adapters sidekiq adapter.rb 40 in perform usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 152 in execute job usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 134 in block 2 levels in process usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware chain.rb 128 in block in invoke usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware server active record.rb 6 in call usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware chain.rb 130 in block in invoke usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware server logging.rb 11 in block in call usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq logging.rb 32 in with context usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware server logging.rb 7 in call usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware chain.rb 130 in block in invoke usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq middleware chain.rb 133 in invoke usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 129 in block in process usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 168 in stats usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 128 in process usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 80 in process one usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq processor.rb 68 in run usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq util.rb 17 in watchdog usr lib rubygems 2.3.0 gems sidekiq-4.1.2 lib sidekiq util.rb 25 in block in safe thread something tells me that this line https://github.com rails rails blob b27acd0b69a093e1d9d91ddf52c9f6e1289e28e0 activerecord lib activerecord connection adapters abstract database statements.rb#l248 ... ruby def reset transaction # nodoc @transaction manager transactionmanager.new self end ...should probably be updated to... ruby def reset transaction # nodoc @transaction manager activerecord connectionadapters transactionmanager.new self end also it looks like the two https://github.com rails rails blob 3fc0bbf008f0e935ab56559f119c9ea8250bfddd activerecord test cases transactions test.rb#l659-l671 tests https://github.com rails rails blob 3fc0bbf008f0e935ab56559f119c9ea8250bfddd activerecord test cases transactions test.rb#l673-l685 actually call transactionmanager explicitly so i believe that the reset transaction method doesn t have a test to catch the above exception ruby def test transactions state from rollback connection topic.connection transaction activerecord connectionadapters transactionmanager.new connection .begin transaction assert transaction.open assert transaction.state.rolledback assert transaction.state.committed transaction.rollback assert transaction.state.rolledback assert transaction.state.committed end def test transactions state from commit connection topic.connection transaction activerecord connectionadapters transactionmanager.new connection .begin transaction assert transaction.open assert transaction.state.rolledback assert transaction.state.committed transaction.commit assert transaction.state.rolledback assert transaction.state.committed end ### system-configuration rails version 5.0.0.1 ruby version 2.3.1p112	1162
9852918	7352	acburdine	2016-09-10T04:07:51.000Z	[blocker;;bug;;server]	amp doesn t work when blog is in a subdirectory	10	### issue summary was reported in slack tested and verified that this is indeed a bug amp pages don t work when the blog is in a subdirectory a redirection occurs to the post slug without the subdirectory e.g visiting localhost 2368 blog welcome-to-ghost amp - localhost 2368 welcome-to-ghost ### steps to reproduce 1 setup ghost-blog in subdirectory 2 run ghost 3 go to any post add amp to end of url 4 observe a redirection and a subsequent cannot get url error ### technical details - ghost version 0.10.1 - node version 4.5.0 - browser os chrome 53 - database sqlite	102
507775	20467	markwalkom	2016-09-14T06:44:20.000Z	[:cat api;;adoptme;;enhancement]	provide an easier way to list templates	7	currently to get a list of the templates you have to call templates which then returns usually a large jsonresult you need to parse this isn t the easiest way to find out what exists when you want to do a quickcheck or help someone troubleshoot would be possible to add a cat template output that listed something like name index pattern ie the template value and the order so that users can quickly see what is in the cluster otherwise a template summary option that shows the same	89
507775	20470	francescoinfante	2016-09-14T09:34:14.000Z	[:search;;bug]	multi match with type phrase prefix query doesn t return all the results on the field all	17	elasticsearch version 2.4.0 plugins installed jvm version 1.8.0 91 os version os x 10.11.6 description of the problem including expected versus actual behavior when i try the following query multi match fields all query hel type phrase prefix it doesn t return documents that contains hel as prefix but only documents that contains hel as a token steps to reproduce 1 post cleanindex type field hello world 2 get cleanindex type search query multi match fields all query hel type phrase prefix - it doesn t return any document while i think it should 3 get cleanindex type search query multi match fields all query hello type phrase prefix - it returns the document	114
9852918	7388	marcuspoehls	2016-09-15T08:51:33.000Z	[blocker;;bug]	post scheduling doesn t work when running ghost on a path	11	### issue summary we re running ghost on a path futurestud.io tutorials https://futurestud.io tutorials and scheduling posts doesn t work because the url doesn t get resolved correctly we defined url http://futurestud.io blog in our config.js for the base-url and handle ssl using nginx ultimately the post scheduler resolves the base-url and scheduling url to https://futurestud.io blog blog ghost api v0.1 instead of https://futurestud.io blog ghost api v0.1 see the duplicated blog blog in the first url thanks for your help ### steps to reproduce 1 update your ghost instance to at least version 0.9 the first version shipping post scheduling 2 create a post and schedule it 3 see log output with put request from scheduler that should release the post on time 4 the log output contains the wrong url any other info e.g why do you consider this to be a bug what did you expect to happen instead ### technical details - ghost version 0.10.1 - node version 4.5.0 - browser os - - database mysql	170
1644196	18531	dmbates	2016-09-15T19:15:51.000Z	[doc;;docsystem]	inconsistency re fenced code designation in item 5 of documentation.rst	10	item 5 in the recommendations section says to use julia blocks in an examples section but the example following uses jldoctest not julia	23
507775	20513	breml	2016-09-15T20:21:22.000Z	[:index templates;;docs]	documentation comment elasticsearch indexing templates	5	describe the feature as of https://github.com elastic elasticsearch commit 6f7253c5242e7fb94d959ce291c88f93887e3bde elasticsearch does have support for c-style comments in indexing templates and mappings unfortunately this is nowhere documented in the api reference therefore i would like to file a pr which would addthis information to the documentation before i change the documentation i would like to ask which would be the best place to addthis information my suggestion would be to add a note in https://github.com elastic elasticsearch blob master docs reference indices templates.asciidoc what do you think	87
507775	20516	bargs	2016-09-15T21:52:20.000Z	[]	field stats returns server-error when index contains an ip field	10	-- github is reserved for bug reports and feature requests the best place to ask a general question is at the elastic discourse forums at https://discuss.elastic.co if you are in fact posting a bug report or a feature request please include one and only one of the below blocks in your new issue note that whether you re filing a bug report or a feature request ensure that your submission is for an os that we support https://www.elastic.co support matrix#show os . bug reports on an os that we do not support or feature requests specific to an os that we do not support will be closed -- -- if you are filing a bug report please remove the below feature request block and provide responses forall of the below items -- elasticsearch version 5.0-beta1 master plugins installed none jvm version java version 1.8.0 60 os version osx-elcapitan description of the problem including expected versus actual behavior field stats returns an internal-server-error when the request includes an ip field steps to reproduce 1 create an index with an ip field mapping put ip mappings ip properties ip type ip 2 add a simple source document post ip ip ip 192.168.1.1 3 issue a field stats request for that field and see the error get ip field stats fields ip response shards total 5 successful 4 failed 1 failures shard 1 index ip status internal-server-error reason type exception reason java.lang.illegalargumentexception encoded bytes are of incorrect length caused by type illegalargumentexception reason encoded bytes are of incorrect length caused by type unknown-host exception reason addr is of illegal length indices all fields provide logs if relevant debug - ip - action fieldstats - 1 node srkoa9nwqzejafbeamzoqq p s started a id vn9wp1hhsx2m1numaombsg failed to execute org.elasticsearch.action.fieldstats.fieldstatsrequest@7d8ef303 info - - - org.elasticsearch.transport.remotetransportexception srkoa9n 127.0.0.1 9300 indices data read field stats s info - - - caused by org.elasticsearch.elasticsearchexception java.lang.illegalargumentexception encoded bytes are of incorrect length info - - - at org.elasticsearch.exceptionshelper.converttoelastic exceptionshelper.java 55 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 204 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 57 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 300 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 296 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 69 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.transportservice 5.dorun transportservice.java 534 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.threadcontext contextpreservingabstractrunnable.dorun threadcontext.java 504 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 1.8.0 60 info - - - at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 1.8.0 60 info - - - at java.lang.thread.run thread.java 745 1.8.0 60 info - - - caused by java.lang.illegalargumentexception encoded bytes are of incorrect length info - - - at org.apache.lucene.document.inetaddresspoint.decode inetaddresspoint.java 187 lucene-sandbox-6.2.0.jar 6.2.0 764d0f19151dbff6f5fcd9fc4b2682cf934590c5 - mike - 2016-08-20 05 39 36 info - - - at org.elasticsearch.action.fieldstats.fieldstats.readfrom fieldstats.java 609 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.io.stream.streaminput.readoptionalwriteable streaminput.java 682 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.indices.indicesservice.getfieldstats indicesservice.java 1143 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 198 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 57 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 300 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 296 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 69 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.transportservice 5.dorun transportservice.java 534 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.threadcontext contextpreservingabstractrunnable.dorun threadcontext.java 504 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 1.8.0 60 info - - - at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 1.8.0 60 info - - - at java.lang.thread.run thread.java 745 1.8.0 60 info - - - caused by java.net.unknownhostexception addr is of illegal length info - - - at java.net.inetaddress.getbyaddress inetaddress.java 1042 1.8.0 60 info - - - at java.net.inetaddress.getbyaddress inetaddress.java 1439 1.8.0 60 info - - - at org.apache.lucene.document.inetaddresspoint.decode inetaddresspoint.java 184 lucene-sandbox-6.2.0.jar 6.2.0 764d0f19151dbff6f5fcd9fc4b2682cf934590c5 - mike - 2016-08-20 05 39 36 info - - - at org.elasticsearch.action.fieldstats.fieldstats.readfrom fieldstats.java 609 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.io.stream.streaminput.readoptionalwriteable streaminput.java 682 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.indices.indicesservice.getfieldstats indicesservice.java 1143 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 198 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.fieldstats.transportfieldstatsaction.shardoperation transportfieldstatsaction.java 57 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 300 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.action.support.broadcast.transportbroadcastaction shardtransporthandler.messagereceived transportbroadcastaction.java 296 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.requesthandlerregistry.processmessagereceived requesthandlerregistry.java 69 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.transport.transportservice 5.dorun transportservice.java 534 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.threadcontext contextpreservingabstractrunnable.dorun threadcontext.java 504 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at org.elasticsearch.common.util.concurrent.abstractrunnable.run abstractrunnable.java 37 elasticsearch-6.0.0-alpha1-snapshot.jar 6.0.0-alpha1-snapshot info - - - at java.util.concurrent.threadpoolexecutor.runworker threadpoolexecutor.java 1142 1.8.0 60 info - - - at java.util.concurrent.threadpoolexecutor worker.run threadpoolexecutor.java 617 1.8.0 60 info - - - at java.lang.thread.run thread.java 745 1.8.0 60	818
507775	20563	dadoonet	2016-09-19T16:52:36.000Z	[:plugin ingest geoip;;upgrade]	upgrade geoip2 to 2.8.0	4	as seen in https://github.com elastic elasticsearch issues 20559#issuecomment-248049166 version 2.8.0 has been released recently http://maxmind.github.io geoip2-java changelog says ## 2.8.0 2016-09-15 all changes included in 2.8.0-rc1 updated documentation to clarify what the accuracy radius refers to ## 2.8.0-rc1 2016-06-20 important java 7 is now required if you need java 6 support please continue using 2.7.0 or earlier this library no longer uses google-http-client it now directly uses apache httpclient webserviceclient now implements closeable a pool of connections will be kept alive to be used across requests to ensure all connections are closed when the object goes out of scope call close or use the try-with-resource statement as appropriate setting of a proxy for the webserviceclient is now supported by the proxy proxy builder method updated documentation to reflect that the accuracy radius is now included in city updated dependencies	139
1390248	36461	hwdexperte	2016-09-21T09:54:15.000Z	[bug;;core;;critical;;fixed pending verification;;p2;;team core]	attributeerror on salt-master after upgrading from 2016.3.2 to 2016.3.3	9	### description of issue after performing an apt-get dist-upgrade on my debian 8 salt master the installation via apt failed with this trace bash # apt-get dist-upgrade unpacking salt-cloud 2016.3.3+ds-1 over 2016.3.2+ds-1 ... unpacking salt-master 2016.3.3+ds-1 over 2016.3.2+ds-1 ... unpacking salt-common 2016.3.3+ds-1 over 2016.3.2+ds-1 ... ... setting up salt-common 2016.3.3+ds-1 ... setting up salt-cloud 2016.3.3+ds-1 ... setting up salt-master 2016.3.3+ds-1 ... job for salt-master.service failed see systemctl status salt-master.service and journalctl -xn for details invoke-rc.d initscript salt-master action start failed dpkg error processing package salt-master --configure subprocess installed post-installation script returned error exitstatus 1 dpkg dependency problems prevent configuration of salt-api salt-api depends on salt-master however package salt-master is not configured yet dpkg error processing package salt-api --configure dependency problems - leaving unconfigured errors were encountered while processing salt-master salt-api e sub-process usr bin dpkg returned an error-code 1 and systemctl status salt-master.service gives me the same output as cat var log salt master 2016-09-21 11 39 14 969 salt.log.setup error 596 an un-handled exception was caught by salt s global exceptionhandler attributeerror nonetype object has no attribute lower traceback most recent call last file usr bin salt-api line 8 in module salt api file usr lib python2.7 dist-packages salt scripts.py line 464 in salt api sapi.start file usr lib python2.7 dist-packages salt cli api.py line 79 in start super saltapi self .start file usr lib python2.7 dist-packages salt utils parsers.py line 941 in start self.prepare file usr lib python2.7 dist-packages salt cli api.py line 53 in prepare verify log self.config file usr lib python2.7 dist-packages salt utils verify.py line 523 in verify log level log levels.get opts.get log level .lower logging.notset attributeerror nonetype object has no attribute lower ### setup in my etc apt sources.list file there is this entry deb http://repo.saltstack.com apt debian latest jessie main ### steps to reproduce issue include the mentioned line in etc apt sources.list in your own file and execute an apt-get dist-upgrade from salt-masver version 2016.3.2 ### versions report salt version salt 2016.3.3 dependency versions cffi 0.8.6 cherrypy 3.5.0 dateutil 2.2 gitdb 0.5.4 gitpython 0.3.2 rc1 ioflo not installed jinja2 2.7.3 libgit2 0.24.0 libnacl not installed m2crypto not installed mako not installed msgpack-pure not installed msgpack-python 0.4.2 mysql-python 1.2.3 pycparser 2.10 pycrypto 2.6.1 pygit2 0.24.0 python 2.7.9 default jun 29 2016 13 08 31 python-gnupg not installed pyyaml 3.11 pyzmq 14.4.0 raet not installed smmap 0.8.2 timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist debian 8.6 machine x86 64 release 3.16.0-4-amd64 system linux version debian 8.6	416
9852918	7423	erisds	2016-09-21T16:19:03.000Z	[blocker;;bug;;themes]	theme overriding asset hash is not refreshed	7	issue #7350 identified two issues with theme overriding that weren t working properly unfortunately i ve found a 3rd the asset helper adds a queryparam and asset hash to the end of all assets allowing assets to be cached however when you override the currently active theme the assethash is not renewed meaning the assets are cached as the previous version overriding the theme needs to result in a new assethash due to the enormous and truly beautiful refactor of our config in ghost alpha we need 2 slightly different fixes for this - one for master and one for lts . i already have the fix located and tested for the lts branch the master fix should be nicer prs incoming	122
1390248	36549	pwhack	2016-09-24T01:35:01.000Z	[bug;;documentation;;fixed pending verification;;medium severity;;p4;;platform]	misleading and incorrect documentation for mount.mounted user argument	8	### description of issue question the mount.mounted state documentation https://docs.saltstack.com en latest ref states all salt.states.mount.html claims that the user argument is the user to own the mount this defaults to the user salt is running as on the minion this implies that the user given in that argument will own the mount but in fact the user argument controls which user executes the mount command though this can have the net result of that user owning the mount in some cases it leads to the problem of passed options causing errors because only root can specify mount options at least on centos7 . this results in failed state execution the documentation should be updated to state the user argument is the user the mount command runs as and that could restrict which arguments can also be specified along with the user argument i had hoped the mount command would be run as root so all the arguments worked then the state ensured the mountpoint was chown d to the user . bummer ### setup #### contents of nfs-test.sls app1-nfs-mnt mount.mounted - name srv appdata app1 - device 10.10.182.251 srv exports app1 - fstype nfs - opts vers 3 - persist true - mkmnt true - user tomcat ### steps to reproduce issue salt-call state.apply nfs-test saltenv dev -l debug info executing command mount -o vers 3 -t nfs 10.10.182.251 srv exports app1 srv appdata app1 as user tomcat in directory opt tomcat error command mount -o vers 3 -t nfs 10.10.182.251 srv exports app1 srv appdata app1 failed with return-code 1 error stderr mount only root can use --options option error retcode 1 ### versions report master salt version salt 2016.3.1 dependency versions cffi 0.8.6 cherrypy 3.2.2 dateutil not installed gitdb 0.6.4 gitpython not installed ioflo not installed jinja2 2.7.2 libgit2 0.21.0 libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser 2.14 pycrypto 2.6.1 pygit2 0.21.4 python 2.7.5 default nov 20 2015 02 00 19 python-gnupg not installed pyyaml 3.11 pyzmq 14.7.0 raet not installed smmap 0.9.0 timelib not installed tornado 4.2.1 zmq 4.0.5 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.22.2.el7.x86 64 system linux version centos linux 7.2.1511 core minion salt version salt 2016.3.2 dependency versions cffi not installed cherrypy not installed dateutil not installed gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.2 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.7 mysql-python not installed pycparser not installed pycrypto 2.6.1 pygit2 not installed python 2.7.5 default nov 20 2015 02 00 19 python-gnupg not installed pyyaml 3.11 pyzmq 15.3.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.1.4 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.22.2.el7.x86 64 system linux version centos linux 7.2.1511 core	474
507775	20651	bharvidixit	2016-09-24T20:09:52.000Z	[:search;;discuss;;pioneer program]	max score calculation issue with painless scripting	7	elasticsearch version elasticsearch-5.0.0-alpha5 plugins installed jvm version 1.8.0 72 os version ubuntu 15 description of the problem including expected versus actual behavior on a given sample of data sets and using function score query in combination of script score the max score is returned ad 1 image https://cloud.githubusercontent.com assets 10341430 18810897 9168e1d6-82bf-11e6-919a-929e6347f142.png steps to reproduce mapping and docs.zip https://github.com elastic elasticsearch files 491312 mapping and docs.zip 1 find attached zipfile which contains library.json mapping and books.json documents for indexing 2 create index curl -xput localhost 9200 library 3 put mapping curl -xput localhost 9200 library book mapping -d @library.json 4 index docs curl -xpost localhost 9200 bulk --data-binary @books.json 5 use following query for search get library book search query match all rescore query rescore query function score query match all script score script inline doc year .value lang painless source title available	143
1390248	36568	lkx007	2016-09-26T07:57:22.000Z	[bug;;fixed pending verification;;high severity;;p2;;platform;;team core]	cp.push remove source problem	4	### i can use cp.push properly like this root@localhost salt # salt worker cp.push root a worker true root@localhost salt # ### but when i add remove source error occurs as follows root@localhost salt # salt worker cp.push root a remove source true worker the minion function caused an exception traceback most recent call last file usr lib python2.7 site-packages salt minion.py line 1332 in thread return return data executor.execute file usr lib python2.7 site-packages salt executors direct call.py line 28 in execute return self.func self.args self.kwargs file usr lib python2.7 site-packages salt modules cp.py line 814 in push salt.utils.rm rf path file usr lib python2.7 site-packages salt utils init .py line 1870 in rm rf shutil.rmtree path onerror onerror file usr lib64 python2.7 shutil.py line 239 in rmtree onerror os.listdir path sys.exc info file usr lib64 python2.7 shutil.py line 237 in rmtree names os.listdir path oserror errno 20 not a directory root a root@localhost salt # ### versions report root@localhost salt # salt --versions-report salt version salt 2016.3.3 dependency versions cffi 1.7.0 cherrypy 3.2.2 dateutil 2.5.3 gitdb not installed gitpython not installed ioflo not installed jinja2 2.7.2 libgit2 not installed libnacl not installed m2crypto 0.21.1 mako not installed msgpack-pure not installed msgpack-python 0.4.8 mysql-python not installed pycparser 2.14 pycrypto 2.6.1 pygit2 not installed python 2.7.5 default aug 18 2016 15 58 25 python-gnupg not installed pyyaml 3.11 pyzmq 15.3.0 raet not installed smmap not installed timelib not installed tornado 4.2.1 zmq 4.1.4 system versions dist centos 7.2.1511 core machine x86 64 release 3.10.0-327.el7.x86 64 system linux version centos linux 7.2.1511 core root@localhost salt # ### can anyone helps me thanks a lot..	273
9852918	7480	vitaliemaldur	2016-10-03T20:01:13.000Z	[]	broken link in the contributing.md file	6	### issue summary there is a broken link in the contributing.md ### steps to reproduce 1 go to contributing.md https://github.com tryghost ghost blob master .github contributing.md 2 go to setup instructions https://github.com tryghost ghost blob master .github contributing.md#installation--setup-instructions 3 click on troubleshooting tips link ### technical details - ghost version latest - node version doesn t matter - browser os doesn t matter - database doesn t matter	68
507775	20781	pangyikhei	2016-10-06T16:06:32.000Z	[:highlighting;;pioneer program;;regression]	fast-vector-highlighter fails to highlight when using synonym analyzer in 5.0.0-beta1	10	-- github is reserved for bug reports and feature requests the best place to ask a general question is at the elastic discourse forums at https://discuss.elastic.co if you are in fact posting a bug report or a feature request please include one and only one of the below blocks in your new issue note that whether you re filing a bug report or a feature request ensure that your submission is for an os that we support https://www.elastic.co support matrix#show os . bug reports on an os that we do not support or feature requests specific to an os that we do not support will be closed -- -- if you are filing a bug report please remove the below feature request block and provide responses forall of the below items -- elasticsearch version 5.0.0-beta1 plugins installed analysis-icu ingest-attachment jvm version oraclejdk 1.8.0 101 os version windows 10 windows-server-2012 description of the problem including expected versus actual behavior actual behavior fast-vector-highlighter fails to highlight search results when using a synonym analyzer on the query in 5.0.0-beta1 forcing the use of the plain highlighter highlights the synonym match expected behavior fast-vector-highlighter should highlight the words as in 2.4.0 steps to reproduce 1 add mapping to index with english wordnet synonyms https://gist.github.com pangyikhei 27e4e0390533a0b6c2bc185ceb860276 2 add document put my index my type 1 my string the quick brown fox jumped over the lazy dog 3.. search for a word whether a synonym or not using the synonym analyzer get my index my type search query match my string query fast analyzer synonym highlight fields my string	264
9852918	7506	erisds	2016-10-06T17:07:45.000Z	[bug;;tests]	tests should not depend on ghostauth	6	the build for my pr #7504 failed with a bunch of retry errors for ghostauth that s because that service was temporarily turned off whilst some maintenance was performed it s under active dev . this flags up that we need to make sure it s not used by the tests the config for tests is set to auth type password however something is obviously wrong the full very long output from travis is here https://gist.github.com erisds 1727fd134f49d74f4f96406d3dd3e10b	78
1644196	18871	loorke	2016-10-11T11:49:15.000Z	[]	ssl error while cloning cache of dataframes	7	pkg.add dataframes fails other packages are installed normal please see the error message below julia version 0.6.0-dev.811 platform x86 64 linux julia pkg.add dataframes info cloning cache of dataframes from https://github.com juliastats dataframes.jl.git error cannot clone dataframes from https://github.com juliastats dataframes.jl.git ssl error ffffffff - unknown error-code 0001 in prefetch string string array string 1 at . pkg cache.jl 56 in resolve dict string base.pkg.types.versionset dict string dict versionnumber base.pkg.types.available dict string tuple versionnumber bool dict string base.pkg.types.fixed dict string versionnumber setstring at . pkg entry.jl 512 in resolve dict string base.pkg.types.versionset dict string dict versionnumber base.pkg.types.available dict string tuple versionnumber bool dict string base.pkg.types.fixed at . pkg entry.jl 476 in edit function string base.pkg.types.versionset vararg base.pkg.types.versionset n at . pkg entry.jl 30 in base.pkg.entry.##2#5 string base.pkg.types.versionset at . task.jl 363 in sync end at . task.jl 314 in macro expansion at . task.jl 330 inlined in add string base.pkg.types.versionset at . pkg entry.jl 50 in base.pkg.dir.##2#3 array any 1 base.pkg.entry.#add tuple string at . pkg dir.jl 31 in cd base.pkg.dir.##2#3 array any 1 base.pkg.entry.#add tuple string string at . file.jl 69 in #cd#1 array any 1 function function string vararg any n at . pkg dir.jl 31 in add string at . pkg pkg.jl 100	206
9852918	7580	kirrg001	2016-10-17T11:57:42.000Z	[bug;;server]	open client registration callbackurl redirect uri	6	open client registration at ghost.org happens when ghost bootstraps this client registration requires a callbackurl ghost.org will redirect to this url after granted authorization this works good but if you change your blog url and restart your blog open client registration won t happen again or won t update . so you are getting redirect uri mismatch error . ghost master	61
9852918	7628	kirrg001	2016-10-25T16:00:14.000Z	[admin-client;;server]	expose public endpoint for configuration	5	ghost exposes an endpoint to fetch configurations which is nice but this endpoint is private right now we would like to change that note only change the general endpoint configuration not the other specific ones note get rid of generating configurations inside the env- meta-tags remove these from rendering process - x implement at ghost - x adapt in ghost-admin	60
